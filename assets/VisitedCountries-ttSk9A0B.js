import{a as e,j as t}from"./react-BWFZKfll.js";import{a as f}from"./index-Dhl5OmEr.js";import{g as y}from"./userCountryService-D5NYuqGS.js";import{g as h}from"./countryService-jQlbHOkd.js";import{C as j}from"./CountryCard-CauQIdCr.js";import"./react-dom-B0g7UFVY.js";import"./scheduler-SPyfQU6S.js";import"./firebase-CGqC1wPX.js";import"./@firebase-T3z05RUZ.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./react-router-weGfgXep.js";import"./cookie--_YQFYBD.js";import"./axios-xsH4HHeE.js";const b=()=>{const[a,l]=e.useState([]),[u,n]=e.useState(!0),[o,m]=e.useState(null),r=f.currentUser;return e.useEffect(()=>{(async()=>{n(!0),m(null);try{if(r){const c=await y(r),d=(await h()).filter(s=>c.visited.includes(s.cca3));l(d.sort((s,p)=>s.name.common.localeCompare(p.name.common)))}}catch{m("Käytyjen maiden hakeminen epäonnistui.")}finally{n(!1)}})()},[r]),r?u?t.jsx("p",{children:"Ladataan käytyjä maita..."}):o?t.jsx("p",{style:{color:"red"},children:o}):t.jsxs("div",{className:"country-list-container",children:[t.jsx("h1",{children:"Käymäni maat"}),a.length===0?t.jsx("p",{children:"Et ole vielä merkinnyt käytyjä maita."}):t.jsx("div",{className:"country-grid",children:a.map(i=>t.jsx(j,{country:i},i.cca3))})]}):t.jsx("p",{children:"Kirjaudu sisään nähdäksesi käydyt maat."})};export{b as default};
