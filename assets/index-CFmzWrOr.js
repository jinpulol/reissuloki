(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var pm={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Tw(){if(Iv)return xl;Iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=t,xl.jsxs=t,xl}var Ov;function Sw(){return Ov||(Ov=1,pm.exports=Tw()),pm.exports}var G=Sw(),gm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Aw(){if(Dv)return Ie;Dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,L={};function D(N,ie,ue){this.props=N,this.context=ie,this.refs=L,this.updater=ue||x}D.prototype.isReactComponent={},D.prototype.setState=function(N,ie){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ie,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=D.prototype;function ne(N,ie,ue){this.props=N,this.context=ie,this.refs=L,this.updater=ue||x}var X=ne.prototype=new Q;X.constructor=ne,w(X,D.prototype),X.isPureReactComponent=!0;var ce=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function M(N,ie,ue,se,ge,Ne){return ue=Ne.ref,{$$typeof:i,type:N,key:ie,ref:ue!==void 0?ue:null,props:Ne}}function R(N,ie){return M(N.type,ie,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function P(N){var ie={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ue){return ie[ue]})}var k=/\/+/g;function z(N,ie){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):ie.toString(36)}function O(){}function Lt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(ie){N.status==="pending"&&(N.status="fulfilled",N.value=ie)},function(ie){N.status==="pending"&&(N.status="rejected",N.reason=ie)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function lt(N,ie,ue,se,ge){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Ne){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case i:case e:be=!0;break;case _:return be=N._init,lt(be(N._payload),ie,ue,se,ge)}}if(be)return ge=ge(N),be=se===""?"."+z(N,0):se,ce(ge)?(ue="",be!=null&&(ue=be.replace(k,"$&/")+"/"),lt(ge,ie,ue,"",function(Qn){return Qn})):ge!=null&&(C(ge)&&(ge=R(ge,ue+(ge.key==null||N&&N.key===ge.key?"":(""+ge.key).replace(k,"$&/")+"/")+be)),ie.push(ge)),1;be=0;var Dt=se===""?".":se+":";if(ce(N))for(var et=0;et<N.length;et++)se=N[et],Ne=Dt+z(se,et),be+=lt(se,ie,ue,Ne,ge);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(se=N.next()).done;)se=se.value,Ne=Dt+z(se,et++),be+=lt(se,ie,ue,Ne,ge);else if(Ne==="object"){if(typeof N.then=="function")return lt(Lt(N),ie,ue,se,ge);throw ie=String(N),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(N,ie,ue){if(N==null)return N;var se=[],ge=0;return lt(N,se,"","",function(Ne){return ie.call(ue,Ne,ge++)}),se}function le(N){if(N._status===-1){var ie=N._result;ie=ie(),ie.then(function(ue){(N._status===0||N._status===-1)&&(N._status=1,N._result=ue)},function(ue){(N._status===0||N._status===-1)&&(N._status=2,N._result=ue)}),N._status===-1&&(N._status=0,N._result=ie)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qe(){}return Ie.Children={map:W,forEach:function(N,ie,ue){W(N,function(){ie.apply(this,arguments)},ue)},count:function(N){var ie=0;return W(N,function(){ie++}),ie},toArray:function(N){return W(N,function(ie){return ie})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=D,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=ne,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ae.H.useMemoCache(N)}},Ie.cache=function(N){return function(){return N.apply(null,arguments)}},Ie.cloneElement=function(N,ie,ue){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=w({},N.props),ge=N.key,Ne=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(Ne=void 0),ie.key!==void 0&&(ge=""+ie.key),ie)!pe.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(se[be]=ie[be]);var be=arguments.length-2;if(be===1)se.children=ue;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];se.children=Dt}return M(N.type,ge,void 0,void 0,Ne,se)},Ie.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ie.createElement=function(N,ie,ue){var se,ge={},Ne=null;if(ie!=null)for(se in ie.key!==void 0&&(Ne=""+ie.key),ie)pe.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=ie[se]);var be=arguments.length-2;if(be===1)ge.children=ue;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];ge.children=Dt}if(N&&N.defaultProps)for(se in be=N.defaultProps,be)ge[se]===void 0&&(ge[se]=be[se]);return M(N,Ne,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=C,Ie.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:le}},Ie.memo=function(N,ie){return{$$typeof:g,type:N,compare:ie===void 0?null:ie}},Ie.startTransition=function(N){var ie=ae.T,ue={};ae.T=ue;try{var se=N(),ge=ae.S;ge!==null&&ge(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(qe,me)}catch(Ne){me(Ne)}finally{ae.T=ie}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(N){return ae.H.use(N)},Ie.useActionState=function(N,ie,ue){return ae.H.useActionState(N,ie,ue)},Ie.useCallback=function(N,ie){return ae.H.useCallback(N,ie)},Ie.useContext=function(N){return ae.H.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N,ie){return ae.H.useDeferredValue(N,ie)},Ie.useEffect=function(N,ie,ue){var se=ae.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,ie)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(N,ie,ue){return ae.H.useImperativeHandle(N,ie,ue)},Ie.useInsertionEffect=function(N,ie){return ae.H.useInsertionEffect(N,ie)},Ie.useLayoutEffect=function(N,ie){return ae.H.useLayoutEffect(N,ie)},Ie.useMemo=function(N,ie){return ae.H.useMemo(N,ie)},Ie.useOptimistic=function(N,ie){return ae.H.useOptimistic(N,ie)},Ie.useReducer=function(N,ie,ue){return ae.H.useReducer(N,ie,ue)},Ie.useRef=function(N){return ae.H.useRef(N)},Ie.useState=function(N){return ae.H.useState(N)},Ie.useSyncExternalStore=function(N,ie,ue){return ae.H.useSyncExternalStore(N,ie,ue)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.1.0",Ie}var Nv;function yp(){return Nv||(Nv=1,gm.exports=Aw()),gm.exports}var K=yp(),ym={exports:{}},Ml={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function bw(){return xv||(xv=1,function(i){function e(W,le){var me=W.length;W.push(le);e:for(;0<me;){var qe=me-1>>>1,N=W[qe];if(0<o(N,le))W[qe]=le,W[me]=N,me=qe;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],me=W.pop();if(me!==le){W[0]=me;e:for(var qe=0,N=W.length,ie=N>>>1;qe<ie;){var ue=2*(qe+1)-1,se=W[ue],ge=ue+1,Ne=W[ge];if(0>o(se,me))ge<N&&0>o(Ne,se)?(W[qe]=Ne,W[ge]=me,qe=ge):(W[qe]=se,W[ue]=me,qe=ue);else if(ge<N&&0>o(Ne,me))W[qe]=Ne,W[ge]=me,qe=ge;else break e}}return le}function o(W,le){var me=W.sortIndex-le.sortIndex;return me!==0?me:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,S=null,b=3,x=!1,w=!1,L=!1,D=!1,Q=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ce(W){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=W)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function ae(W){if(L=!1,ce(W),!w)if(t(p)!==null)w=!0,pe||(pe=!0,z());else{var le=t(g);le!==null&&lt(ae,le.startTime-W)}}var pe=!1,M=-1,R=5,C=-1;function P(){return D?!0:!(i.unstable_now()-C<R)}function k(){if(D=!1,pe){var W=i.unstable_now();C=W;var le=!0;try{e:{w=!1,L&&(L=!1,ne(M),M=-1),x=!0;var me=b;try{t:{for(ce(W),S=t(p);S!==null&&!(S.expirationTime>W&&P());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,b=S.priorityLevel;var N=qe(S.expirationTime<=W);if(W=i.unstable_now(),typeof N=="function"){S.callback=N,ce(W),le=!0;break t}S===t(p)&&s(p),ce(W)}else s(p);S=t(p)}if(S!==null)le=!0;else{var ie=t(g);ie!==null&&lt(ae,ie.startTime-W),le=!1}}break e}finally{S=null,b=me,x=!1}le=void 0}}finally{le?z():pe=!1}}}var z;if(typeof X=="function")z=function(){X(k)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Lt=O.port2;O.port1.onmessage=k,z=function(){Lt.postMessage(null)}}else z=function(){Q(k,0)};function lt(W,le){M=Q(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(W){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var me=b;b=le;try{return W()}finally{b=me}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=b;b=W;try{return le()}finally{b=me}},i.unstable_scheduleCallback=function(W,le,me){var qe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,W={id:_++,callback:le,priorityLevel:W,startTime:me,expirationTime:N,sortIndex:-1},me>qe?(W.sortIndex=me,e(g,W),t(p)===null&&W===t(g)&&(L?(ne(M),M=-1):L=!0,lt(ae,me-qe))):(W.sortIndex=N,e(p,W),w||x||(w=!0,pe||(pe=!0,z()))),W},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(W){var le=b;return function(){var me=b;b=le;try{return W.apply(this,arguments)}finally{b=me}}}}(vm)),vm}var Mv;function ww(){return Mv||(Mv=1,_m.exports=bw()),_m.exports}var Em={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Rw(){if(Pv)return Yt;Pv=1;var i=yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Yt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,S=m(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,S=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Vv;function Cw(){if(Vv)return Em.exports;Vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=Rw(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Iw(){if(kv)return Ml;kv=1;var i=ww(),e=yp(),t=Cw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function Lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case D:return"Profiler";case L:return"StrictMode";case ae:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case X:return(n.displayName||"Context")+".Provider";case ne:return(n._context.displayName||"Context")+".Consumer";case ce:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:Lt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Lt(n(r))}catch{}}return null}var lt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],N=-1;function ie(n){return{current:n}}function ue(n){0>N||(n.current=qe[N],qe[N]=null,N--)}function se(n,r){N++,qe[N]=n.current,n.current=r}var ge=ie(null),Ne=ie(null),be=ie(null),Dt=ie(null);function et(n,r){switch(se(be,r),se(Ne,n),se(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?nv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=nv(r),n=iv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ge),se(ge,n)}function Qn(){ue(ge),ue(Ne),ue(be)}function or(n){n.memoizedState!==null&&se(Dt,n);var r=ge.current,a=iv(r,n.type);r!==a&&(se(Ne,n),se(ge,a))}function Ai(n){Ne.current===n&&(ue(ge),ue(Ne)),Dt.current===n&&(ue(Dt),Cl._currentValue=me)}var is=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,bo=i.unstable_shouldYield,bu=i.unstable_requestPaint,bn=i.unstable_now,pf=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,ta=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,gf=i.unstable_LowPriority,na=i.unstable_IdlePriority,Ro=i.log,wu=i.unstable_setDisableYieldValue,ut=null,Ke=null;function dn(n){if(typeof Ro=="function"&&wu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ut,n)}catch{}}var Kt=Math.clz32?Math.clz32:os,Ru=Math.log,yf=Math.LN2;function os(n){return n>>>=0,n===0?32:31-(Ru(n)/yf|0)|0}var ls=256,us=4194304;function Un(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ia(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Un(l):(E&=T,E!==0?f=Un(E):a||(a=T&~n,a!==0&&(f=Un(a))))):(T=l&~d,T!==0?f=Un(T):E!==0?f=Un(E):a||(a=l&~n,a!==0&&(f=Un(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function cs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Co(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var n=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),n}function Oo(){var n=us;return us<<=1,(us&62914560)===0&&(us=4194304),n}function bi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function wi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Do(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,q=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Kt(a),ee=1<<J;T[J]=0,I[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var F=H[J];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&Yn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function Yn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Kt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function No(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Kt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function lr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ra(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ur(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Sv(n.type))}function Cu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var nt=Math.random().toString(36).slice(2),St="__reactFiber$"+nt,yt="__reactProps$"+nt,wn="__reactContainer$"+nt,xo="__reactEvents$"+nt,_f="__reactListeners$"+nt,cr="__reactHandles$"+nt,Iu="__reactResources$"+nt,hs="__reactMarker$"+nt;function hr(n){delete n[St],delete n[yt],delete n[xo],delete n[_f],delete n[cr]}function Ri(n){var r=n[St];if(r)return r;for(var a=n.parentNode;a;){if(r=a[wn]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=ov(n);n!==null;){if(a=n[St])return a;n=ov(n)}return r}n=a,a=n.parentNode}return null}function $n(n){if(n=n[St]||n[wn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Xn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[Iu];return r||(r=n[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[hs]=!0}var Mo=new Set,sa={};function zn(n,r){Ci(n,r),Ci(n+"Capture",r)}function Ci(n,r){for(sa[n]=r,n=0;n<r.length;n++)Mo.add(r[n])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},fs={};function Nu(n){return is.call(fs,n)?!0:is.call(Du,n)?!1:Ou.test(n)?fs[n]=!0:(Du[n]=!0,!1)}function fr(n,r,a){if(Nu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Wn(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ds,xu;function Ii(n){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+n+xu}var aa=!1;function oa(n,r){if(!n||aa)return"";aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var H=F}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(F){H=F}n.call(ee.prototype)}}else{try{throw Error()}catch(F){H=F}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var I=E.split(`
`),q=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===q.length)for(l=I.length-1,f=q.length-1;1<=l&&0<=f&&I[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==q[f]){var J=`
`+I[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{aa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ii(a):""}function Po(n){switch(n.tag){case 26:case 27:case 5:return Ii(n.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return oa(n.type,!1);case 11:return oa(n.type.render,!1);case 1:return oa(n.type,!0);case 31:return Ii("Activity");default:return""}}function la(n){try{var r="";do r+=Po(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vf(n){var r=Vo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ua(n){n._valueTracker||(n._valueTracker=vf(n))}function ko(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Vo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ms(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ef=/[\n"\\]/g;function _t(n){return n.replace(Ef,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?dr(n,E,tn(r)):a!=null?dr(n,E,tn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function ps(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function dr(n,r,a){r==="number"&&ms(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Oi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function gs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Lo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Mu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Mu(n,d,r[d])}function Uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(n){return Sf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Di=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ni=null,xi=null;function zo(n){var r=$n(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[yt]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&ko(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Oi(n,!!a.multiple,r,!1)}}}var Jn=!1;function Pu(n,r,a){if(Jn)return n(r,a);Jn=!0;try{var l=n(r);return l}finally{if(Jn=!1,(Ni!==null||xi!==null)&&(Cc(),Ni&&(r=Ni,n=xi,xi=Ni=null,zo(r),n)))for(r=0;r<n.length;r++)zo(n[r])}}function _s(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(jn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){In=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{In=!1}var Zn=null,mr=null,Mi=null;function jo(){if(Mi)return Mi;var n,r=mr,a=r.length,l,f="value"in Zn?Zn.value:Zn.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Mi=f.slice(n,1<l?1-l:void 0)}function ei(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ti(){return!0}function Bo(){return!1}function Nt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:Bo,this.isPropagationStopped=Bo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Nt(Fe),Es=_({},Fe,{view:0,detail:0}),Vu=Nt(Es),fa,da,ni,Ts=_({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ni&&(ni&&n.type==="mousemove"?(fa=n.screenX-ni.screenX,da=n.screenY-ni.screenY):da=fa=0,ni=n),fa)},movementY:function(n){return"movementY"in n?n.movementY:da}}),On=Nt(Ts),ku=_({},Ts,{dataTransfer:0}),Af=Nt(ku),Ss=_({},Es,{relatedTarget:0}),ma=Nt(Ss),qo=_({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Nt(qo),Lu=_({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ga=Nt(Lu),bf=_({},Fe,{data:0}),Ho=Nt(bf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=zu[n])?!!r[n]:!1}function bs(){return Fo}var ju=_({},Es,{key:function(n){if(n.key){var r=As[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ei(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(n){return n.type==="keypress"?ei(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ei(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ya=Nt(ju),Bu=_({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Nt(Bu),Pi=_({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),qu=Nt(Pi),Hu=_({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Nt(Hu),Gu=_({},Ts,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Nt(Gu),nn=_({},Fe,{newState:0,oldState:0}),Ku=Nt(nn),Qu=[9,13,27,32],ii=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,v=jn&&(!ii||c&&8<c&&11>=c),A=" ",j=!1;function Y(n,r){switch(n){case"keyup":return Qu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function At(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(j=!0,A);case"textInput":return n=r.data,n===A&&j?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!ii&&Y(n,r)?(n=jo(),Mi=mr=Zn=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!xt[n.type]:r==="textarea"}function Vi(n,r,a,l){Ni?xi?xi.push(l):xi=[l]:Ni=l,r=Mc(r,"onChange"),0<r.length&&(a=new ha("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,ri=null;function Ko(n){W_(n,0)}function Yu(n){var r=Xn(n);if(ko(r))return n}function _g(n,r){if(n==="change")return r}var vg=!1;if(jn){var wf;if(jn){var Rf="oninput"in document;if(!Rf){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Rf=typeof Eg.oninput=="function"}wf=Rf}else wf=!1;vg=wf&&(!document.documentMode||9<document.documentMode)}function Tg(){zt&&(zt.detachEvent("onpropertychange",Sg),ri=zt=null)}function Sg(n){if(n.propertyName==="value"&&Yu(ri)){var r=[];Vi(r,ri,n,Cn(n)),Pu(Ko,r)}}function WA(n,r,a){n==="focusin"?(Tg(),zt=r,ri=a,zt.attachEvent("onpropertychange",Sg)):n==="focusout"&&Tg()}function JA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yu(ri)}function ZA(n,r){if(n==="click")return Yu(r)}function eb(n,r){if(n==="input"||n==="change")return Yu(r)}function tb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:tb;function Qo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!is.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Ag(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bg(n,r){var a=Ag(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ag(a)}}function wg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Rg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ms(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ms(n.document)}return r}function Cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var nb=jn&&"documentMode"in document&&11>=document.documentMode,va=null,If=null,Yo=null,Of=!1;function Cg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||va==null||va!==ms(l)||(l=va,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Mc(If,"onSelect"),0<l.length&&(r=new ha("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=va)))}function ws(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ea={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Df={},Ig={};jn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Rs(n){if(Df[n])return Df[n];if(!Ea[n])return n;var r=Ea[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ig)return Df[n]=r[a];return n}var Og=Rs("animationend"),Dg=Rs("animationiteration"),Ng=Rs("animationstart"),ib=Rs("transitionrun"),rb=Rs("transitionstart"),sb=Rs("transitioncancel"),xg=Rs("transitionend"),Mg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Bn(n,r){Mg.set(n,r),zn(r,[n])}var Pg=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=Pg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:la(r)},Pg.set(n,r),r)}return{value:n,source:r,stack:la(r)}}var Nn=[],Ta=0,xf=0;function $u(){for(var n=Ta,r=xf=Ta=0;r<n;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Vg(a,f,d)}}function Xu(n,r,a,l){Nn[Ta++]=n,Nn[Ta++]=r,Nn[Ta++]=a,Nn[Ta++]=l,xf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Mf(n,r,a,l){return Xu(n,r,a,l),Wu(n)}function Sa(n,r){return Xu(n,null,null,r),Wu(n)}function Vg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Kt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Wu(n){if(50<vl)throw vl=0,zd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Aa={};function ab(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new ab(n,r,a,l)}function Pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ki(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function kg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ju(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Pf(n)&&(E=1);else if(typeof n=="string")E=lw(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=gn(31,a,r,f),n.elementType=C,n.lanes=d,n;case w:return Cs(a.children,f,d,r);case L:E=8,f|=24;break;case D:return n=gn(12,a,r,f|2),n.elementType=D,n.lanes=d,n;case ae:return n=gn(13,a,r,f),n.elementType=ae,n.lanes=d,n;case pe:return n=gn(19,a,r,f),n.elementType=pe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case X:E=10;break e;case ne:E=9;break e;case ce:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Cs(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function Vf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function kf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ba=[],wa=0,Zu=null,ec=0,xn=[],Mn=0,Is=null,Li=1,Ui="";function Os(n,r){ba[wa++]=ec,ba[wa++]=Zu,Zu=n,ec=r}function Lg(n,r,a){xn[Mn++]=Li,xn[Mn++]=Ui,xn[Mn++]=Is,Is=n;var l=Li;n=Ui;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var d=32-Kt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Li=1<<32-Kt(r)+f|a<<f|l,Ui=d+n}else Li=1<<d|a<<f|l,Ui=n}function Lf(n){n.return!==null&&(Os(n,1),Lg(n,1,0))}function Uf(n){for(;n===Zu;)Zu=ba[--wa],ba[wa]=null,ec=ba[--wa],ba[wa]=null;for(;n===Is;)Is=xn[--Mn],xn[Mn]=null,Ui=xn[--Mn],xn[Mn]=null,Li=xn[--Mn],xn[Mn]=null}var rn=null,ct=null,He=!1,Ds=null,si=!1,zf=Error(s(519));function Ns(n){var r=Error(s(418,""));throw Wo(Dn(r,n)),zf}function Ug(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[St]=n,r[yt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Pe(Tl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ua(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),gs(r,l.value,l.defaultValue,l.children),ua(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||tv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Ns(n)}function zg(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:rn=rn.return}}function $o(n){if(n!==rn)return!1;if(!He)return zg(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||tm(n.type,n.memoizedProps)),a=!a),a&&ct&&Ns(n),zg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ct=Hn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ct=null}}else r===27?(r=ct,Dr(n.type)?(n=sm,sm=null,ct=n):ct=r):ct=rn?Hn(n.stateNode.nextSibling):null;return!0}function Xo(){ct=rn=null,He=!1}function jg(){var n=Ds;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Ds=null),n}function Wo(n){Ds===null?Ds=[n]:Ds.push(n)}var jf=ie(null),xs=null,zi=null;function pr(n,r,a){se(jf,r._currentValue),r._currentValue=a}function ji(n){n._currentValue=jf.current,ue(jf)}function Bf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function qf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Bf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Bf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Jo(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Cl):n=[Cl])}f=f.return}n!==null&&qf(r,n,a,l),r.flags|=262144}function tc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ms(n){xs=n,zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return Bg(xs,n)}function nc(n,r){return xs===null&&Ms(n),Bg(n,r)}function Bg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(n===null)throw Error(s(308));zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else zi=zi.next=r;return a}var ob=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},lb=i.unstable_scheduleCallback,ub=i.unstable_NormalPriority,wt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new ob,data:new Map,refCount:0}}function Zo(n){n.refCount--,n.refCount===0&&lb(ub,function(){n.controller.abort()})}var el=null,Ff=0,Ra=0,Ca=null;function cb(n,r){if(el===null){var a=el=[];Ff=0,Ra=Kd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(qg,qg),r}function qg(){if(--Ff===0&&el!==null){Ca!==null&&(Ca.status="fulfilled");var n=el;el=null,Ra=0,Ca=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function hb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Hg=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&cb(n,r),Hg!==null&&Hg(n,r)};var Ps=ie(null);function Gf(){var n=Ps.current;return n!==null?n:tt.pooledCache}function ic(n,r){r===null?se(Ps,Ps.current):se(Ps,r.pool)}function Fg(){var n=Gf();return n===null?null:{parent:wt._currentValue,pool:n}}var tl=Error(s(460)),Gg=Error(s(474)),rc=Error(s(542)),Kf={then:function(){}};function Kg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sc(){}function Qg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(sc,sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$g(n),n;default:if(typeof r.status=="string")r.then(sc,sc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$g(n),n}throw nl=r,tl}}var nl=null;function Yg(){if(nl===null)throw Error(s(459));var n=nl;return nl=null,n}function $g(n){if(n===tl||n===rc)throw Error(s(483))}var gr=!1;function Qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function yr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function _r(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Wu(n),Vg(n,null,a),r}return Xu(n,l,r,a),Wu(n)}function il(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,No(n,a)}}function $f(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Xf=!1;function rl(){if(Xf){var n=Ca;if(n!==null)throw n}}function sl(n,r,a,l){Xf=!1;var f=n.updateQueue;gr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,q=I.next;I.next=null,E===null?d=q:E.next=q,E=I;var J=n.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=I))}if(d!==null){var ee=f.baseState;E=0,J=q=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(ze&H)===H:(l&H)===H){H!==0&&H===Ra&&(Xf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,_e=T;H=r;var Je=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){ee=Se.call(Je,ee,H);break e}ee=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,H=typeof Se=="function"?Se.call(Je,ee,H):Se,H==null)break e;ee=_({},ee,H);break e;case 2:gr=!0}}H=T.callback,H!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=F,I=ee):J=J.next=F,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);J===null&&(I=ee),f.baseState=I,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Rr|=E,n.lanes=E,n.memoizedState=ee}}function Xg(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Wg(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Xg(a[n],r)}var Ia=ie(null),ac=ie(0);function Jg(n,r){n=Qi,se(ac,n),se(Ia,r),Qi=n|r.baseLanes}function Wf(){se(ac,Qi),se(Ia,Ia.current)}function Jf(){Qi=ac.current,ue(Ia),ue(ac)}var vr=0,Oe=null,Xe=null,vt=null,oc=!1,Oa=!1,Vs=!1,lc=0,al=0,Da=null,fb=0;function mt(){throw Error(s(321))}function Zf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function ed(n,r,a,l,f,d){return vr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Vy:ky,Vs=!1,d=a(l,f),Vs=!1,Oa&&(d=ey(r,a,l,f)),Zg(n),d}function Zg(n){W.H=mc;var r=Xe!==null&&Xe.next!==null;if(vr=0,vt=Xe=Oe=null,oc=!1,al=0,Da=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&tc(n)&&(Mt=!0))}function ey(n,r,a,l){Oe=n;var f=0;do{if(Oa&&(Da=null),al=0,Oa=!1,25<=f)throw Error(s(301));if(f+=1,vt=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=vb,d=r(a,l)}while(Oa);return d}function db(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?ol(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Oe.flags|=1024),r}function td(){var n=lc!==0;return lc=0,n}function nd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function id(n){if(oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oc=!1}vr=0,vt=Xe=Oe=null,Oa=!1,al=lc=0,Da=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Oe.memoizedState=vt=n:vt=vt.next=n,vt}function Et(){if(Xe===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=vt===null?Oe.memoizedState:vt.next;if(r!==null)vt=r,Xe=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Oe.memoizedState=vt=n:vt=vt.next=n}return vt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(n){var r=al;return al+=1,Da===null&&(Da=[]),n=Qg(Da,n,r),r=Oe,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Vy:ky),n}function uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ol(n);if(n.$$typeof===X)return Qt(n)}throw Error(s(438,String(n)))}function sd(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function Bi(n,r){return typeof r=="function"?r(n):r}function cc(n){var r=Et();return ad(r,Xe,n)}function ad(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,I=null,q=r,J=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(ze&ee)===ee:(vr&ee)===ee){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Ra&&(J=!0);else if((vr&H)===H){q=q.next,H===Ra&&(J=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=ee,E=d):I=I.next=ee,Oe.lanes|=H,Rr|=H;ee=q.action,Vs&&a(d,ee),d=q.hasEagerState?q.eagerState:a(d,ee)}else H={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,E=d):I=I.next=H,Oe.lanes|=ee,Rr|=ee;q=q.next}while(q!==null&&q!==r);if(I===null?E=d:I.next=T,!pn(d,n.memoizedState)&&(Mt=!0,J&&(a=Ca,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function od(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);pn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(n,r,a){var l=Oe,f=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Mt=!0),f=f.queue;var T=ry.bind(null,l,f,n);if(ll(2048,8,T,[n]),f.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Na(9,hc(),iy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(vr&124)!==0||ny(l,r,a)}return a}function ny(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=rd(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function iy(n,r,a,l){r.value=a,r.getSnapshot=l,sy(r)&&ay(n)}function ry(n,r,a){return a(function(){sy(r)&&ay(n)})}function sy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function ay(n){var r=Sa(n,2);r!==null&&Tn(r,n,2)}function ld(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Vs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:n},r}function oy(n,r,a,l){return n.baseState=a,ad(n,Xe,typeof l=="function"?l:Bi)}function mb(n,r,a,l,f){if(dc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ly(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ly(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=W.T,E={};W.T=E;try{var T=a(f,l),I=W.S;I!==null&&I(E,T),uy(n,r,T)}catch(q){ud(n,r,q)}finally{W.T=d}}else try{d=a(f,l),uy(n,r,d)}catch(q){ud(n,r,q)}}function uy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(n,r,l)},function(l){return ud(n,r,l)}):cy(n,r,a)}function cy(n,r,a){r.status="fulfilled",r.value=a,hy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,ly(n,a)))}function ud(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,hy(r),r=r.next;while(r!==l)}n.action=null}function hy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function fy(n,r){return r}function dy(n,r){if(He){var a=tt.formState;if(a!==null){e:{var l=Oe;if(He){if(ct){t:{for(var f=ct,d=si;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ct=Hn(f.nextSibling),l=f.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:r},a.queue=l,a=xy.bind(null,Oe,l),l.dispatch=a,l=ld(!1),d=md.bind(null,Oe,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=mb.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function my(n){var r=Et();return py(r,Xe,n)}function py(n,r,a){if(r=ad(n,r,fy)[0],n=cc(Bi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(E){throw E===tl?rc:E}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Na(9,hc(),pb.bind(null,f,a),null)),[l,d,n]}function pb(n,r){n.action=r}function gy(n){var r=Et(),a=Xe;if(a!==null)return py(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Na(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=rd(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function hc(){return{destroy:void 0,resource:void 0}}function yy(){return Et().memoizedState}function fc(n,r,a,l){var f=an();l=l===void 0?null:l,Oe.flags|=n,f.memoizedState=Na(1|r,hc(),a,l)}function ll(n,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Zf(l,Xe.memoizedState.deps)?f.memoizedState=Na(r,d,a,l):(Oe.flags|=n,f.memoizedState=Na(1|r,d,a,l))}function _y(n,r){fc(8390656,8,n,r)}function vy(n,r){ll(2048,8,n,r)}function Ey(n,r){return ll(4,2,n,r)}function Ty(n,r){return ll(4,4,n,r)}function Sy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ay(n,r,a){a=a!=null?a.concat([n]):null,ll(4,4,Sy.bind(null,r,n),a)}function cd(){}function by(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function wy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=n(),Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function hd(n,r,a){return a===void 0||(vr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=I_(),Oe.lanes|=n,Rr|=n,a)}function Ry(n,r,a,l){return pn(a,r)?a:Ia.current!==null?(n=hd(n,a,l),pn(n,r)||(Mt=!0),n):(vr&42)===0?(Mt=!0,n.memoizedState=a):(n=I_(),Oe.lanes|=n,Rr|=n,r)}function Cy(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var E=W.T,T={};W.T=T,md(n,!1,r,a);try{var I=f(),q=W.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=hb(I,l);ul(n,r,J,En(n))}else ul(n,r,l,En(n))}catch(ee){ul(n,r,{then:function(){},status:"rejected",reason:ee},En())}finally{le.p=d,W.T=E}}function gb(){}function fd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Iy(n).queue;Cy(n,f,r,me,a===null?gb:function(){return Oy(n),a(l)})}function Iy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Oy(n){var r=Iy(n).next.queue;ul(n,r,{},En())}function dd(){return Qt(Cl)}function Dy(){return Et().memoizedState}function Ny(){return Et().memoizedState}function yb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=yr(a);var l=_r(r,n,a);l!==null&&(Tn(l,r,a),il(l,r,a)),r={cache:Hf()},n.payload=r;return}r=r.return}}function _b(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(n)?My(r,a):(a=Mf(n,r,a,l),a!==null&&(Tn(a,n,l),Py(a,r,l)))}function xy(n,r,a){var l=En();ul(n,r,a,l)}function ul(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(n))My(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,E))return Xu(n,r,f,0),tt===null&&$u(),!1}catch{}finally{}if(a=Mf(n,r,f,l),a!==null)return Tn(a,n,l),Py(a,r,l),!0}return!1}function md(n,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(n)){if(r)throw Error(s(479))}else r=Mf(n,a,l,2),r!==null&&Tn(r,n,2)}function dc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function My(n,r){Oa=oc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Py(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,No(n,a)}}var mc={readContext:Qt,use:uc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Vy={readContext:Qt,use:uc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:_y,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,fc(4194308,4,Sy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return fc(4194308,4,n,r)},useInsertionEffect:function(n,r){fc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Vs){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Vs){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=_b.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=ld(n);var r=n.queue,a=xy.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(n,r){var a=an();return hd(a,n,r)},useTransition:function(){var n=ld(!1);return n=Cy.bind(null,Oe,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,f=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(ze&124)!==0||ny(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,_y(ry.bind(null,l,d,n),[n]),l.flags|=2048,Na(9,hc(),iy.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=tt.identifierPrefix;if(He){var a=Ui,l=Li;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=fb++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:dd,useFormState:dy,useActionState:dy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:sd,useCacheRefresh:function(){return an().memoizedState=yb.bind(null,Oe)}},ky={readContext:Qt,use:uc,useCallback:by,useContext:Qt,useEffect:vy,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:cc,useRef:yy,useState:function(){return cc(Bi)},useDebugValue:cd,useDeferredValue:function(n,r){var a=Et();return Ry(a,Xe.memoizedState,n,r)},useTransition:function(){var n=cc(Bi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ol(n),r]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:dd,useFormState:my,useActionState:my,useOptimistic:function(n,r){var a=Et();return oy(a,Xe,n,r)},useMemoCache:sd,useCacheRefresh:Ny},vb={readContext:Qt,use:uc,useCallback:by,useContext:Qt,useEffect:vy,useImperativeHandle:Ay,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:od,useRef:yy,useState:function(){return od(Bi)},useDebugValue:cd,useDeferredValue:function(n,r){var a=Et();return Xe===null?hd(a,n,r):Ry(a,Xe.memoizedState,n,r)},useTransition:function(){var n=od(Bi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:ol(n),r]},useSyncExternalStore:ty,useId:Dy,useHostTransitionStatus:dd,useFormState:gy,useActionState:gy,useOptimistic:function(n,r){var a=Et();return Xe!==null?oy(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:Ny},xa=null,cl=0;function pc(n){var r=cl;return cl+=1,xa===null&&(xa=[]),Qg(xa,n,r)}function hl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function gc(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ly(n){var r=n._init;return r(n._payload)}function Uy(n){function r(U,V){if(n){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!n)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=ki(U,V),U.index=0,U.sibling=null,U}function d(U,V,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function E(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,B,Z){return V===null||V.tag!==6?(V=Vf(B,U.mode,Z),V.return=U,V):(V=f(V,B),V.return=U,V)}function I(U,V,B,Z){var fe=B.type;return fe===w?J(U,V,B.props.children,Z,B.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ly(fe)===V.type)?(V=f(V,B.props),hl(V,B),V.return=U,V):(V=Ju(B.type,B.key,B.props,null,U.mode,Z),hl(V,B),V.return=U,V)}function q(U,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=kf(B,U.mode,Z),V.return=U,V):(V=f(V,B.children||[]),V.return=U,V)}function J(U,V,B,Z,fe){return V===null||V.tag!==7?(V=Cs(B,U.mode,Z,fe),V.return=U,V):(V=f(V,B),V.return=U,V)}function ee(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vf(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return B=Ju(V.type,V.key,V.props,null,U.mode,B),hl(B,V),B.return=U,B;case x:return V=kf(V,U.mode,B),V.return=U,V;case R:var Z=V._init;return V=Z(V._payload),ee(U,V,B)}if(lt(V)||z(V))return V=Cs(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return ee(U,pc(V),B);if(V.$$typeof===X)return ee(U,nc(U,V),B);gc(U,V)}return null}function H(U,V,B,Z){var fe=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(U,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===fe?I(U,V,B,Z):null;case x:return B.key===fe?q(U,V,B,Z):null;case R:return fe=B._init,B=fe(B._payload),H(U,V,B,Z)}if(lt(B)||z(B))return fe!==null?null:J(U,V,B,Z,null);if(typeof B.then=="function")return H(U,V,pc(B),Z);if(B.$$typeof===X)return H(U,V,nc(U,B),Z);gc(U,B)}return null}function F(U,V,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,T(V,U,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return U=U.get(Z.key===null?B:Z.key)||null,I(V,U,Z,fe);case x:return U=U.get(Z.key===null?B:Z.key)||null,q(V,U,Z,fe);case R:var xe=Z._init;return Z=xe(Z._payload),F(U,V,B,Z,fe)}if(lt(Z)||z(Z))return U=U.get(B)||null,J(V,U,Z,fe,null);if(typeof Z.then=="function")return F(U,V,B,pc(Z),fe);if(Z.$$typeof===X)return F(U,V,B,nc(V,Z),fe);gc(V,Z)}return null}function Se(U,V,B,Z){for(var fe=null,xe=null,de=V,Ee=V=0,Vt=null;de!==null&&Ee<B.length;Ee++){de.index>Ee?(Vt=de,de=null):Vt=de.sibling;var Be=H(U,de,B[Ee],Z);if(Be===null){de===null&&(de=Vt);break}n&&de&&Be.alternate===null&&r(U,de),V=d(Be,V,Ee),xe===null?fe=Be:xe.sibling=Be,xe=Be,de=Vt}if(Ee===B.length)return a(U,de),He&&Os(U,Ee),fe;if(de===null){for(;Ee<B.length;Ee++)de=ee(U,B[Ee],Z),de!==null&&(V=d(de,V,Ee),xe===null?fe=de:xe.sibling=de,xe=de);return He&&Os(U,Ee),fe}for(de=l(de);Ee<B.length;Ee++)Vt=F(de,U,Ee,B[Ee],Z),Vt!==null&&(n&&Vt.alternate!==null&&de.delete(Vt.key===null?Ee:Vt.key),V=d(Vt,V,Ee),xe===null?fe=Vt:xe.sibling=Vt,xe=Vt);return n&&de.forEach(function(Vr){return r(U,Vr)}),He&&Os(U,Ee),fe}function _e(U,V,B,Z){if(B==null)throw Error(s(151));for(var fe=null,xe=null,de=V,Ee=V=0,Vt=null,Be=B.next();de!==null&&!Be.done;Ee++,Be=B.next()){de.index>Ee?(Vt=de,de=null):Vt=de.sibling;var Vr=H(U,de,Be.value,Z);if(Vr===null){de===null&&(de=Vt);break}n&&de&&Vr.alternate===null&&r(U,de),V=d(Vr,V,Ee),xe===null?fe=Vr:xe.sibling=Vr,xe=Vr,de=Vt}if(Be.done)return a(U,de),He&&Os(U,Ee),fe;if(de===null){for(;!Be.done;Ee++,Be=B.next())Be=ee(U,Be.value,Z),Be!==null&&(V=d(Be,V,Ee),xe===null?fe=Be:xe.sibling=Be,xe=Be);return He&&Os(U,Ee),fe}for(de=l(de);!Be.done;Ee++,Be=B.next())Be=F(de,U,Ee,Be.value,Z),Be!==null&&(n&&Be.alternate!==null&&de.delete(Be.key===null?Ee:Be.key),V=d(Be,V,Ee),xe===null?fe=Be:xe.sibling=Be,xe=Be);return n&&de.forEach(function(Ew){return r(U,Ew)}),He&&Os(U,Ee),fe}function Je(U,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===w&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var fe=B.key;V!==null;){if(V.key===fe){if(fe=B.type,fe===w){if(V.tag===7){a(U,V.sibling),Z=f(V,B.props.children),Z.return=U,U=Z;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ly(fe)===V.type){a(U,V.sibling),Z=f(V,B.props),hl(Z,B),Z.return=U,U=Z;break e}a(U,V);break}else r(U,V);V=V.sibling}B.type===w?(Z=Cs(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=Ju(B.type,B.key,B.props,null,U.mode,Z),hl(Z,B),Z.return=U,U=Z)}return E(U);case x:e:{for(fe=B.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),Z=f(V,B.children||[]),Z.return=U,U=Z;break e}else{a(U,V);break}else r(U,V);V=V.sibling}Z=kf(B,U.mode,Z),Z.return=U,U=Z}return E(U);case R:return fe=B._init,B=fe(B._payload),Je(U,V,B,Z)}if(lt(B))return Se(U,V,B,Z);if(z(B)){if(fe=z(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),_e(U,V,B,Z)}if(typeof B.then=="function")return Je(U,V,pc(B),Z);if(B.$$typeof===X)return Je(U,V,nc(U,B),Z);gc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),Z=f(V,B),Z.return=U,U=Z):(a(U,V),Z=Vf(B,U.mode,Z),Z.return=U,U=Z),E(U)):a(U,V)}return function(U,V,B,Z){try{cl=0;var fe=Je(U,V,B,Z);return xa=null,fe}catch(de){if(de===tl||de===rc)throw de;var xe=gn(29,de,null,U.mode);return xe.lanes=Z,xe.return=U,xe}finally{}}}var Ma=Uy(!0),zy=Uy(!1),Pn=ie(null),ai=null;function Er(n){var r=n.alternate;se(Rt,Rt.current&1),se(Pn,n),ai===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(ai=n)}function jy(n){if(n.tag===22){if(se(Rt,Rt.current),se(Pn,n),ai===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ai=n)}}else Tr()}function Tr(){se(Rt,Rt.current),se(Pn,Pn.current)}function qi(n){ue(Pn),ai===n&&(ai=null),ue(Rt)}var Rt=ie(0);function yc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=yr(l);f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,l),r!==null&&(Tn(r,n,l),il(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=yr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=_r(n,f,l),r!==null&&(Tn(r,n,l),il(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=yr(a);l.tag=2,r!=null&&(l.callback=r),r=_r(n,l,a),r!==null&&(Tn(r,n,a),il(r,n,a))}};function By(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(f,d):!0}function qy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&gd.enqueueReplaceState(r,r.state,null)}function ks(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Hy(n){_c(n)}function Fy(n){console.error(n)}function Gy(n){_c(n)}function vc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ky(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(n,r,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(n,r)},a}function Qy(n){return n=yr(n),n.tag=3,n}function Yy(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Ky(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Ky(r,a,l),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Eb(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ai===null?Bd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Hd(n,l,f)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Hd(n,l,f)),!1}throw Error(s(435,a.tag))}return Hd(n,l,f),Bd(),!1}if(He)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==zf&&(n=Error(s(422),{cause:l}),Wo(Dn(n,a)))):(l!==zf&&(r=Error(s(423),{cause:l}),Wo(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=yd(n.stateNode,l,f),$f(n,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),_l===null?_l=[d]:_l.push(d),ht!==4&&(ht=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=yd(a.stateNode,l,n),$f(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Qy(f),Yy(f,n,a,l),$f(a,f),!1}a=a.return}while(a!==null);return!1}var $y=Error(s(461)),Mt=!1;function jt(n,r,a,l){r.child=n===null?zy(r,null,a,l):Ma(r,n.child,a,l)}function Xy(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ms(r),l=ed(n,r,a,E,d,f),T=td(),n!==null&&!Mt?(nd(n,r,f),Hi(n,r,f)):(He&&T&&Lf(r),r.flags|=1,jt(n,r,l,f),r.child)}function Wy(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Jy(n,r,d,l,f)):(n=Ju(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!wd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(E,l)&&n.ref===r.ref)return Hi(n,r,f)}return r.flags|=1,n=ki(d,l),n.ref=r.ref,n.return=r,r.child=n}function Jy(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Qo(d,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,wd(n,f))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,Hi(n,r,f)}return _d(n,r,a,l,f)}function Zy(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return e_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ic(r,d!==null?d.cachePool:null),d!==null?Jg(r,d):Wf(),jy(r);else return r.lanes=r.childLanes=536870912,e_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ic(r,d.cachePool),Jg(r,d),Tr(),r.memoizedState=null):(n!==null&&ic(r,null),Wf(),Tr());return jt(n,r,f,a),r.child}function e_(n,r,a,l){var f=Gf();return f=f===null?null:{parent:wt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ic(r,null),Wf(),jy(r),n!==null&&Jo(n,r,l,!0),null}function Ec(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function _d(n,r,a,l,f){return Ms(r),a=ed(n,r,a,l,void 0,f),l=td(),n!==null&&!Mt?(nd(n,r,f),Hi(n,r,f)):(He&&l&&Lf(r),r.flags|=1,jt(n,r,a,f),r.child)}function t_(n,r,a,l,f,d){return Ms(r),r.updateQueue=null,a=ey(r,l,a,f),Zg(n),l=td(),n!==null&&!Mt?(nd(n,r,d),Hi(n,r,d)):(He&&l&&Lf(r),r.flags|=1,jt(n,r,a,d),r.child)}function n_(n,r,a,l,f){if(Ms(r),r.stateNode===null){var d=Aa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):Aa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(pd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&gd.enqueueReplaceState(d,d.state,null),sl(r,l,d,f),rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,I=ks(a,T);d.props=I;var q=d.context,J=a.contextType;E=Aa,typeof J=="object"&&J!==null&&(E=Qt(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&qy(r,d,l,E),gr=!1;var H=r.memoizedState;d.state=H,sl(r,l,d,f),rl(),q=r.memoizedState,T||H!==q||gr?(typeof ee=="function"&&(pd(r,a,ee,l),q=r.memoizedState),(I=gr||By(r,a,I,l,H,q,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(n,r),E=r.memoizedProps,J=ks(a,E),d.props=J,ee=r.pendingProps,H=d.context,q=a.contextType,I=Aa,typeof q=="object"&&q!==null&&(I=Qt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||H!==I)&&qy(r,d,l,I),gr=!1,H=r.memoizedState,d.state=H,sl(r,l,d,f),rl();var F=r.memoizedState;E!==ee||H!==F||gr||n!==null&&n.dependencies!==null&&tc(n.dependencies)?(typeof T=="function"&&(pd(r,a,T,l),F=r.memoizedState),(J=gr||By(r,a,J,l,H,F,I)||n!==null&&n.dependencies!==null&&tc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=J):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ec(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ma(r,n.child,null,f),r.child=Ma(r,null,a,f)):jt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Hi(n,r,f),n}function i_(n,r,a,l){return Xo(),r.flags|=256,jt(n,r,a,l),r.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(n){return{baseLanes:n,cachePool:Fg()}}function Td(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Vn),n}function r_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Rt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(f?Er(r):Tr(),He){var T=ct,I;if(I=T){e:{for(I=T,T=si;I.nodeType!==8;){if(!T){T=null;break e}if(I=Hn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Is!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,rn=r,ct=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return rm(T)?r.lanes=32:r.lanes=536870912,null;qi(r)}return T=l.children,l=l.fallback,f?(Tr(),f=r.mode,T=Tc({mode:"hidden",children:T},f),l=Cs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Ed(a),f.childLanes=Td(n,E,a),r.memoizedState=vd,l):(Er(r),Sd(r,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Er(r),r.flags&=-257,r=Ad(n,r,a)):r.memoizedState!==null?(Tr(),r.child=n.child,r.flags|=128,r=null):(Tr(),f=l.fallback,T=r.mode,l=Tc({mode:"visible",children:l.children},T),f=Cs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ma(r,n.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(n,E,a),r.memoizedState=vd,r=f);else if(Er(r),rm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,Wo({value:l,source:null,stack:null}),r=Ad(n,r,a)}else if(Mt||Jo(n,r,a,!1),E=(a&n.childLanes)!==0,Mt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:lr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Sa(n,l),Tn(E,n,l),$y;T.data==="$?"||Bd(),r=Ad(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,ct=Hn(T.nextSibling),rn=r,He=!0,Ds=null,si=!1,n!==null&&(xn[Mn++]=Li,xn[Mn++]=Ui,xn[Mn++]=Is,Li=n.id,Ui=n.overflow,Is=r),r=Sd(r,l.children),r.flags|=4096);return r}return f?(Tr(),f=l.fallback,T=r.mode,I=n.child,q=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?f=ki(q,f):(f=Cs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Ed(a):(I=T.cachePool,I!==null?(q=wt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Fg(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=Td(n,E,a),r.memoizedState=vd,l):(Er(r),a=n.child,n=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Sd(n,r){return r=Tc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Tc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ad(n,r,a){return Ma(r,n.child,null,a),n=Sd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function s_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Bf(n.return,r,a)}function bd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function a_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(jt(n,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s_(n,a,r);else if(n.tag===19)s_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Rt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&yc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),bd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&yc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}bd(r,!0,a,null,d);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Jo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ki(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ki(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&tc(n)))}function Tb(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),pr(r,wt,n.memoizedState.cache),Xo();break;case 27:case 5:or(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(r),r.flags|=128,null):(a&r.child.childLanes)!==0?r_(n,r,a):(Er(r),n=Hi(n,r,a),n!==null?n.sibling:null);Er(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return a_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Zy(n,r,a);case 24:pr(r,wt,n.memoizedState.cache)}return Hi(n,r,a)}function o_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!wd(n,a)&&(r.flags&128)===0)return Mt=!1,Tb(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,He&&(r.flags&1048576)!==0&&Lg(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Pf(l)?(n=ks(l,n),r.tag=1,r=n_(null,r,l,n,a)):(r.tag=0,r=_d(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ce){r.tag=11,r=Xy(null,r,l,n,a);break e}else if(f===M){r.tag=14,r=Wy(null,r,l,n,a);break e}}throw r=Lt(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ks(l,r.pendingProps),n_(n,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Yf(n,r),sl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,pr(r,wt,l),l!==d.cache&&qf(r,[wt],a,!0),rl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=i_(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),Wo(f),r=i_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=Hn(n.firstChild),rn=r,He=!0,Ds=null,si=!0,a=zy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),l===f){r=Hi(n,r,a);break e}jt(n,r,l,a)}r=r.child}return r;case 26:return Ec(n,r),n===null?(a=hv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,l=Vc(be.current).createElement(a),l[St]=r,l[yt]=n,qt(l,a,n),dt(l),r.stateNode=l):r.memoizedState=hv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return or(r),n===null&&He&&(l=r.stateNode=lv(r.type,r.pendingProps,be.current),rn=r,si=!0,f=ct,Dr(r.type)?(sm=f,ct=Hn(l.firstChild)):ct=f),jt(n,r,r.pendingProps.children,a),Ec(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((f=l=ct)&&(l=$b(l,r.type,r.pendingProps,si),l!==null?(r.stateNode=l,rn=r,ct=Hn(l.firstChild),si=!1,f=!0):f=!1),f||Ns(r)),or(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,tm(f,d)?l=null:E!==null&&tm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=ed(n,r,db,null,null,a),Cl._currentValue=f),Ec(n,r),jt(n,r,l,a),r.child;case 6:return n===null&&He&&((n=a=ct)&&(a=Xb(a,r.pendingProps,si),a!==null?(r.stateNode=a,rn=r,ct=null,n=!0):n=!1),n||Ns(r)),null;case 13:return r_(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ma(r,null,l,a):jt(n,r,l,a),r.child;case 11:return Xy(n,r,r.type,r.pendingProps,a);case 7:return jt(n,r,r.pendingProps,a),r.child;case 8:return jt(n,r,r.pendingProps.children,a),r.child;case 12:return jt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pr(r,r.type,l.value),jt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ms(r),f=Qt(f),l=l(f),r.flags|=1,jt(n,r,l,a),r.child;case 14:return Wy(n,r,r.type,r.pendingProps,a);case 15:return Jy(n,r,r.type,r.pendingProps,a);case 19:return a_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ki(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Zy(n,r,a);case 24:return Ms(r),l=Qt(wt),n===null?(f=Gf(),f===null&&(f=tt,d=Hf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Qf(r),pr(r,wt,f)):((n.lanes&a)!==0&&(Yf(n,r),sl(r,null,null,a),rl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),pr(r,wt,l)):(l=d.cache,pr(r,wt,l),l!==f.cache&&qf(r,[wt],a,!0))),jt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(n){n.flags|=4}function l_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!gv(r)){if(r=Pn.current,r!==null&&((ze&4194048)===ze?ai!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==ai))throw nl=Kf,Gg;n.flags|=8192}}function Sc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Oo():536870912,n.lanes|=r,La|=r)}function fl(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Sb(n,r,a){var l=r.pendingProps;switch(Uf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(wt),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&($o(r)?Fi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jg())),rt(r),null;case 26:return a=r.memoizedState,n===null?(Fi(r),a!==null?(rt(r),l_(r,a)):(rt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Fi(r),rt(r),l_(r,a)):(rt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Fi(r),rt(r),r.flags&=-16777217),null;case 27:Ai(r),a=be.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=ge.current,$o(r)?Ug(r):(n=lv(f,l,a),r.stateNode=n,Fi(r))}return rt(r),null;case 5:if(Ai(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(n=ge.current,$o(r))Ug(r);else{switch(f=Vc(be.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[St]=r,n[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fi(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,$o(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(n.nodeValue,a)),n||Ns(r)}else n=Vc(n).createTextNode(l),n[St]=r,r.stateNode=n}return rt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=$o(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),rt(r),null;case 4:return Qn(),n===null&&Xd(r.stateNode.containerInfo),rt(r),null;case 10:return ji(r.type),rt(r),null;case 19:if(ue(Rt),f=r.memoizedState,f===null)return rt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)fl(f,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=yc(n),d!==null){for(r.flags|=128,fl(f,!1),n=d.updateQueue,r.updateQueue=n,Sc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)kg(a,n),a=a.sibling;return se(Rt,Rt.current&1|2),r.child}n=n.sibling}f.tail!==null&&bn()>wc&&(r.flags|=128,l=!0,fl(f,!1),r.lanes=4194304)}else{if(!l)if(n=yc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Sc(r,n),fl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return rt(r),null}else 2*bn()-f.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,l=!0,fl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=bn(),r.sibling=null,n=Rt.current,se(Rt,l?n&1|2:n&1),r):(rt(r),null);case 22:case 23:return qi(r),Jf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Ps),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(wt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ab(n,r){switch(Uf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ji(wt),Qn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ai(r),null;case 13:if(qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Rt),null;case 4:return Qn(),null;case 10:return ji(r.type),null;case 22:case 23:return qi(r),Jf(),n!==null&&ue(Ps),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ji(wt),null;case 25:return null;default:return null}}function u_(n,r){switch(Uf(r),r.tag){case 3:ji(wt),Qn();break;case 26:case 27:case 5:Ai(r);break;case 4:Qn();break;case 13:qi(r);break;case 19:ue(Rt);break;case 10:ji(r.type);break;case 22:case 23:qi(r),Jf(),n!==null&&ue(Ps);break;case 24:ji(wt)}}function dl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(r,r.return,T)}}function Sr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var I=a,q=T;try{q()}catch(J){Ze(f,I,J)}}}l=l.next}while(l!==d)}}catch(J){Ze(r,r.return,J)}}function c_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Wg(r,a)}catch(l){Ze(n,n.return,l)}}}function h_(n,r,a){a.props=ks(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function ml(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,r,f)}}function oi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function f_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Rd(n,r,a){try{var l=n.stateNode;Fb(l,n.type,a,r),l[yt]=r}catch(f){Ze(n,n.return,f)}}function d_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Dr(n.type)||n.tag===4}function Cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||d_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Dr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Id(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Dr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Id(n,r,a),n=n.sibling;n!==null;)Id(n,r,a),n=n.sibling}function Ac(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Dr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ac(n,r,a),n=n.sibling;n!==null;)Ac(n,r,a),n=n.sibling}function m_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[St]=n,r[yt]=a}catch(d){Ze(n,n.return,d)}}var Gi=!1,pt=!1,Od=!1,p_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function bb(n,r){if(n=n.containerInfo,Zd=Bc,n=Rg(n),Cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,q=0,J=0,ee=n,H=null;t:for(;;){for(var F;ee!==a||f!==0&&ee.nodeType!==3||(T=E+f),ee!==d||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(F=ee.firstChild)!==null;)H=ee,ee=F;for(;;){if(ee===n)break t;if(H===a&&++q===f&&(T=E),H===d&&++J===l&&(I=E),(F=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:n,selectionRange:a},Bc=!1,Pt=r;Pt!==null;)if(r=Pt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Pt=n;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=ks(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Pt=n;break}Pt=r.return}}function g_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(n,a),l&4&&dl(5,a);break;case 1:if(Ar(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var f=ks(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&c_(a),l&512&&ml(a,a.return);break;case 3:if(Ar(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Wg(n,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&m_(a);case 26:case 5:Ar(n,a),r===null&&l&4&&f_(a),l&512&&ml(a,a.return);break;case 12:Ar(n,a);break;case 13:Ar(n,a),l&4&&v_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Mb.bind(null,a),Wb(n,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){r=r!==null&&r.memoizedState!==null||pt,f=Gi;var d=pt;Gi=l,(pt=r)&&!d?br(n,a,(a.subtreeFlags&8772)!==0):Ar(n,a),Gi=f,pt=d}break;case 30:break;default:Ar(n,a)}}function y_(n){var r=n.alternate;r!==null&&(n.alternate=null,y_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&hr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,on=!1;function Ki(n,r,a){for(a=a.child;a!==null;)__(n,r,a),a=a.sibling}function __(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:pt||oi(a,r),Ki(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||oi(a,r);var l=it,f=on;Dr(a.type)&&(it=a.stateNode,on=!1),Ki(n,r,a),Al(a.stateNode),it=l,on=f;break;case 5:pt||oi(a,r);case 6:if(l=it,f=on,it=null,Ki(n,r,a),it=l,on=f,it!==null)if(on)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{it.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:it!==null&&(on?(n=it,av(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Nl(n)):av(it,a.stateNode));break;case 4:l=it,f=on,it=a.stateNode.containerInfo,on=!0,Ki(n,r,a),it=l,on=f;break;case 0:case 11:case 14:case 15:pt||Sr(2,a,r),pt||Sr(4,a,r),Ki(n,r,a);break;case 1:pt||(oi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h_(a,r,l)),Ki(n,r,a);break;case 21:Ki(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Ki(n,r,a),pt=l;break;default:Ki(n,r,a)}}function v_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Nl(n)}catch(a){Ze(r,r.return,a)}}function wb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new p_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new p_),r;default:throw Error(s(435,n.tag))}}function Dd(n,r){var a=wb(n);r.forEach(function(l){var f=Pb.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Dr(T.type)){it=T.stateNode,on=!1;break e}break;case 5:it=T.stateNode,on=!1;break e;case 3:case 4:it=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(it===null)throw Error(s(160));__(d,E,f),it=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)E_(r,n),r=r.sibling}var qn=null;function E_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(Sr(3,n,n.return),dl(3,n),Sr(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(pt||a===null||oi(a,a.return)),l&64&&Gi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=qn;if(yn(r,n),_n(n),l&512&&(pt||a===null||oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hs]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[St]=n,dt(d),l=d;break e;case"link":var E=mv("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=mv("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=n,dt(d),l=d}n.stateNode=l}else pv(f,n.type,n.stateNode);else n.stateNode=dv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?pv(f,n.type,n.stateNode):dv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Rd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(pt||a===null||oi(a,a.return)),a!==null&&l&4&&Rd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(pt||a===null||oi(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(F){Ze(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Rd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){Ze(n,n.return,F)}}break;case 3:if(Uc=null,f=qn,qn=kc(r.containerInfo),yn(r,n),qn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(r.containerInfo)}catch(F){Ze(n,n.return,F)}Od&&(Od=!1,T_(n));break;case 4:l=qn,qn=kc(n.stateNode.containerInfo),yn(r,n),_n(n),qn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=bn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Dd(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Gi,J=pt;if(Gi=q||f,pt=J||I,yn(r,n),pt=J,Gi=q,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Gi||pt||Ls(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(F){Ze(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Dd(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(d_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(n);Ac(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var T=Cd(n);Ac(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Cd(n);Id(n,q,I);break;default:throw Error(s(161))}}catch(J){Ze(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function T_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;T_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ar(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)g_(n,r.alternate,r),r=r.sibling}function Ls(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Ls(r);break;case 1:oi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&h_(r,r.return,a),Ls(r);break;case 27:Al(r.stateNode);case 26:case 5:oi(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}n=n.sibling}}function br(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:br(f,d,a),dl(4,d);break;case 1:if(br(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Xg(I[f],T)}catch(q){Ze(l,l.return,q)}}a&&E&64&&c_(d),ml(d,d.return);break;case 27:m_(d);case 26:case 5:br(f,d,a),a&&l===null&&E&4&&f_(d),ml(d,d.return);break;case 12:br(f,d,a);break;case 13:br(f,d,a),a&&E&4&&v_(f,d);break;case 22:d.memoizedState===null&&br(f,d,a),ml(d,d.return);break;case 30:break;default:br(f,d,a)}r=r.sibling}}function Nd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Zo(a))}function xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zo(n))}function li(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S_(n,r,a,l),r=r.sibling}function S_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:li(n,r,a,l),f&2048&&dl(9,r);break;case 1:li(n,r,a,l);break;case 3:li(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zo(n)));break;case 12:if(f&2048){li(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else li(n,r,a,l);break;case 13:li(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?li(n,r,a,l):pl(n,r):d._visibility&2?li(n,r,a,l):(d._visibility|=2,Pa(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Nd(E,r);break;case 24:li(n,r,a,l),f&2048&&xd(r.alternate,r);break;default:li(n,r,a,l)}}function Pa(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,I=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Pa(d,E,T,I,f),dl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Pa(d,E,T,I,f):pl(d,E):(J._visibility|=2,Pa(d,E,T,I,f)),f&&q&2048&&Nd(E.alternate,E);break;case 24:Pa(d,E,T,I,f),f&&q&2048&&xd(E.alternate,E);break;default:Pa(d,E,T,I,f)}r=r.sibling}}function pl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:pl(a,l),f&2048&&Nd(l.alternate,l);break;case 24:pl(a,l),f&2048&&xd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var gl=8192;function Va(n){if(n.subtreeFlags&gl)for(n=n.child;n!==null;)A_(n),n=n.sibling}function A_(n){switch(n.tag){case 26:Va(n),n.flags&gl&&n.memoizedState!==null&&cw(qn,n.memoizedState,n.memoizedProps);break;case 5:Va(n);break;case 3:case 4:var r=qn;qn=kc(n.stateNode.containerInfo),Va(n),qn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,Va(n),gl=r):Va(n));break;default:Va(n)}}function b_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function yl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,R_(l,n)}b_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)w_(n),n=n.sibling}function w_(n){switch(n.tag){case 0:case 11:case 15:yl(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:yl(n);break;case 12:yl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,bc(n)):yl(n);break;default:yl(n)}}function bc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,R_(l,n)}b_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),bc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,bc(r));break;default:bc(r)}n=n.sibling}}function R_(n,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Sr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=n;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(y_(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var Rb={getCacheForType:function(n){var r=Qt(wt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Cb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,ze=0,Ye=0,vn=null,wr=!1,ka=!1,Md=!1,Qi=0,ht=0,Rr=0,Us=0,Pd=0,Vn=0,La=0,_l=null,ln=null,Vd=!1,kd=0,wc=1/0,Rc=null,Cr=null,Bt=0,Ir=null,Ua=null,za=0,Ld=0,Ud=null,C_=null,vl=0,zd=null;function En(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(W.T!==null){var n=Ra;return n!==0?n:Kd()}return ur()}function I_(){Vn===0&&(Vn=(ze&536870912)===0||He?Io():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),Vn}function Tn(n,r,a){(n===tt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(ja(n,0),Or(n,ze,Vn,!1)),wi(n,a),((Qe&2)===0||n!==tt)&&(n===tt&&((Qe&2)===0&&(Us|=a),ht===4&&Or(n,ze,Vn,!1)),ui(n))}function O_(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||cs(n,r),f=l?Db(n,r):qd(n,r,!0),d=l;do{if(f===0){ka&&!l&&Or(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Ib(a)){f=qd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=_l;var I=T.current.memoizedState.isDehydrated;if(I&&(ja(T,E).flags|=256),E=qd(T,E,!1),E!==2){if(Md&&!I){T.errorRecoveryDisabledLanes|=d,Us|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){ja(n,0),Or(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,Vn,!wr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kd+300-bn(),10<f)){if(Or(l,r,Vn,!wr),ia(l,0,!0)!==0)break e;l.timeoutHandle=rv(D_.bind(null,l,a,ln,Rc,Vd,r,Vn,Us,La,wr,d,2,-0,0),f);break e}D_(l,a,ln,Rc,Vd,r,Vn,Us,La,wr,d,0,-0,0)}}break}while(!0);ui(n)}function D_(n,r,a,l,f,d,E,T,I,q,J,ee,H,F){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:uw},A_(r),ee=hw(),ee!==null)){n.cancelPendingCommit=ee(L_.bind(null,n,r,d,a,l,f,E,T,I,J,1,H,F)),Or(n,d,E,!q);return}L_(n,r,d,a,l,f,E,T,I)}function Ib(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(n,r,a,l){r&=~Pd,r&=~Us,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Kt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Yn(n,a,r)}function Cc(){return(Qe&6)===0?(El(0),!1):!0}function jd(){if(Me!==null){if(Ye===0)var n=Me.return;else n=Me,zi=xs=null,id(n),xa=null,cl=0,n=Me;for(;n!==null;)u_(n.alternate,n),n=n.return;Me=null}}function ja(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Kb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),jd(),tt=n,Me=a=ki(n.current,null),ze=r,Ye=0,vn=null,wr=!1,ka=cs(n,r),Md=!1,La=Vn=Pd=Us=Rr=ht=0,ln=_l=null,Vd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Kt(l),d=1<<f;r|=n[f],l&=~d}return Qi=r,$u(),a}function N_(n,r){Oe=null,W.H=mc,r===tl||r===rc?(r=Yg(),Ye=3):r===Gg?(r=Yg(),Ye=4):Ye=r===$y?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Me===null&&(ht=1,vc(n,Dn(r,n.current)))}function x_(){var n=W.H;return W.H=mc,n===null?mc:n}function M_(){var n=W.A;return W.A=Rb,n}function Bd(){ht=4,wr||(ze&4194048)!==ze&&Pn.current!==null||(ka=!0),(Rr&134217727)===0&&(Us&134217727)===0||tt===null||Or(tt,ze,Vn,!1)}function qd(n,r,a){var l=Qe;Qe|=2;var f=x_(),d=M_();(tt!==n||ze!==r)&&(Rc=null,ja(n,r)),r=!1;var E=ht;e:do try{if(Ye!==0&&Me!==null){var T=Me,I=vn;switch(Ye){case 8:jd(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var q=Ye;if(Ye=0,vn=null,Ba(n,T,I,q),a&&ka){E=0;break e}break;default:q=Ye,Ye=0,vn=null,Ba(n,T,I,q)}}Ob(),E=ht;break}catch(J){N_(n,J)}while(!0);return r&&n.shellSuspendCounter++,zi=xs=null,Qe=l,W.H=f,W.A=d,Me===null&&(tt=null,ze=0,$u()),E}function Ob(){for(;Me!==null;)P_(Me)}function Db(n,r){var a=Qe;Qe|=2;var l=x_(),f=M_();tt!==n||ze!==r?(Rc=null,wc=bn()+500,ja(n,r)):ka=cs(n,r);e:do try{if(Ye!==0&&Me!==null){r=Me;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Ba(n,r,d,1);break;case 2:case 9:if(Kg(d)){Ye=0,vn=null,V_(r);break}r=function(){Ye!==2&&Ye!==9||tt!==n||(Ye=7),ui(n)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Kg(d)?(Ye=0,vn=null,V_(r)):(Ye=0,vn=null,Ba(n,r,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(!E||gv(E)){Ye=0,vn=null;var I=T.sibling;if(I!==null)Me=I;else{var q=T.return;q!==null?(Me=q,Ic(q)):Me=null}break t}}Ye=0,vn=null,Ba(n,r,d,5);break;case 6:Ye=0,vn=null,Ba(n,r,d,6);break;case 8:jd(),ht=6;break e;default:throw Error(s(462))}}Nb();break}catch(J){N_(n,J)}while(!0);return zi=xs=null,W.H=l,W.A=f,Qe=a,Me!==null?0:(tt=null,ze=0,$u(),ht)}function Nb(){for(;Me!==null&&!bo();)P_(Me)}function P_(n){var r=o_(n.alternate,n,Qi);n.memoizedProps=n.pendingProps,r===null?Ic(n):Me=r}function V_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=t_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=t_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:id(r);default:u_(a,r),r=Me=kg(r,Qi),r=o_(a,r,Qi)}n.memoizedProps=n.pendingProps,r===null?Ic(n):Me=r}function Ba(n,r,a,l){zi=xs=null,id(r),xa=null,cl=0;var f=r.return;try{if(Eb(n,f,r,a,ze)){ht=1,vc(n,Dn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;ht=1,vc(n,Dn(a,n.current)),Me=null;return}r.flags&32768?(He||l===1?n=!0:ka||(ze&536870912)!==0?n=!1:(wr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(r,n)):Ic(r)}function Ic(n){var r=n;do{if((r.flags&32768)!==0){k_(r,wr);return}n=r.return;var a=Sb(r.alternate,r,Qi);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);ht===0&&(ht=5)}function k_(n,r){do{var a=Ab(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);ht=6,Me=null}function L_(n,r,a,l,f,d,E,T,I){n.cancelPendingCommit=null;do Oc();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,Do(n,a,d,E,T,I),n===tt&&(Me=tt=null,ze=0),Ua=r,Ir=n,za=a,Ld=d,Ud=f,C_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Vb(as,function(){return q_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=le.p,le.p=2,E=Qe,Qe|=4;try{bb(n,r,a)}finally{Qe=E,le.p=f,W.T=l}}Bt=1,U_(),z_(),j_()}}function U_(){if(Bt===1){Bt=0;var n=Ir,r=Ua,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{E_(r,n);var d=em,E=Rg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(I!==null&&Cf(T)){var q=I.start,J=I.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ee=T.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var F=H.getSelection(),Se=T.textContent.length,_e=Math.min(I.start,Se),Je=I.end===void 0?_e:Math.min(I.end,Se);!F.extend&&_e>Je&&(E=Je,Je=_e,_e=E);var U=bg(T,_e),V=bg(T,Je);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var B=ee.createRange();B.setStart(U.node,U.offset),F.removeAllRanges(),_e>Je?(F.addRange(B),F.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),F.addRange(B))}}}}for(ee=[],F=T;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Bc=!!Zd,em=Zd=null}finally{Qe=f,le.p=l,W.T=a}}n.current=r,Bt=2}}function z_(){if(Bt===2){Bt=0;var n=Ir,r=Ua,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{g_(n,r.alternate,r)}finally{Qe=f,le.p=l,W.T=a}}Bt=3}}function j_(){if(Bt===4||Bt===3){Bt=0,bu();var n=Ir,r=Ua,a=za,l=C_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Ua=Ir=null,B_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cr=null),ra(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=le.p,le.p=2,W.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{W.T=r,le.p=f}}(za&3)!==0&&Oc(),ui(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===zd?vl++:(vl=0,zd=n):vl=0,El(0)}}function B_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Zo(r)))}function Oc(n){return U_(),z_(),j_(),q_()}function q_(){if(Bt!==5)return!1;var n=Ir,r=Ld;Ld=0;var a=ra(za),l=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=Ud,Ud=null;var d=Ir,E=za;if(Bt=0,Ua=Ir=null,za=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,w_(d.current),S_(d,d.current,E,a),Qe=T,El(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{le.p=f,W.T=l,B_(n,r)}}function H_(n,r,a){r=Dn(a,r),r=yd(n.stateNode,r,2),n=_r(n,r,2),n!==null&&(wi(n,2),ui(n))}function Ze(n,r,a){if(n.tag===3)H_(n,n,a);else for(;r!==null;){if(r.tag===3){H_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){n=Dn(a,n),a=Qy(2),l=_r(r,a,2),l!==null&&(Yy(a,l,r,n),wi(l,2),ui(l));break}}r=r.return}}function Hd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Cb;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Md=!0,f.add(a),n=xb.bind(null,n,r,a),r.then(n,n))}function xb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(ze&a)===a&&(ht===4||ht===3&&(ze&62914560)===ze&&300>bn()-kd?(Qe&2)===0&&ja(n,0):Pd|=a,La===ze&&(La=0)),ui(n)}function F_(n,r){r===0&&(r=Oo()),n=Sa(n,r),n!==null&&(wi(n,r),ui(n))}function Mb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),F_(n,a)}function Pb(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F_(n,a)}function Vb(n,r){return rs(n,r)}var Dc=null,qa=null,Fd=!1,Nc=!1,Gd=!1,zs=0;function ui(n){n!==qa&&n.next===null&&(qa===null?Dc=qa=n:qa=qa.next=n),Nc=!0,Fd||(Fd=!0,Lb())}function El(n,r){if(!Gd&&Nc){Gd=!0;do for(var a=!1,l=Dc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=ze,d=ia(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||cs(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Gd=!1}}function kb(){G_()}function G_(){Nc=Fd=!1;var n=0;zs!==0&&(Gb()&&(n=zs),zs=0);for(var r=bn(),a=null,l=Dc;l!==null;){var f=l.next,d=K_(l,r);d===0?(l.next=null,a===null?Dc=f:a.next=f,f===null&&(qa=a)):(a=l,(n!==0||(d&3)!==0)&&(Nc=!0)),l=f}El(n)}function K_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Kt(d),T=1<<E,I=f[E];I===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Co(T,r)):I<=r&&(n.expiredLanes|=T),d&=~T}if(r=tt,a=ze,a=ia(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||cs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ss(l),ra(a)){case 2:case 8:a=ta;break;case 32:a=as;break;case 268435456:a=na;break;default:a=as}return l=Q_.bind(null,n),a=rs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ss(l),n.callbackPriority=2,n.callbackNode=null,2}function Q_(n,r){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Oc()&&n.callbackNode!==a)return null;var l=ze;return l=ia(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(O_(n,l,r),K_(n,bn()),n.callbackNode!=null&&n.callbackNode===a?Q_.bind(null,n):null)}function Y_(n,r){if(Oc())return null;O_(n,r,!0)}function Lb(){Qb(function(){(Qe&6)!==0?rs(wo,kb):G_()})}function Kd(){return zs===0&&(zs=Io()),zs}function $_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ca(""+n)}function X_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Ub(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=$_((f[yt]||null).action),E=l.submitter;E&&(r=(r=E[yt]||null)?$_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ha("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var I=E?X_(f,E):new FormData(f);fd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=E?X_(f,E):new FormData(f),fd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Qd=0;Qd<Nf.length;Qd++){var Yd=Nf[Qd],zb=Yd.toLowerCase(),jb=Yd[0].toUpperCase()+Yd.slice(1);Bn(zb,"on"+jb)}Bn(Og,"onAnimationEnd"),Bn(Dg,"onAnimationIteration"),Bn(Ng,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(ib,"onTransitionRun"),Bn(rb,"onTransitionStart"),Bn(sb,"onTransitionCancel"),Bn(xg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function W_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){_c(J)}f.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){_c(J)}f.currentTarget=null,d=I}}}}function Pe(n,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=n+"__bubble";a.has(l)||(J_(r,n,2,!1),a.add(l))}function $d(n,r,a){var l=0;r&&(l|=4),J_(a,n,l,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Xd(n){if(!n[xc]){n[xc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(Bb.has(a)||$d(a,!1,n),$d(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[xc]||(r[xc]=!0,$d("selectionchange",!1,r))}}function J_(n,r,a,l){switch(Sv(r)){case 2:var f=mw;break;case 8:f=pw;break;default:f=cm}a=f.bind(null,r,a,n),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Wd(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ri(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Pu(function(){var q=d,J=Cn(a),ee=[];e:{var H=Mg.get(n);if(H!==void 0){var F=ha,Se=n;switch(n){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":F=ya;break;case"focusin":Se="focus",F=ma;break;case"focusout":Se="blur",F=ma;break;case"beforeblur":case"afterblur":F=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=qu;break;case Og:case Dg:case Ng:F=pa;break;case xg:F=Fu;break;case"scroll":case"scrollend":F=Vu;break;case"wheel":F=_a;break;case"copy":case"cut":case"paste":F=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Go;break;case"toggle":case"beforetoggle":F=Ku}var _e=(r&4)!==0,Je=!_e&&(n==="scroll"||n==="scrollend"),U=_e?H!==null?H+"Capture":null:H;_e=[];for(var V=q,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=_s(V,U),Z!=null&&_e.push(Sl(V,Z,B))),Je)break;V=V.return}0<_e.length&&(H=new F(H,Se,null,a,J),ee.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",H&&a!==Di&&(Se=a.relatedTarget||a.fromElement)&&(Ri(Se)||Se[wn]))break e;if((F||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Se=a.relatedTarget||a.toElement,F=q,Se=Se?Ri(Se):null,Se!==null&&(Je=u(Se),_e=Se.tag,Se!==Je||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(F=null,Se=q),F!==Se)){if(_e=On,Z="onMouseLeave",U="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Go,Z="onPointerLeave",U="onPointerEnter",V="pointer"),Je=F==null?H:Xn(F),B=Se==null?H:Xn(Se),H=new _e(Z,V+"leave",F,a,J),H.target=Je,H.relatedTarget=B,Z=null,Ri(J)===q&&(_e=new _e(U,V+"enter",Se,a,J),_e.target=B,_e.relatedTarget=Je,Z=_e),Je=Z,F&&Se)t:{for(_e=F,U=Se,V=0,B=_e;B;B=Ha(B))V++;for(B=0,Z=U;Z;Z=Ha(Z))B++;for(;0<V-B;)_e=Ha(_e),V--;for(;0<B-V;)U=Ha(U),B--;for(;V--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=Ha(_e),U=Ha(U)}_e=null}else _e=null;F!==null&&Z_(ee,H,F,_e,!1),Se!==null&&Je!==null&&Z_(ee,Je,Se,_e,!0)}}e:{if(H=q?Xn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var fe=_g;else if(bt(H))if(vg)fe=eb;else{fe=JA;var xe=WA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Uo(q.elementType)&&(fe=_g):fe=ZA;if(fe&&(fe=fe(n,q))){Vi(ee,fe,a,J);break e}xe&&xe(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&dr(H,"number",H.value)}switch(xe=q?Xn(q):window,n){case"focusin":(bt(xe)||xe.contentEditable==="true")&&(va=xe,If=q,Yo=null);break;case"focusout":Yo=If=va=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Cg(ee,a,J);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":Cg(ee,a,J)}var de;if(ii)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?Y(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(de=jo()):(Zn=J,mr="value"in Zn?Zn.value:Zn.textContent,Le=!0)),xe=Mc(q,Ee),0<xe.length&&(Ee=new Ho(Ee,n,null,a,J),ee.push({event:Ee,listeners:xe}),de?Ee.data=de:(de=oe(a),de!==null&&(Ee.data=de)))),(de=y?At(n,a):Ue(n,a))&&(Ee=Mc(q,"onBeforeInput"),0<Ee.length&&(xe=new Ho("onBeforeInput","beforeinput",null,a,J),ee.push({event:xe,listeners:Ee}),xe.data=de)),Ub(ee,n,q,a,J)}W_(ee,r)})}function Sl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Mc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_s(n,a),f!=null&&l.unshift(Sl(n,f,d)),f=_s(n,r),f!=null&&l.push(Sl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ha(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Z_(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,f?(q=_s(a,d),q!=null&&E.unshift(Sl(a,q,I))):f||(q=_s(a,d),q!=null&&E.push(Sl(a,q,I)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var qb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function ev(n){return(typeof n=="string"?n:""+n).replace(qb,`
`).replace(Hb,"")}function tv(n,r){return r=ev(r),ev(n)===r}function Pc(){}function We(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":Wn(n,"class",l);break;case"tabIndex":Wn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(n,a,l);break;case"style":Lo(n,l,d);break;case"data":if(r!=="object"){Wn(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ca(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ca(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ca(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),fr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,fr(n,a,l))}}function Jd(n,r,a,l,f,d){switch(a){case"style":Lo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):fr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,E,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var T=d=E=f=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":I=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:We(n,r,l,J,a,null)}}ps(n,d,T,I,q,E,f,!1),ua(n);return;case"select":Pe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Oi(n,!!l,r,!1):a!=null&&Oi(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,E,T,a,null)}gs(n,l,f,d),ua(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,I,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Pe(Tl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,q,l,a,null)}return;default:if(Uo(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Jd(n,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,r,T,l,a,null))}function Fb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,I=null,q=null,J=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||We(n,r,F,null,l,ee)}}for(var H in l){var F=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(F!=null||ee!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":J=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==ee&&We(n,r,H,F,l,ee)}}mn(n,E,T,I,q,J,d,f);return;case"select":F=E=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||We(n,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==I&&We(n,r,f,d,l,I)}r=T,a=E,l=F,H!=null?Oi(n,!!a,H,!1):!!l!=!!a&&(r!=null?Oi(n,!!a,r,!0):Oi(n,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,r,E,f,l,d)}$e(n,H,F);return;case"option":for(var Se in a)if(H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:We(n,r,Se,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(n,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&We(n,r,_e,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:We(n,r,q,H,l,F)}return;default:if(Uo(r)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!l.hasOwnProperty(Je)&&Jd(n,r,Je,void 0,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H===void 0&&F===void 0||Jd(n,r,J,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&We(n,r,U,null,l,H);for(ee in l)H=l[ee],F=a[ee],!l.hasOwnProperty(ee)||H===F||H==null&&F==null||We(n,r,ee,H,l,F)}var Zd=null,em=null;function Vc(n){return n.nodeType===9?n:n.ownerDocument}function nv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function Gb(){var n=window.event;return n&&n.type==="popstate"?n===nm?!1:(nm=n,!0):(nm=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,Kb=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(n){return sv.resolve(null).then(n).catch(Yb)}:rv;function Yb(n){setTimeout(function(){throw n})}function Dr(n){return n==="head"}function av(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Al(E.documentElement),a&2&&Al(E.body),a&4)for(a=E.head,Al(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[hs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),Nl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Nl(r)}function im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function $b(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[hs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function Xb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Hn(n.nextSibling),n===null))return null;return n}function rm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Wb(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Hn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var sm=null;function ov(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function lv(n,r,a){switch(r=Vc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Al(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);hr(n)}var kn=new Map,uv=new Set;function kc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yi=le.d;le.d={f:Jb,r:Zb,D:ew,C:tw,L:nw,m:iw,X:sw,S:rw,M:aw};function Jb(){var n=Yi.f(),r=Cc();return n||r}function Zb(n){var r=$n(n);r!==null&&r.tag===5&&r.type==="form"?Oy(r):Yi.r(n)}var Fa=typeof document>"u"?null:document;function cv(n,r,a){var l=Fa;if(l&&typeof r=="string"&&r){var f=_t(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uv.has(f)||(uv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function ew(n){Yi.D(n),cv("dns-prefetch",n,null)}function tw(n,r){Yi.C(n,r),cv("preconnect",n,r)}function nw(n,r,a){Yi.L(n,r,a);var l=Fa;if(l&&n&&r){var f='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(r){case"style":d=Ga(n);break;case"script":d=Ka(n)}kn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),kn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function iw(n,r){Yi.m(n,r);var a=Fa;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(n)}if(!kn.has(d)&&(n=_({rel:"modulepreload",href:n},r),kn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),qt(l,"link",n),dt(l),a.head.appendChild(l)}}}function rw(n,r,a){Yi.S(n,r,a);var l=Fa;if(l&&n){var f=en(l).hoistableStyles,d=Ga(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(bl(d)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=kn.get(d))&&am(n,a);var I=E=l.createElement("link");dt(I),qt(I,"link",n),I._p=new Promise(function(q,J){I.onload=q,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function sw(n,r){Yi.X(n,r);var a=Fa;if(a&&n){var l=en(a).hoistableScripts,f=Ka(n),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(n=_({src:n,async:!0},r),(r=kn.get(f))&&om(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function aw(n,r){Yi.M(n,r);var a=Fa;if(a&&n){var l=en(a).hoistableScripts,f=Ka(n),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=kn.get(f))&&om(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function hv(n,r,a,l){var f=(f=be.current)?kc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ga(a.href),a=en(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ga(a.href);var d=en(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(bl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),d||ow(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ka(a),a=en(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ga(n){return'href="'+_t(n)+'"'}function bl(n){return'link[rel="stylesheet"]['+n+"]"}function fv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function ow(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),n.head.appendChild(r))}function Ka(n){return'[src="'+_t(n)+'"]'}function wl(n){return"script[async]"+n}function dv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),qt(l,"style",f),Lc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Ga(a.href);var d=n.querySelector(bl(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=fv(a),(f=kn.get(f))&&am(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(d,"link",l),r.state.loading|=4,Lc(d,a.precedence,n),r.instance=d;case"script":return d=Ka(a.src),(f=n.querySelector(wl(d)))?(r.instance=f,dt(f),f):(l=a,(f=kn.get(d))&&(l=_({},a),om(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,n));return r.instance}function Lc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Uc=null;function mv(n,r,a){if(Uc===null){var l=new Map,f=Uc=new Map;f.set(a,l)}else f=Uc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[hs]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function pv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function lw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function gv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Rl=null;function uw(){}function cw(n,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ga(a.href),d=n.querySelector(bl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=zc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=fv(a),(f=kn.get(f))&&am(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function hw(){if(Rl===null)throw Error(s(475));var n=Rl;return n.stylesheets&&n.count===0&&lm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&lm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function lm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,r.forEach(fw,n),jc=null,zc.call(n))}function fw(n,r){if(!(r.state.loading&4)){var a=jc.get(n);if(a)var l=a.get(null);else{a=new Map,jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Cl={$$typeof:X,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function dw(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yv(n,r,a,l,f,d,E,T,I,q,J,ee){return n=new dw(n,r,a,E,T,I,q,ee),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Hf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),n}function _v(n){return n?(n=Aa,n):Aa}function vv(n,r,a,l,f,d){f=_v(f),l.context===null?l.context=f:l.pendingContext=f,l=yr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(n,l,r),a!==null&&(Tn(a,n,r),il(a,n,r))}function Ev(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function um(n,r){Ev(n,r),(n=n.alternate)&&Ev(n,r)}function Tv(n){if(n.tag===13){var r=Sa(n,67108864);r!==null&&Tn(r,n,67108864),um(n,67108864)}}var Bc=!0;function mw(n,r,a,l){var f=W.T;W.T=null;var d=le.p;try{le.p=2,cm(n,r,a,l)}finally{le.p=d,W.T=f}}function pw(n,r,a,l){var f=W.T;W.T=null;var d=le.p;try{le.p=8,cm(n,r,a,l)}finally{le.p=d,W.T=f}}function cm(n,r,a,l){if(Bc){var f=hm(l);if(f===null)Wd(n,r,l,qc,a),Av(n,l);else if(yw(f,n,r,a,l))l.stopPropagation();else if(Av(n,l),r&4&&-1<gw.indexOf(n)){for(;f!==null;){var d=$n(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Kt(E);T.entanglements[1]|=I,E&=~I}ui(d),(Qe&6)===0&&(wc=bn()+500,El(0))}}break;case 13:T=Sa(d,2),T!==null&&Tn(T,d,2),Cc(),um(d,2)}if(d=hm(l),d===null&&Wd(n,r,l,qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(n,r,l,null,a)}}function hm(n){return n=Cn(n),fm(n)}var qc=null;function fm(n){if(qc=null,n=Ri(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qc=n,null}function Sv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pf()){case wo:return 2;case ta:return 8;case as:case gf:return 32;case na:return 268435456;default:return 32}default:return 32}}var dm=!1,Nr=null,xr=null,Mr=null,Il=new Map,Ol=new Map,Pr=[],gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(n,r){switch(n){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Il.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Dl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=$n(r),r!==null&&Tv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function yw(n,r,a,l,f){switch(r){case"focusin":return Nr=Dl(Nr,n,r,a,l,f),!0;case"dragenter":return xr=Dl(xr,n,r,a,l,f),!0;case"mouseover":return Mr=Dl(Mr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Il.set(d,Dl(Il.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Dl(Ol.get(d)||null,n,r,a,l,f)),!0}return!1}function bv(n){var r=Ri(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Cu(n.priority,function(){if(a.tag===13){var l=En();l=lr(l);var f=Sa(a,l);f!==null&&Tn(f,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=hm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Di=l,a.target.dispatchEvent(l),Di=null}else return r=$n(a),r!==null&&Tv(r),n.blockedOn=a,!1;r.shift()}return!0}function wv(n,r,a){Hc(n)&&a.delete(r)}function _w(){dm=!1,Nr!==null&&Hc(Nr)&&(Nr=null),xr!==null&&Hc(xr)&&(xr=null),Mr!==null&&Hc(Mr)&&(Mr=null),Il.forEach(wv),Ol.forEach(wv)}function Fc(n,r){n.blockedOn===r&&(n.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_w)))}var Gc=null;function Rv(n){Gc!==n&&(Gc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===n&&(Gc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=$n(a);d!==null&&(n.splice(r,3),r-=3,fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Nl(n){function r(I){return Fc(I,n)}Nr!==null&&Fc(Nr,n),xr!==null&&Fc(xr,n),Mr!==null&&Fc(Mr,n),Il.forEach(r),Ol.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&Pr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[yt]||null;if(typeof d=="function")E||Rv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[yt]||null)T=E.formAction;else if(fm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Rv(a)}}}function mm(n){this._internalRoot=n}Kc.prototype.render=mm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();vv(a,l,n,r,null,null)},Kc.prototype.unmount=mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;vv(n.current,2,null,n,null,null),Cc(),r[wn]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var r=ur();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,n),a===0&&bv(n)}};var Cv=e.version;if(Cv!=="19.1.0")throw Error(s(527,Cv,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var vw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{ut=Qc.inject(vw),Ke=Qc}catch{}}return Ml.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Hy,d=Fy,E=Gy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=yv(n,1,!1,null,null,a,l,f,d,E,T,null),n[wn]=r.current,Xd(n),new mm(r)},Ml.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Hy,E=Fy,T=Gy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=yv(n,1,!0,r,a??null,l,f,d,E,T,I,q),r.context=_v(null),a=r.current,l=En(),l=lr(l),f=yr(l),f.callback=null,_r(a,f,l),a=l,r.current.lanes=a,wi(r,a),ui(r),n[wn]=r.current,Xd(n),new Kc(r)},Ml.version="19.1.0",Ml}var Lv;function Ow(){if(Lv)return ym.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=Iw(),ym.exports}var Dw=Ow(),Pl={},Uv;function Nw(){if(Uv)return Pl;Uv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=h,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function h(b,x){const w=new u,L=b.length;if(L<2)return w;const D=(x==null?void 0:x.decode)||_;let Q=0;do{const ne=b.indexOf("=",Q);if(ne===-1)break;const X=b.indexOf(";",Q),ce=X===-1?L:X;if(ne>ce){Q=b.lastIndexOf(";",ne-1)+1;continue}const ae=m(b,Q,ne),pe=p(b,ne,ae),M=b.slice(ae,pe);if(w[M]===void 0){let R=m(b,ne+1,ce),C=p(b,ce,R);const P=D(b.slice(R,C));w[M]=P}Q=ce+1}while(Q<L);return w}function m(b,x,w){do{const L=b.charCodeAt(x);if(L!==32&&L!==9)return x}while(++x<w);return w}function p(b,x,w){for(;x>w;){const L=b.charCodeAt(--x);if(L!==32&&L!==9)return x+1}return w}function g(b,x,w){const L=(w==null?void 0:w.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=L(x);if(!e.test(D))throw new TypeError(`argument val is invalid: ${x}`);let Q=b+"="+D;if(!w)return Q;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);Q+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);Q+="; Domain="+w.domain}if(w.path){if(!s.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);Q+="; Path="+w.path}if(w.expires){if(!S(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);Q+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(Q+="; HttpOnly"),w.secure&&(Q+="; Secure"),w.partitioned&&(Q+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return Q}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Pl}Nw();var zv="popstate";function xw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Lm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:$l(o)}return Pw(e,t,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _i(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mw(){return Math.random().toString(36).substring(2,10)}function jv(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:t,key:e&&e.key||s||Mw()}}function $l({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function fo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Pw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function S(){m="POP";let D=_(),Q=D==null?null:D-g;g=D,p&&p({action:m,location:L.location,delta:Q})}function b(D,Q){m="PUSH";let ne=Lm(L.location,D,Q);g=_()+1;let X=jv(ne,g),ce=L.createHref(ne);try{h.pushState(X,"",ce)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ce)}u&&p&&p({action:m,location:L.location,delta:1})}function x(D,Q){m="REPLACE";let ne=Lm(L.location,D,Q);g=_();let X=jv(ne,g),ce=L.createHref(ne);h.replaceState(X,"",ce),u&&p&&p({action:m,location:L.location,delta:0})}function w(D){return Vw(D)}let L={get action(){return m},get location(){return i(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(zv,S),p=D,()=>{o.removeEventListener(zv,S),p=null}},createHref(D){return e(o,D)},createURL:w,encodeLocation(D){let Q=w(D);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:b,replace:x,go(D){return h.go(D)}};return L}function Vw(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:$l(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function xT(i,e,t="/"){return kw(i,e,t,!1)}function kw(i,e,t,s){let o=typeof e=="string"?fo(e):e,u=er(o.pathname||"/",t);if(u==null)return null;let h=MT(i);Lw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=Yw(u);m=Kw(h[p],g,s)}return m}function MT(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),MT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Fw(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of PT(u.path))o(u,h,p)}),e}function PT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=PT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Lw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Gw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Uw=/^:[\w-]+$/,zw=3,jw=2,Bw=1,qw=10,Hw=-2,Bv=i=>i==="*";function Fw(i,e){let t=i.split("/"),s=t.length;return t.some(Bv)&&(s+=Hw),e&&(s+=jw),t.filter(o=>!Bv(o)).reduce((o,u)=>o+(Uw.test(u)?zw:u===""?Bw:qw),s)}function Gw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Kw(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Ji([u,S.pathname]),pathnameBase:Jw(Ji([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Ji([u,S.pathnameBase]))}return h}function ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Qw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:S},b)=>{if(_==="*"){let w=m[b]||"";h=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const x=m[b];return S&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function Qw(i,e=!1,t=!0){_i(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Yw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function $w(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?fo(i):i;return{pathname:t?t.startsWith("/")?t:Xw(t,e):e,search:Zw(s),hash:eR(o)}}function Xw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Tm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ww(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VT(i){let e=Ww(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function kT(i,e,t,s=!1){let o;typeof i=="string"?o=fo(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=$w(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ji=i=>i.join("/").replace(/\/\/+/g,"/"),Jw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function tR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var LT=["POST","PUT","PATCH","DELETE"];new Set(LT);var nR=["GET",...LT];new Set(nR);var mo=K.createContext(null);mo.displayName="DataRouter";var Uh=K.createContext(null);Uh.displayName="DataRouterState";var UT=K.createContext({isTransitioning:!1});UT.displayName="ViewTransition";var iR=K.createContext(new Map);iR.displayName="Fetchers";var rR=K.createContext(null);rR.displayName="Await";var Ti=K.createContext(null);Ti.displayName="Navigation";var au=K.createContext(null);au.displayName="Location";var Si=K.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var _p=K.createContext(null);_p.displayName="RouteError";function sR(i,{relative:e}={}){st(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Ti),{hash:o,pathname:u,search:h}=lu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ji([t,u])),s.createHref({pathname:m,search:h,hash:o})}function ou(){return K.useContext(au)!=null}function Ws(){return st(ou(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(au).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(i){K.useContext(Ti).static||K.useLayoutEffect(i)}function BT(){let{isDataRoute:i}=K.useContext(Si);return i?vR():aR()}function aR(){st(ou(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(mo),{basename:e,navigator:t}=K.useContext(Ti),{matches:s}=K.useContext(Si),{pathname:o}=Ws(),u=JSON.stringify(VT(s)),h=K.useRef(!1);return jT(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(_i(h.current,zT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=kT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ji([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}K.createContext(null);function oR(){let{matches:i}=K.useContext(Si),e=i[i.length-1];return e?e.params:{}}function lu(i,{relative:e}={}){let{matches:t}=K.useContext(Si),{pathname:s}=Ws(),o=JSON.stringify(VT(t));return K.useMemo(()=>kT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function lR(i,e){return qT(i,e)}function qT(i,e,t,s){var ne;st(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Ti),{matches:h}=K.useContext(Si),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";HT(g,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=Ws(),x;if(e){let X=typeof e=="string"?fo(e):e;st(_==="/"||((ne=X.pathname)==null?void 0:ne.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=b;let w=x.pathname||"/",L=w;if(_!=="/"){let X=_.replace(/^\//,"").split("/");L="/"+w.replace(/^\//,"").split("/").slice(X.length).join("/")}let D=!u&&t&&t.matches&&t.matches.length>0?t.matches:xT(i,{pathname:L});_i(S||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),_i(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=dR(D&&D.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Ji([_,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:Ji([_,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&Q?K.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function uR(){let i=_R(),e=tR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,h)}var cR=K.createElement(uR,null),hR=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(Si.Provider,{value:this.props.routeContext},K.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fR({routeContext:i,match:e,children:t}){let s=K.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Si.Provider,{value:i},t)}function dR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:S}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let S,b=!1,x=null,w=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||cR,h&&(m<0&&_===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):m===_&&(b=!0,w=g.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,_+1)),D=()=>{let Q;return S?Q=x:b?Q=w:g.route.Component?Q=K.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,K.createElement(fR,{match:g,routeContext:{outlet:p,matches:L,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?K.createElement(hR,{location:t.location,revalidation:t.revalidation,component:x,error:S,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):D()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mR(i){let e=K.useContext(mo);return st(e,vp(i)),e}function pR(i){let e=K.useContext(Uh);return st(e,vp(i)),e}function gR(i){let e=K.useContext(Si);return st(e,vp(i)),e}function Ep(i){let e=gR(i),t=e.matches[e.matches.length-1];return st(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function yR(){return Ep("useRouteId")}function _R(){var s;let i=K.useContext(_p),e=pR("useRouteError"),t=Ep("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function vR(){let{router:i}=mR("useNavigate"),e=Ep("useNavigate"),t=K.useRef(!1);return jT(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{_i(t.current,zT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var qv={};function HT(i,e,t){!e&&!qv[i]&&(qv[i]=!0,_i(!1,t))}K.memo(ER);function ER({routes:i,future:e,state:t}){return qT(i,void 0,t,e)}function $i(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=fo(t));let{pathname:p="/",search:g="",hash:_="",state:S=null,key:b="default"}=t,x=K.useMemo(()=>{let w=er(p,h);return w==null?null:{location:{pathname:w,search:g,hash:_,state:S,key:b},navigationType:s}},[h,p,g,_,S,b,s]);return _i(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:K.createElement(Ti.Provider,{value:m},K.createElement(au.Provider,{children:e,value:x}))}function Hv({children:i,location:e}){return lR(Um(i),e)}function Um(i,e=[]){let t=[];return K.Children.forEach(i,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,Um(s.props.children,u));return}st(s.type===$i,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Um(s.props.children,u)),t.push(h)}),t}var th="get",nh="application/x-www-form-urlencoded";function zh(i){return i!=null&&typeof i.tagName=="string"}function SR(i){return zh(i)&&i.tagName.toLowerCase()==="button"}function AR(i){return zh(i)&&i.tagName.toLowerCase()==="form"}function bR(i){return zh(i)&&i.tagName.toLowerCase()==="input"}function wR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RR(i,e){return i.button===0&&(!e||e==="_self")&&!wR(i)}var Yc=null;function CR(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var IR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!IR.has(i)?(_i(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):i}function OR(i,e){let t,s,o,u,h;if(AR(i)){let m=i.getAttribute("action");s=m?er(m,e):null,t=i.getAttribute("method")||th,o=Sm(i.getAttribute("enctype"))||nh,u=new FormData(i)}else if(SR(i)||bR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?er(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||th,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||nh,u=new FormData(m,i),!CR()){let{name:g,type:_,value:S}=i;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=th,s=null,o=nh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function DR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function xR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await DR(u,t);return h.links?h.links():[]}return[]}));return kR(s.flat(1).filter(NR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fv(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function MR(i,e,{includeHydrateFallback:t}={}){return PR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function PR(i){return[...new Set(i)]}function VR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function kR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(VR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var LR=new Set([100,101,204,205]);function UR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&er(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function FT(){let i=K.useContext(mo);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function zR(){let i=K.useContext(Uh);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=K.createContext(void 0);Sp.displayName="FrameworkContext";function GT(){let i=K.useContext(Sp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function jR(i,e){let t=K.useContext(Sp),[s,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:S}=e,b=K.useRef(null);K.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let L=Q=>{Q.forEach(ne=>{h(ne.isIntersecting)})},D=new IntersectionObserver(L,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[i]),K.useEffect(()=>{if(s){let L=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(L)}}},[s]);let x=()=>{o(!0)},w=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Vl(m,x),onBlur:Vl(p,w),onMouseEnter:Vl(g,x),onMouseLeave:Vl(_,w),onTouchStart:Vl(S,x)}]:[!1,b,{}]}function Vl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function BR({page:i,...e}){let{router:t}=FT(),s=K.useMemo(()=>xT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?K.createElement(HR,{page:i,matches:s,...e}):null}function qR(i){let{manifest:e,routeModules:t}=GT(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return xR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function HR({page:i,matches:e,...t}){let s=Ws(),{manifest:o,routeModules:u}=GT(),{basename:h}=FT(),{loaderData:m,matches:p}=zR(),g=K.useMemo(()=>Fv(i,e,p,o,s,"data"),[i,e,p,o,s]),_=K.useMemo(()=>Fv(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let w=new Set,L=!1;if(e.forEach(Q=>{var X;let ne=o.routes[Q.route.id];!ne||!ne.hasLoader||(!g.some(ce=>ce.route.id===Q.route.id)&&Q.route.id in m&&((X=u[Q.route.id])!=null&&X.shouldRevalidate)||ne.hasClientLoader?L=!0:w.add(Q.route.id))}),w.size===0)return[];let D=UR(i,h);return L&&w.size>0&&D.searchParams.set("_routes",e.filter(Q=>w.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[D.pathname+D.search]},[h,m,s,o,g,e,i,u]),b=K.useMemo(()=>MR(_,o),[_,o]),x=qR(_);return K.createElement(K.Fragment,null,S.map(w=>K.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),b.map(w=>K.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),x.map(({key:w,link:L})=>K.createElement("link",{key:w,...L})))}function FR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KT&&(window.__reactRouterVersion="7.6.0")}catch{}function GR({basename:i,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=xw({window:t,v5Compat:!0}));let o=s.current,[u,h]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>h(p))},[h]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(TR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:S,...b},x){let{basename:w}=K.useContext(Ti),L=typeof g=="string"&&QT.test(g),D,Q=!1;if(typeof g=="string"&&L&&(D=g,KT))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),k=er(P.pathname,w);P.origin===C.origin&&k!=null?g=k+P.search+P.hash:Q=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=sR(g,{relative:o}),[X,ce,ae]=jR(s,b),pe=$R(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:S});function M(C){e&&e(C),C.defaultPrevented||pe(C)}let R=K.createElement("a",{...b,...ae,href:D||ne,onClick:Q||u?e:M,ref:FR(x,ce),target:p,"data-discover":!L&&t==="render"?"true":void 0});return X&&!L?K.createElement(K.Fragment,null,R,K.createElement(BR,{page:ne})):R});fi.displayName="Link";var KR=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let S=lu(h,{relative:g.relative}),b=Ws(),x=K.useContext(Uh),{navigator:w,basename:L}=K.useContext(Ti),D=x!=null&&e1(S)&&m===!0,Q=w.encodeLocation?w.encodeLocation(S).pathname:S.pathname,ne=b.pathname,X=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&L&&(X=er(X,L)||X);const ce=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ae=ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(ce)==="/",pe=X!=null&&(X===Q||!o&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),M={isActive:ae,isPending:pe,isTransitioning:D},R=ae?e:void 0,C;typeof s=="function"?C=s(M):C=[s,ae?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return K.createElement(fi,{...g,"aria-current":R,className:C,ref:_,style:P,to:h,viewTransition:m},typeof p=="function"?p(M):p)});KR.displayName="NavLink";var QR=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=th,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:S,...b},x)=>{let w=JR(),L=ZR(m,{relative:g}),D=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&QT.test(m),ne=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ce=X.nativeEvent.submitter,ae=(ce==null?void 0:ce.getAttribute("formmethod"))||h;w(ce||X.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:S})};return K.createElement("form",{ref:x,method:D,action:L,onSubmit:s?p:ne,...b,"data-discover":!Q&&i==="render"?"true":void 0})});QR.displayName="Form";function YR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(i){let e=K.useContext(mo);return st(e,YR(i)),e}function $R(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=BT(),p=Ws(),g=lu(i,{relative:u});return K.useCallback(_=>{if(RR(_,e)){_.preventDefault();let S=t!==void 0?t:$l(p)===$l(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var XR=0,WR=()=>`__${String(++XR)}__`;function JR(){let{router:i}=YT("useSubmit"),{basename:e}=K.useContext(Ti),t=yR();return K.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=OR(s,e);if(o.navigate===!1){let _=o.fetcherKey||WR();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function ZR(i,{relative:e}={}){let{basename:t}=K.useContext(Ti),s=K.useContext(Si);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(i||".",{relative:e})},h=Ws();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ji([t,u.pathname])),$l(u)}function e1(i,e={}){let t=K.useContext(UT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YT("useViewTransitionState"),o=lu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=er(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=er(t.nextLocation.pathname,s)||t.nextLocation.pathname;return ph(o.pathname,h)!=null||ph(o.pathname,u)!=null}[...LR];const t1=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},n1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,x=g&63;p||(x=64,h||(b=64)),s.push(t[_],t[S],t[b],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($T(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):n1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new i1;const b=u<<2|m>>4;if(s.push(b),g!==64){const x=m<<4&240|g>>2;if(s.push(x),S!==64){const w=g<<6&192|S;s.push(w)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(i){const e=$T(i);return XT.encodeByteArray(e,!0)},gh=function(i){return r1(i).replace(/\./g,"")},WT=function(i){try{return XT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},l1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&WT(i[1]);return e&&JSON.parse(e)},jh=()=>{try{return t1()||a1()||o1()||l1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JT=i=>{var e,t;return(t=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},u1=i=>{const e=JT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ZT=()=>{var i;return(i=jh())===null||i===void 0?void 0:i.config},e0=i=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){return i.endsWith(".cloudworkstations.dev")}async function t0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(t)),gh(JSON.stringify(h)),""].join(".")}const ql={};function f1(){const i={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?i.emulator.push(e):i.prod.push(e);return i}function d1(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Kv=!1;function Bh(i,e){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||ql[i]===e||ql[i]||Kv)return;ql[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=f1().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Kv=!0,h()},b}function _(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=d1(s),x=t("text"),w=document.getElementById(x)||document.createElement("span"),L=t("learnmore"),D=document.getElementById(L)||document.createElement("a"),Q=t("preprendIcon"),ne=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),_(D,L);const ce=g();p(ne,Q),X.append(ne,w,D,ce),document.body.appendChild(X)}u?(w.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function p1(){var i;const e=(i=jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function E1(){return!p1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="FirebaseError";class ar extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=A1,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?b1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ar(o,m,s)}}function b1(i,e){return i.replace(w1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const w1=/\{\$([^}]+)}/g;function R1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function tr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Qv(u)&&Qv(h)){if(!tr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Qv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function C1(i,e){const t=new I1(i,e);return t.subscribe.bind(t)}class I1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");O1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(i){return i&&i._delegate?i._delegate:i}class Fs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new c1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:N1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N1(i){return i===js?void 0:i}function x1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const P1={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},V1=Ve.INFO,k1={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},L1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=k1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const U1=(i,e)=>e.some(t=>i instanceof t);let Yv,$v;function z1(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n0=new WeakMap,zm=new WeakMap,i0=new WeakMap,bm=new WeakMap,bp=new WeakMap;function B1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(qr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&n0.set(t,i)}).catch(()=>{}),bp.set(e,i),e}function q1(i){if(zm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});zm.set(i,e)}let jm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||i0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function H1(i){jm=i(jm)}function F1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(wm(this),e,...t);return i0.set(s,e.sort?e.sort():[e]),qr(s)}:j1().includes(i)?function(...e){return i.apply(wm(this),e),qr(n0.get(this))}:function(...e){return qr(i.apply(wm(this),e))}}function G1(i){return typeof i=="function"?F1(i):(i instanceof IDBTransaction&&q1(i),U1(i,z1())?new Proxy(i,jm):i)}function qr(i){if(i instanceof IDBRequest)return B1(i);if(bm.has(i))return bm.get(i);const e=G1(i);return e!==i&&(bm.set(i,e),bp.set(e,i)),e}const wm=i=>bp.get(i);function K1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=qr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(qr(h.result),p.oldVersion,p.newVersion,qr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Q1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],Rm=new Map;function Xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Y1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Rm.set(e,u),u}H1(i=>({...i,get:(e,t,s)=>Xv(e,t)||i.get(e,t,s),has:(e,t)=>!!Xv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function X1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",Wv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Ap("@firebase/app"),W1="@firebase/app-compat",J1="@firebase/analytics-compat",Z1="@firebase/analytics",eC="@firebase/app-check-compat",tC="@firebase/app-check",nC="@firebase/auth",iC="@firebase/auth-compat",rC="@firebase/database",sC="@firebase/data-connect",aC="@firebase/database-compat",oC="@firebase/functions",lC="@firebase/functions-compat",uC="@firebase/installations",cC="@firebase/installations-compat",hC="@firebase/messaging",fC="@firebase/messaging-compat",dC="@firebase/performance",mC="@firebase/performance-compat",pC="@firebase/remote-config",gC="@firebase/remote-config-compat",yC="@firebase/storage",_C="@firebase/storage-compat",vC="@firebase/firestore",EC="@firebase/vertexai",TC="@firebase/firestore-compat",SC="firebase",AC="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",bC={[Bm]:"fire-core",[W1]:"fire-core-compat",[Z1]:"fire-analytics",[J1]:"fire-analytics-compat",[tC]:"fire-app-check",[eC]:"fire-app-check-compat",[nC]:"fire-auth",[iC]:"fire-auth-compat",[rC]:"fire-rtdb",[sC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[oC]:"fire-fn",[lC]:"fire-fn-compat",[uC]:"fire-iid",[cC]:"fire-iid-compat",[hC]:"fire-fcm",[fC]:"fire-fcm-compat",[dC]:"fire-perf",[mC]:"fire-perf-compat",[pC]:"fire-rc",[gC]:"fire-rc-compat",[yC]:"fire-gcs",[_C]:"fire-gcs-compat",[vC]:"fire-fst",[TC]:"fire-fst-compat",[EC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,wC=new Map,Hm=new Map;function Jv(i,e){try{i.container.addComponent(e)}catch(t){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function no(i){const e=i.name;if(Hm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,i);for(const t of yh.values())Jv(t,i);for(const t of wC.values())Jv(t,i);return!0}function wp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new cu("app","Firebase",RC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=AC;function r0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(t||(t=ZT()),!t)throw Hr.create("no-options");const u=yh.get(o);if(u){if(tr(t,u.options)&&tr(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const h=new M1(o);for(const p of Hm.values())h.addComponent(p);const m=new CC(t,s,h);return yh.set(o,m),m}function s0(i=qm){const e=yh.get(i);if(!e&&i===qm&&ZT())return r0();if(!e)throw Hr.create("no-app",{appName:i});return e}function Fr(i,e,t){var s;let o=(s=bC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}no(new Fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebase-heartbeat-database",OC=1,Xl="firebase-heartbeat-store";let Cm=null;function a0(){return Cm||(Cm=K1(IC,OC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function DC(i){try{const t=(await a0()).transaction(Xl),s=await t.objectStore(Xl).get(o0(i));return await t.done,s}catch(e){if(e instanceof ar)nr.warn(e.message);else{const t=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(t.message)}}}async function Zv(i,e){try{const s=(await a0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,o0(i)),await s.done}catch(t){if(t instanceof ar)nr.warn(t.message);else{const s=Hr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});nr.warn(s.message)}}}function o0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,xC=30;class MC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=eE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xC){const h=kC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=eE(),{heartbeatsToSend:s,unsentEntries:o}=PC(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return nr.warn(t),""}}}function eE(){return new Date().toISOString().substring(0,10)}function PC(i,e=NC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),tE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function tE(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function kC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){no(new Fs("platform-logger",e=>new $1(e),"PRIVATE")),no(new Fs("heartbeat",e=>new MC(e),"PRIVATE")),Fr(Bm,Wv,i),Fr(Bm,Wv,"esm2017"),Fr("fire-js","")}LC("");function Rp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function l0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UC=l0,u0=new cu("auth","Firebase",l0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Ap("@firebase/auth");function zC(i,...e){_h.logLevel<=Ve.WARN&&_h.warn(`Auth (${po}): ${i}`,...e)}function ih(i,...e){_h.logLevel<=Ve.ERROR&&_h.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,...e){throw Cp(i,...e)}function di(i,...e){return Cp(i,...e)}function c0(i,e,t){const s=Object.assign(Object.assign({},UC()),{[e]:t});return new cu("auth","Firebase",s).create(e,{appName:i.name})}function Zi(i){return c0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return u0.create(i,...e)}function Te(i,e,...t){if(!i)throw Cp(e,...t)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ih(e),new Error(e)}function ir(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function jC(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jC()||y1()||"connection"in navigator)?navigator.onLine:!0}function qC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile=m1()||_1()}get(){return BC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GC=new fu(3e4,6e4);function Zr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function es(i,e,t,s,o={}){return f0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return g1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&uu(i.emulatorConfig.host)&&(g.credentials="include"),h0.fetch()(await d0(i,i.config.apiHost,t,m),g)})}async function f0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},HC),e);try{const o=new QC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw $c(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw $c(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw c0(i,_,g);Gn(i,_)}}catch(o){if(o instanceof ar)throw o;Gn(i,"network-request-failed",{message:String(o)})}}async function du(i,e,t,s,o={}){const u=await es(i,e,t,s,o);return"mfaPendingCredential"in u&&Gn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function d0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Ip(i.config,o):`${i.config.apiScheme}://${o}`;return FC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function KC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),GC.get())})}}function $c(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=di(i,e,s);return o.customData._tokenResponse=t,o}function iE(i){return i!==void 0&&i.enterprise!==void 0}class YC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $C(i,e){return es(i,"GET","/v2/recaptchaConfig",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e){return es(i,"POST","/v1/accounts:delete",e)}async function vh(i,e){return es(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WC(i,e=!1){const t=sn(i),s=await t.getIdToken(e),o=Op(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Hl(Im(o.auth_time)),issuedAtTime:Hl(Im(o.iat)),expirationTime:Hl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function Op(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=WT(t);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(i){const e=Op(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ar&&JC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function JC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Wl(i,vh(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?m0(u.providerUserInfo):[],m=tI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Gm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,S)}async function eI(i){const e=sn(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function m0(i){return i.map(e=>{var{providerId:t}=e,s=Rp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(i,e){const t=await f0(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await d0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",h0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iI(i,e){return es(i,"POST","/v2/accounts:revokeToken",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=rE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await nI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Ja;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Gm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WC(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await Wl(this,XC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,w=(h=t.photoURL)!==null&&h!==void 0?h:void 0,L=(m=t.tenantId)!==null&&m!==void 0?m:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ne=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:ce,isAnonymous:ae,providerData:pe,stsTokenManager:M}=t;Te(X&&M,e,"internal-error");const R=Ja.fromJSON(this.name,M);Te(typeof X=="string",e,"internal-error"),kr(S,e.name),kr(b,e.name),Te(typeof ce=="boolean",e,"internal-error"),Te(typeof ae=="boolean",e,"internal-error"),kr(x,e.name),kr(w,e.name),kr(L,e.name),kr(D,e.name),kr(Q,e.name),kr(ne,e.name);const C=new Fn({uid:X,auth:e,email:b,emailVerified:ce,displayName:S,isAnonymous:ae,photoURL:w,phoneNumber:x,tenantId:L,stsTokenManager:R,createdAt:Q,lastLoginAt:ne});return pe&&Array.isArray(pe)&&(C.providerData=pe.map(P=>Object.assign({},P))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ja;o.updateFromServerResponse(t);const u=new Fn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ja;m.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Wi(i){ir(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}p0.type="NONE";const aE=p0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(i,e,t){return`firebase:${i}:${e}:${t}`}class Za{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vh(this.auth,{idToken:e}).catch(()=>{});return t?Fn._fromGetAccountInfoResponse(this.auth,t,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Za(Wi(aE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(aE);const h=rh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let S;if(typeof _=="string"){const b=await vh(e,{idToken:_}).catch(()=>{});if(!b)break;S=await Fn._fromGetAccountInfoResponse(e,b,_)}else S=Fn._fromJSON(e,_);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(S0(e))return"Webos";if(y0(e))return"Safari";if((e.includes("chrome/")||_0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function g0(i=Zt()){return/firefox\//i.test(i)}function y0(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _0(i=Zt()){return/crios\//i.test(i)}function v0(i=Zt()){return/iemobile/i.test(i)}function E0(i=Zt()){return/android/i.test(i)}function T0(i=Zt()){return/blackberry/i.test(i)}function S0(i=Zt()){return/webos/i.test(i)}function Dp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rI(i=Zt()){var e;return Dp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sI(){return v1()&&document.documentMode===10}function A0(i=Zt()){return Dp(i)||E0(i)||S0(i)||T0(i)||/windows phone/i.test(i)||v0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i,e=[]){let t;switch(i){case"Browser":t=oE(Zt());break;case"Worker":t=`${oE(Zt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(i,e={}){return es(i,"GET","/v2/passwordPolicy",Zr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:lI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(Zi(this));const t=e?sn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),t=new uI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Wi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Js(i){return sn(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=C1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(i){qh=i}function w0(i){return qh.loadJS(i)}function fI(){return qh.recaptchaEnterpriseScript}function dI(){return qh.gapiScript}function mI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new gI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yI="recaptcha-enterprise",R0="NO_RECAPTCHA";class _I{constructor(e){this.type=yI,this.auth=Js(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{$C(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new YC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(R0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&iE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fI();p.length!==0&&(p+=m),w0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function uE(i,e,t,s=!1,o=!1){const u=new _I(i);let h;if(o)h=R0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await uE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await uE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e){const t=wp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(tr(u,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function vI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Wi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function EI(i,e,t){const s=Js(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=I0(e),{host:h,port:m}=TI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(tr(g,s.config.emulator)&&tr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,uu(h)?(Bh("Auth",!0),t0(`${u}//${h}${p}`)):SI()}function I0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TI(i){const e=I0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:cE(h)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,t){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function AI(i,e){return es(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e){return du(i,"POST","/v1/accounts:signInWithPassword",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}async function RI(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Np{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Jl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Jl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,t,"signInWithPassword",bI);case"emailLink":return wI(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,s,"signUpPassword",AI);case"emailLink":return RI(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(i,e){return du(i,"POST","/v1/accounts:signInWithIdp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class Gs extends Np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Rp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Gs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return eo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,eo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eo(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(i){const e=Ll(Ul(i)).link,t=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(i)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||t||e||i}class xp{constructor(e){var t,s,o,u,h,m;const p=Ll(Ul(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,S=II((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&_&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=OI(e);try{return new xp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,t){return Jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=xp.parseLink(t);return Te(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends O0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends mu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ur.credential(t,s)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends mu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends mu{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return jr.credential(t,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i,e){return du(i,"POST","/v1/accounts:signUp",Zr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),h=hE(s);return new Ks({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Ks({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends ar{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Th(e,t,s,o)}}function D0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(i,u,e,s):u})}async function NI(i,e,t=!1){const s=await Wl(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ks._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e,t=!1){const{auth:s}=i;if(Ln(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const u=await Wl(i,D0(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=Op(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),Ks._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N0(i,e,t=!1){if(Ln(i.app))return Promise.reject(Zi(i));const s="signIn",o=await D0(i,s,e),u=await Ks._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function MI(i,e){return N0(Js(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(i){const e=Js(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PI(i,e,t){if(Ln(i.app))return Promise.reject(Zi(i));const s=Js(i),h=await Km(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&x0(i),p}),m=await Ks._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function VI(i,e,t){return Ln(i.app)?Promise.reject(Zi(i)):MI(sn(i),go.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&x0(i),s})}function kI(i,e,t,s){return sn(i).onIdTokenChanged(e,t,s)}function LI(i,e,t){return sn(i).beforeAuthStateChanged(e,t)}function UI(i,e,t,s){return sn(i).onAuthStateChanged(e,t,s)}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1e3,jI=10;class P0 extends M0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);sI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}P0.type="LOCAL";const BI=P0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends M0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}V0.type="SESSION";const k0=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await qI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Mp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function FI(i){mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function GI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function QI(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebaseLocalStorageDb",YI=1,Ah="firebaseLocalStorage",z0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fh(i,e){return i.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function $I(){const i=indexedDB.deleteDatabase(U0);return new pu(i).toPromise()}function Qm(){const i=indexedDB.open(U0,YI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ah,{keyPath:z0})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await $I(),e(await Qm()))})})}async function fE(i,e,t){const s=Fh(i,!0).put({[z0]:e,value:t});return new pu(s).toPromise()}async function XI(i,e){const t=Fh(i,!1).get(e),s=await new pu(t).toPromise();return s===void 0?null:s.value}function dE(i,e){const t=Fh(i,!0).delete(e);return new pu(t).toPromise()}const WI=800,JI=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GI(),!this.activeServiceWorker)return;this.sender=new HI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await fE(e,Sh,"1"),await dE(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const B0=j0;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(i,e){return e?Wi(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function e2(i){return N0(i.auth,new Pp(i),i.bypassAuthState)}function t2(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),xI(t,new Pp(i),i.bypassAuthState)}async function n2(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),NI(t,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e2;case"linkViaPopup":case"linkViaRedirect":return n2;case"reauthViaPopup":case"reauthViaRedirect":return t2;default:Gn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new fu(2e3,1e4);class Wa extends q0{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i2.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="pendingRedirect",sh=new Map;class s2 extends q0{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await a2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a2(i,e){const t=u2(e),s=l2(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function o2(i,e){sh.set(i._key(),e)}function l2(i){return Wi(i._redirectPersistence)}function u2(i){return rh(r2,i.config.apiKey,i.name)}async function c2(i,e,t=!1){if(Ln(i.app))return Promise.reject(Zi(i));const s=Js(i),o=ZI(s,e),h=await new s2(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=10*60*1e3;class f2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!H0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(di(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function H0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(i,e={}){return es(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g2=/^https?/;async function y2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await m2(i);for(const t of e)try{if(_2(t))return}catch{}Gn(i,"unauthorized-domain")}function _2(i){const e=Fm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!g2.test(t))return!1;if(p2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new fu(3e4,6e4);function pE(){const i=mi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function E2(i){return new Promise((e,t)=>{var s,o,u;function h(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),t(di(i,"network-request-failed"))},timeout:v2.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)h();else{const m=mI("iframefcb");return mi()[m]=()=>{gapi.load?h():t(di(i,"network-request-failed"))},w0(`${dI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw ah=null,e})}let ah=null;function T2(i){return ah=ah||E2(i),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=new fu(5e3,15e3),A2="__/auth/iframe",b2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C2(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ip(e,b2):`https://${i.config.authDomain}/${A2}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=R2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${hu(s).slice(1)}`}async function I2(i){const e=await T2(i),t=mi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:C2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=di(i,"network-request-failed"),m=mi().setTimeout(()=>{u(h)},S2.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,N2=600,x2="_blank",M2="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P2(i,e,t,s=D2,o=N2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},O2),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Zt().toLowerCase();t&&(m=_0(g)?x2:t),g0(g)&&(e=e||M2,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[x,w])=>`${b}${x}=${w},`,"");if(rI(g)&&m!=="_self")return V2(e||"",m),new gE(null);const S=window.open(e||"",m,_);Te(S,i,"popup-blocked");try{S.focus()}catch{}return new gE(S)}function V2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="__/auth/handler",L2="emulator/auth/handler",U2=encodeURIComponent("fac");async function yE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:po,eventId:o};if(e instanceof O0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",R1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,S]of Object.entries({}))h[_]=S}if(e instanceof mu){const _=e.getScopes().filter(S=>S!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${U2}=${encodeURIComponent(p)}`:"";return`${z2(i)}?${hu(m).slice(1)}${g}`}function z2({config:i}){return i.emulator?Ip(i,L2):`https://${i.authDomain}/${k2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=c2,this._overrideRedirectResult=o2}async _openPopup(e,t,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await yE(e,t,s,Fm(),o);return P2(e,h,Mp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await yE(e,t,s,Fm(),o);return FI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await I2(e),s=new f2(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&t(!!h),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=y2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A0()||y0()||Dp()}}const B2=j2;var _E="@firebase/auth",vE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F2(i){no(new Fs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b0(i)},g=new cI(s,o,u,p);return vI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),no(new Fs("auth-internal",e=>{const t=Js(e.getProvider("auth").getImmediate());return(s=>new q2(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(_E,vE,H2(i)),Fr(_E,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=5*60,K2=e0("authIdTokenMaxAge")||G2;let EE=null;const Q2=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>K2)return;const o=t==null?void 0:t.token;EE!==o&&(EE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zl(i=s0()){const e=wp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=C0(i,{popupRedirectResolver:B2,persistence:[B0,BI,k0]}),s=e0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Q2(u.toString());LI(t,h,()=>h(t.currentUser)),kI(t,m=>h(m))}}const o=JT("auth");return o?EI(t,`http://${o}`):Bh("Auth",!1),t}function Y2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=di("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Y2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F2("Browser");function F0(i,e){return function(){return i.apply(e,arguments)}}const{toString:$2}=Object.prototype,{getPrototypeOf:Vp}=Object,{iterator:Gh,toStringTag:G0}=Symbol,Kh=(i=>e=>{const t=$2.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=i=>(i=i.toLowerCase(),e=>Kh(e)===i),Qh=i=>e=>typeof e===i,{isArray:yo}=Array,eu=Qh("undefined");function X2(i){return i!==null&&!eu(i)&&i.constructor!==null&&!eu(i.constructor)&&hn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const K0=Kn("ArrayBuffer");function W2(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&K0(i.buffer),e}const J2=Qh("string"),hn=Qh("function"),Q0=Qh("number"),Yh=i=>i!==null&&typeof i=="object",Z2=i=>i===!0||i===!1,oh=i=>{if(Kh(i)!=="object")return!1;const e=Vp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(G0 in i)&&!(Gh in i)},eO=Kn("Date"),tO=Kn("File"),nO=Kn("Blob"),iO=Kn("FileList"),rO=i=>Yh(i)&&hn(i.pipe),sO=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||hn(i.append)&&((e=Kh(i))==="formdata"||e==="object"&&hn(i.toString)&&i.toString()==="[object FormData]"))},aO=Kn("URLSearchParams"),[oO,lO,uO,cO]=["ReadableStream","Request","Response","Headers"].map(Kn),hO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),yo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function Y0(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$0=i=>!eu(i)&&i!==Bs;function Ym(){const{caseless:i}=$0(this)&&this||{},e={},t=(s,o)=>{const u=i&&Y0(e,o)||o;oh(e[u])&&oh(s)?e[u]=Ym(e[u],s):oh(s)?e[u]=Ym({},s):yo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&gu(arguments[s],t);return e}const fO=(i,e,t,{allOwnKeys:s}={})=>(gu(e,(o,u)=>{t&&hn(o)?i[u]=F0(o,t):i[u]=o},{allOwnKeys:s}),i),dO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),mO=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},pO=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Vp(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},gO=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},yO=i=>{if(!i)return null;if(yo(i))return i;let e=i.length;if(!Q0(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},_O=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Vp(Uint8Array)),vO=(i,e)=>{const s=(i&&i[Gh]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},EO=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},TO=Kn("HTMLFormElement"),SO=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),TE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),AO=Kn("RegExp"),X0=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};gu(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},bO=i=>{X0(i,(e,t)=>{if(hn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(hn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},wO=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return yo(i)?s(i):s(String(i).split(e)),t},RO=()=>{},CO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function IO(i){return!!(i&&hn(i.append)&&i[G0]==="FormData"&&i[Gh])}const OO=i=>{const e=new Array(10),t=(s,o)=>{if(Yh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=yo(s)?[]:{};return gu(s,(h,m)=>{const p=t(h,o+1);!eu(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(i,0)},DO=Kn("AsyncFunction"),NO=i=>i&&(Yh(i)||hn(i))&&hn(i.then)&&hn(i.catch),W0=((i,e)=>i?setImmediate:e?((t,s)=>(Bs.addEventListener("message",({source:o,data:u})=>{o===Bs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Bs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hn(Bs.postMessage)),xO=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||W0,MO=i=>i!=null&&hn(i[Gh]),$={isArray:yo,isArrayBuffer:K0,isBuffer:X2,isFormData:sO,isArrayBufferView:W2,isString:J2,isNumber:Q0,isBoolean:Z2,isObject:Yh,isPlainObject:oh,isReadableStream:oO,isRequest:lO,isResponse:uO,isHeaders:cO,isUndefined:eu,isDate:eO,isFile:tO,isBlob:nO,isRegExp:AO,isFunction:hn,isStream:rO,isURLSearchParams:aO,isTypedArray:_O,isFileList:iO,forEach:gu,merge:Ym,extend:fO,trim:hO,stripBOM:dO,inherits:mO,toFlatObject:pO,kindOf:Kh,kindOfTest:Kn,endsWith:gO,toArray:yO,forEachEntry:vO,matchAll:EO,isHTMLForm:TO,hasOwnProperty:TE,hasOwnProp:TE,reduceDescriptors:X0,freezeMethods:bO,toObjectSet:wO,toCamelCase:SO,noop:RO,toFiniteNumber:CO,findKey:Y0,global:Bs,isContextDefined:$0,isSpecCompliantForm:IO,toJSONObject:OO,isAsyncFn:DO,isThenable:NO,setImmediate:W0,asap:xO,isIterable:MO};function Ce(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const J0=Ce.prototype,Z0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Z0[i]={value:i}});Object.defineProperties(Ce,Z0);Object.defineProperty(J0,"isAxiosError",{value:!0});Ce.from=(i,e,t,s,o,u)=>{const h=Object.create(J0);return $.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const PO=null;function $m(i){return $.isPlainObject(i)||$.isArray(i)}function eS(i){return $.endsWith(i,"[]")?i.slice(0,-2):i}function SE(i,e,t){return i?i.concat(e).map(function(o,u){return o=eS(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function VO(i){return $.isArray(i)&&!i.some($m)}const kO=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function $h(i,e,t){if(!$.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=$.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,D){return!$.isUndefined(D[L])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if($.isDate(w))return w.toISOString();if(!p&&$.isBlob(w))throw new Ce("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(w)||$.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function _(w,L,D){let Q=w;if(w&&!D&&typeof w=="object"){if($.endsWith(L,"{}"))L=s?L:L.slice(0,-2),w=JSON.stringify(w);else if($.isArray(w)&&VO(w)||($.isFileList(w)||$.endsWith(L,"[]"))&&(Q=$.toArray(w)))return L=eS(L),Q.forEach(function(X,ce){!($.isUndefined(X)||X===null)&&e.append(h===!0?SE([L],ce,u):h===null?L:L+"[]",g(X))}),!1}return $m(w)?!0:(e.append(SE(D,L,u),g(w)),!1)}const S=[],b=Object.assign(kO,{defaultVisitor:_,convertValue:g,isVisitable:$m});function x(w,L){if(!$.isUndefined(w)){if(S.indexOf(w)!==-1)throw Error("Circular reference detected in "+L.join("."));S.push(w),$.forEach(w,function(Q,ne){(!($.isUndefined(Q)||Q===null)&&o.call(e,Q,$.isString(ne)?ne.trim():ne,L,b))===!0&&x(Q,L?L.concat(ne):[ne])}),S.pop()}}if(!$.isObject(i))throw new TypeError("data must be an object");return x(i),e}function AE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function kp(i,e){this._pairs=[],i&&$h(i,this,e)}const tS=kp.prototype;tS.append=function(e,t){this._pairs.push([e,t])};tS.toString=function(e){const t=e?function(s){return e.call(this,s,AE)}:AE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function LO(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nS(i,e,t){if(!e)return i;const s=t&&t.encode||LO;$.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=$.isURLSearchParams(e)?e.toString():new kp(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class bE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(s){s!==null&&e(s)})}}const iS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UO=typeof URLSearchParams<"u"?URLSearchParams:kp,zO=typeof FormData<"u"?FormData:null,jO=typeof Blob<"u"?Blob:null,BO={isBrowser:!0,classes:{URLSearchParams:UO,FormData:zO,Blob:jO},protocols:["http","https","file","blob","url","data"]},Lp=typeof window<"u"&&typeof document<"u",Xm=typeof navigator=="object"&&navigator||void 0,qO=Lp&&(!Xm||["ReactNative","NativeScript","NS"].indexOf(Xm.product)<0),HO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FO=Lp&&window.location.href||"http://localhost",GO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lp,hasStandardBrowserEnv:qO,hasStandardBrowserWebWorkerEnv:HO,navigator:Xm,origin:FO},Symbol.toStringTag,{value:"Module"})),Jt={...GO,...BO};function KO(i,e){return $h(i,new Jt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return Jt.isNode&&$.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function QO(i){return $.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YO(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function rS(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&$.isArray(o)?o.length:h,p?($.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!$.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&$.isArray(o[h])&&(o[h]=YO(o[h])),!m)}if($.isFormData(i)&&$.isFunction(i.entries)){const t={};return $.forEachEntry(i,(s,o)=>{e(QO(s),o,t,0)}),t}return null}function $O(i,e,t){if($.isString(i))try{return(e||JSON.parse)(i),$.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const yu={transitional:iS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=$.isObject(e);if(u&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return o?JSON.stringify(rS(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return KO(e,this.formSerializer).toString();if((m=$.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return $h(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),$O(e)):e}],transformResponse:[function(e){const t=this.transitional||yu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],i=>{yu.headers[i]={}});const XO=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WO=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&XO[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},wE=Symbol("internals");function kl(i){return i&&String(i).trim().toLowerCase()}function lh(i){return i===!1||i==null?i:$.isArray(i)?i.map(lh):String(i)}function JO(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const ZO=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Dm(i,e,t,s,o){if($.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!$.isString(e)){if($.isString(s))return e.indexOf(s)!==-1;if($.isRegExp(s))return s.test(e)}}function eD(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function tD(i,e){const t=$.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const _=kl(p);if(!_)throw new Error("header name must be a non-empty string");const S=$.findKey(o,_);(!S||o[S]===void 0||g===!0||g===void 0&&o[S]!==!1)&&(o[S||p]=lh(m))}const h=(m,p)=>$.forEach(m,(g,_)=>u(g,_,p));if($.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if($.isString(e)&&(e=e.trim())&&!ZO(e))h(WO(e),t);else if($.isObject(e)&&$.isIterable(e)){let m={},p,g;for(const _ of e){if(!$.isArray(_))throw TypeError("Object iterator must return a key-value pair");m[g=_[0]]=(p=m[g])?$.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}h(m,t)}else e!=null&&u(t,e,s);return this}get(e,t){if(e=kl(e),e){const s=$.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return JO(o);if($.isFunction(t))return t.call(this,o,s);if($.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kl(e),e){const s=$.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Dm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=kl(h),h){const m=$.findKey(s,h);m&&(!t||Dm(s,s[m],m,t))&&(delete s[m],o=!0)}}return $.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||Dm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return $.forEach(this,(o,u)=>{const h=$.findKey(s,u);if(h){t[h]=lh(o),delete t[u];return}const m=e?eD(u):String(u).trim();m!==u&&delete t[u],t[m]=lh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&$.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[wE]=this[wE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=kl(h);s[m]||(tD(o,h),s[m]=!0)}return $.isArray(e)?e.forEach(u):u(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(fn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});$.freezeMethods(fn);function Nm(i,e){const t=this||yu,s=e||t,o=fn.from(s.headers);let u=s.data;return $.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function sS(i){return!!(i&&i.__CANCEL__)}function _o(i,e,t){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}$.inherits(_o,Ce,{__CANCEL__:!0});function aS(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function nD(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function iD(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[u];h||(h=g),t[o]=p,s[o]=g;let S=u,b=0;for(;S!==o;)b+=t[S++],S=S%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const x=_&&g-_;return x?Math.round(b*1e3/x):void 0}}function rD(i,e){let t=0,s=1e3/e,o,u;const h=(g,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const _=Date.now(),S=_-t;S>=s?h(g,_):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-S)))},()=>o&&h(o)]}const bh=(i,e,t=3)=>{let s=0;const o=iD(50,250);return rD(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),_=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&_?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(S)},t)},RE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},CE=i=>(...e)=>$.asap(()=>i(...e)),sD=Jt.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Jt.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,aD=Jt.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];$.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),$.isString(s)&&h.push("path="+s),$.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oD(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function lD(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function oS(i,e,t){let s=!oD(e);return i&&(s||t==!1)?lD(i,e):e}const IE=i=>i instanceof fn?{...i}:i;function Qs(i,e){e=e||{};const t={};function s(g,_,S,b){return $.isPlainObject(g)&&$.isPlainObject(_)?$.merge.call({caseless:b},g,_):$.isPlainObject(_)?$.merge({},_):$.isArray(_)?_.slice():_}function o(g,_,S,b){if($.isUndefined(_)){if(!$.isUndefined(g))return s(void 0,g,S,b)}else return s(g,_,S,b)}function u(g,_){if(!$.isUndefined(_))return s(void 0,_)}function h(g,_){if($.isUndefined(_)){if(!$.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function m(g,_,S){if(S in e)return s(g,_);if(S in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,_,S)=>o(IE(g),IE(_),S,!0)};return $.forEach(Object.keys(Object.assign({},i,e)),function(_){const S=p[_]||o,b=S(i[_],e[_],_);$.isUndefined(b)&&S!==m||(t[_]=b)}),t}const lS=i=>{const e=Qs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=fn.from(h),e.url=nS(oS(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if($.isFormData(t)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,..._]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",..._].join("; "))}}if(Jt.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(e)),s||s!==!1&&sD(e.url))){const g=o&&u&&aD.read(u);g&&h.set(o,g)}return e},uD=typeof XMLHttpRequest<"u",cD=uD&&function(i){return new Promise(function(t,s){const o=lS(i);let u=o.data;const h=fn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,_,S,b,x,w;function L(){x&&x(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let D=new XMLHttpRequest;D.open(o.method.toUpperCase(),o.url,!0),D.timeout=o.timeout;function Q(){if(!D)return;const X=fn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),ae={data:!m||m==="text"||m==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:X,config:i,request:D};aS(function(M){t(M),L()},function(M){s(M),L()},ae),D=null}"onloadend"in D?D.onloadend=Q:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(Q)},D.onabort=function(){D&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,D)),D=null)},D.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,D)),D=null},D.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ae=o.transitional||iS;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),s(new Ce(ce,ae.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,D)),D=null},u===void 0&&h.setContentType(null),"setRequestHeader"in D&&$.forEach(h.toJSON(),function(ce,ae){D.setRequestHeader(ae,ce)}),$.isUndefined(o.withCredentials)||(D.withCredentials=!!o.withCredentials),m&&m!=="json"&&(D.responseType=o.responseType),g&&([b,w]=bh(g,!0),D.addEventListener("progress",b)),p&&D.upload&&([S,x]=bh(p),D.upload.addEventListener("progress",S),D.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(_=X=>{D&&(s(!X||X.type?new _o(null,i,D):X),D.abort(),D=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const ne=nD(o.url);if(ne&&Jt.protocols.indexOf(ne)===-1){s(new Ce("Unsupported protocol "+ne+":",Ce.ERR_BAD_REQUEST,i));return}D.send(u||null)})},hD=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ce?_:new _o(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>$.asap(m),p}},fD=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},dD=async function*(i,e){for await(const t of mD(i))yield*fD(t,e)},mD=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},OE=(i,e,t,s)=>{const o=dD(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){m(),p.close();return}let S=_.byteLength;if(t){let b=u+=S;t(b)}p.enqueue(new Uint8Array(_))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},Xh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uS=Xh&&typeof ReadableStream=="function",pD=Xh&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),cS=(i,...e)=>{try{return!!i(...e)}catch{return!1}},gD=uS&&cS(()=>{let i=!1;const e=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),DE=64*1024,Wm=uS&&cS(()=>$.isReadableStream(new Response("").body)),wh={stream:Wm&&(i=>i.body)};Xh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wh[e]&&(wh[e]=$.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const yD=async i=>{if(i==null)return 0;if($.isBlob(i))return i.size;if($.isSpecCompliantForm(i))return(await new Request(Jt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if($.isArrayBufferView(i)||$.isArrayBuffer(i))return i.byteLength;if($.isURLSearchParams(i)&&(i=i+""),$.isString(i))return(await pD(i)).byteLength},_D=async(i,e)=>{const t=$.toFiniteNumber(i.getContentLength());return t??yD(e)},vD=Xh&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:_,withCredentials:S="same-origin",fetchOptions:b}=lS(i);g=g?(g+"").toLowerCase():"text";let x=hD([o,u&&u.toAbortSignal()],h),w;const L=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let D;try{if(p&&gD&&t!=="get"&&t!=="head"&&(D=await _D(_,s))!==0){let ae=new Request(e,{method:"POST",body:s,duplex:"half"}),pe;if($.isFormData(s)&&(pe=ae.headers.get("content-type"))&&_.setContentType(pe),ae.body){const[M,R]=RE(D,bh(CE(p)));s=OE(ae.body,DE,M,R)}}$.isString(S)||(S=S?"include":"omit");const Q="credentials"in Request.prototype;w=new Request(e,{...b,signal:x,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:Q?S:void 0});let ne=await fetch(w);const X=Wm&&(g==="stream"||g==="response");if(Wm&&(m||X&&L)){const ae={};["status","statusText","headers"].forEach(C=>{ae[C]=ne[C]});const pe=$.toFiniteNumber(ne.headers.get("content-length")),[M,R]=m&&RE(pe,bh(CE(m),!0))||[];ne=new Response(OE(ne.body,DE,M,()=>{R&&R(),L&&L()}),ae)}g=g||"text";let ce=await wh[$.findKey(wh,g)||"text"](ne,i);return!X&&L&&L(),await new Promise((ae,pe)=>{aS(ae,pe,{data:ce,headers:fn.from(ne.headers),status:ne.status,statusText:ne.statusText,config:i,request:w})})}catch(Q){throw L&&L(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,w),{cause:Q.cause||Q}):Ce.from(Q,Q&&Q.code,i,w)}}),Jm={http:PO,xhr:cD,fetch:vD};$.forEach(Jm,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const NE=i=>`- ${i}`,ED=i=>$.isFunction(i)||i===null||i===!1,hS={getAdapter:i=>{i=$.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!ED(t)&&(s=Jm[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(NE).join(`
`):" "+NE(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Jm};function xm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new _o(null,i)}function xE(i){return xm(i),i.headers=fn.from(i.headers),i.data=Nm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),hS.getAdapter(i.adapter||yu.adapter)(i).then(function(s){return xm(i),s.data=Nm.call(i,i.transformResponse,s),s.headers=fn.from(s.headers),s},function(s){return sS(s)||(xm(i),s&&s.response&&(s.response.data=Nm.call(i,i.transformResponse,s.response),s.response.headers=fn.from(s.response.headers))),Promise.reject(s)})}const fS="1.9.0",Wh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Wh[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const ME={};Wh.transitional=function(e,t,s){function o(u,h){return"[Axios v"+fS+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!ME[h]&&(ME[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};Wh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function TD(i,e,t){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Ce("option "+u+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const uh={assertOptions:TD,validators:Wh},ci=uh.validators;let Hs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bE,response:new bE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Qs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&uh.assertOptions(s,{silentJSONParsing:ci.transitional(ci.boolean),forcedJSONParsing:ci.transitional(ci.boolean),clarifyTimeoutError:ci.transitional(ci.boolean)},!1),o!=null&&($.isFunction(o)?t.paramsSerializer={serialize:o}:uh.assertOptions(o,{encode:ci.function,serialize:ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),uh.assertOptions(t,{baseUrl:ci.spelling("baseURL"),withXsrfToken:ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&$.merge(u.common,u[t.method]);u&&$.forEach(["delete","get","head","post","put","patch","common"],w=>{delete u[w]}),t.headers=fn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(t)===!1||(p=p&&L.synchronous,m.unshift(L.fulfilled,L.rejected))});const g=[];this.interceptors.response.forEach(function(L){g.push(L.fulfilled,L.rejected)});let _,S=0,b;if(!p){const w=[xE.bind(this),void 0];for(w.unshift.apply(w,m),w.push.apply(w,g),b=w.length,_=Promise.resolve(t);S<b;)_=_.then(w[S++],w[S++]);return _}b=m.length;let x=t;for(S=0;S<b;){const w=m[S++],L=m[S++];try{x=w(x)}catch(D){L.call(this,D);break}}try{_=xE.call(this,x)}catch(w){return Promise.reject(w)}for(S=0,b=g.length;S<b;)_=_.then(g[S++],g[S++]);return _}getUri(e){e=Qs(this.defaults,e);const t=oS(e.baseURL,e.url,e.allowAbsoluteUrls);return nS(t,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Hs.prototype[e]=function(t,s){return this.request(Qs(s||{},{method:e,url:t,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(Qs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Hs.prototype[e]=t(),Hs.prototype[e+"Form"]=t(!0)});let SD=class dS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new _o(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dS(function(o){e=o}),cancel:e}}};function AD(i){return function(t){return i.apply(null,t)}}function bD(i){return $.isObject(i)&&i.isAxiosError===!0}const Zm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zm).forEach(([i,e])=>{Zm[e]=i});function mS(i){const e=new Hs(i),t=F0(Hs.prototype.request,e);return $.extend(t,Hs.prototype,e,{allOwnKeys:!0}),$.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return mS(Qs(i,o))},t}const at=mS(yu);at.Axios=Hs;at.CanceledError=_o;at.CancelToken=SD;at.isCancel=sS;at.VERSION=fS;at.toFormData=$h;at.AxiosError=Ce;at.Cancel=at.CanceledError;at.all=function(e){return Promise.all(e)};at.spread=AD;at.isAxiosError=bD;at.mergeConfig=Qs;at.AxiosHeaders=fn;at.formToJSON=i=>rS($.isHTMLForm(i)?new FormData(i):i);at.getAdapter=hS.getAdapter;at.HttpStatusCode=Zm;at.default=at;const{Axios:o4,AxiosError:l4,CanceledError:u4,isCancel:c4,CancelToken:h4,VERSION:f4,all:d4,Cancel:m4,isAxiosError:p4,spread:g4,toFormData:y4,AxiosHeaders:_4,HttpStatusCode:v4,formToJSON:E4,getAdapter:T4,mergeConfig:S4}=at,pS="https://restcountries.com/v3.1",Up=async()=>{try{return(await at.get(`${pS}/all?fields=name,cca3,flags,population,region,capital`)).data}catch(i){throw console.error("Error fetching all countries summary:",i),i}},wD=async i=>{var e;try{return(await at.get(`${pS}/alpha/${i}`)).data[0]||null}catch(t){if(console.error(`Error fetching country by cca3 code ${i}:`,t),at.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===404)return null;throw t}},PE=()=>{const[i,e]=K.useState([]),[t,s]=K.useState([]),[o,u]=K.useState(!0),[h,m]=K.useState(null),[p,g]=K.useState(""),[_,S]=K.useState("");K.useEffect(()=>{(async()=>{try{u(!0);const L=await Up();e(L),s(L),m(null)}catch(L){m("Maiden tietoja ei voitu ladata. Yrit myhemmin uudelleen."),console.error(L)}finally{u(!1)}})()},[]);const b=K.useMemo(()=>{const w=new Set(i.map(L=>L.region).sort());return Array.from(w)},[i]),x=async w=>{if(w.preventDefault(),!p&&!_){s(i);return}u(!0),m(null);try{let L=[];p?L=i.filter(D=>D.name.common.toLowerCase().includes(p.toLowerCase())||D.capital&&D.capital.join(", ").toLowerCase().includes(p.toLowerCase())):L=[...i],_&&(L=L.filter(D=>D.region===_)),s(L)}catch(L){m("Haussa tapahtui virhe."),console.error(L),s([])}finally{u(!1)}};return o&&t.length===0?G.jsx("p",{children:"Ladataan maita..."}):h?G.jsx("p",{role:"alert",style:{color:"red"},children:h}):G.jsxs("div",{className:"country-list-container",children:[G.jsx("h1",{children:"Tutustu Maailman Maihin"}),G.jsxs("form",{onSubmit:x,className:"filter-form",children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"search-term",children:"Hae maan tai pkaupungin nimell:"}),G.jsx("input",{id:"search-term",type:"text",value:p,onChange:w=>g(w.target.value),placeholder:"Esim. Finland tai Helsinki"})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{htmlFor:"region-select",children:"Suodata maanosan mukaan:"}),G.jsxs("select",{id:"region-select",value:_,onChange:w=>S(w.target.value),children:[G.jsx("option",{value:"",children:"Kaikki maanosat"}),b.map(w=>G.jsx("option",{value:w,children:w},w))]})]}),G.jsx("button",{type:"submit",disabled:o,children:o?"Haetaan...":"Hae / Suodata"})]}),t.length===0&&!o&&G.jsx("p",{children:"Ei hakutuloksia."}),G.jsx("div",{className:"country-grid","aria-live":"polite",children:t.map(w=>{var L;return G.jsxs(fi,{to:`/country/${w.cca3}`,className:"country-card",children:[G.jsx("img",{src:w.flags.svg,alt:`Lippu: ${w.name.common}`,loading:"lazy"}),G.jsxs("div",{className:"card-content",children:[G.jsx("h2",{children:w.name.common}),G.jsxs("p",{children:["Pkaupunki: ",((L=w.capital)==null?void 0:L[0])||"Ei tietoa"]}),G.jsxs("p",{children:["Vkiluku: ",w.population.toLocaleString("fi-FI")]}),G.jsxs("p",{children:["Maanosa: ",w.region]})]})]},w.cca3)})})]})};var RD="firebase",CD="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(RD,CD,"app");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,gS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function C(){}C.prototype=R.prototype,M.D=R.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(P,k,z){for(var O=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)O[Lt-2]=arguments[Lt];return R.prototype[k].apply(P,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,C){C||(C=0);var P=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)P[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)P[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=M.g[0],C=M.g[1],k=M.g[2];var z=M.g[3],O=R+(z^C&(k^z))+P[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=z+(k^R&(C^k))+P[1]+3905402710&4294967295,z=R+(O<<12&4294967295|O>>>20),O=k+(C^z&(R^C))+P[2]+606105819&4294967295,k=z+(O<<17&4294967295|O>>>15),O=C+(R^k&(z^R))+P[3]+3250441966&4294967295,C=k+(O<<22&4294967295|O>>>10),O=R+(z^C&(k^z))+P[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=z+(k^R&(C^k))+P[5]+1200080426&4294967295,z=R+(O<<12&4294967295|O>>>20),O=k+(C^z&(R^C))+P[6]+2821735955&4294967295,k=z+(O<<17&4294967295|O>>>15),O=C+(R^k&(z^R))+P[7]+4249261313&4294967295,C=k+(O<<22&4294967295|O>>>10),O=R+(z^C&(k^z))+P[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=z+(k^R&(C^k))+P[9]+2336552879&4294967295,z=R+(O<<12&4294967295|O>>>20),O=k+(C^z&(R^C))+P[10]+4294925233&4294967295,k=z+(O<<17&4294967295|O>>>15),O=C+(R^k&(z^R))+P[11]+2304563134&4294967295,C=k+(O<<22&4294967295|O>>>10),O=R+(z^C&(k^z))+P[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=z+(k^R&(C^k))+P[13]+4254626195&4294967295,z=R+(O<<12&4294967295|O>>>20),O=k+(C^z&(R^C))+P[14]+2792965006&4294967295,k=z+(O<<17&4294967295|O>>>15),O=C+(R^k&(z^R))+P[15]+1236535329&4294967295,C=k+(O<<22&4294967295|O>>>10),O=R+(k^z&(C^k))+P[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=z+(C^k&(R^C))+P[6]+3225465664&4294967295,z=R+(O<<9&4294967295|O>>>23),O=k+(R^C&(z^R))+P[11]+643717713&4294967295,k=z+(O<<14&4294967295|O>>>18),O=C+(z^R&(k^z))+P[0]+3921069994&4294967295,C=k+(O<<20&4294967295|O>>>12),O=R+(k^z&(C^k))+P[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=z+(C^k&(R^C))+P[10]+38016083&4294967295,z=R+(O<<9&4294967295|O>>>23),O=k+(R^C&(z^R))+P[15]+3634488961&4294967295,k=z+(O<<14&4294967295|O>>>18),O=C+(z^R&(k^z))+P[4]+3889429448&4294967295,C=k+(O<<20&4294967295|O>>>12),O=R+(k^z&(C^k))+P[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=z+(C^k&(R^C))+P[14]+3275163606&4294967295,z=R+(O<<9&4294967295|O>>>23),O=k+(R^C&(z^R))+P[3]+4107603335&4294967295,k=z+(O<<14&4294967295|O>>>18),O=C+(z^R&(k^z))+P[8]+1163531501&4294967295,C=k+(O<<20&4294967295|O>>>12),O=R+(k^z&(C^k))+P[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=z+(C^k&(R^C))+P[2]+4243563512&4294967295,z=R+(O<<9&4294967295|O>>>23),O=k+(R^C&(z^R))+P[7]+1735328473&4294967295,k=z+(O<<14&4294967295|O>>>18),O=C+(z^R&(k^z))+P[12]+2368359562&4294967295,C=k+(O<<20&4294967295|O>>>12),O=R+(C^k^z)+P[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=z+(R^C^k)+P[8]+2272392833&4294967295,z=R+(O<<11&4294967295|O>>>21),O=k+(z^R^C)+P[11]+1839030562&4294967295,k=z+(O<<16&4294967295|O>>>16),O=C+(k^z^R)+P[14]+4259657740&4294967295,C=k+(O<<23&4294967295|O>>>9),O=R+(C^k^z)+P[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=z+(R^C^k)+P[4]+1272893353&4294967295,z=R+(O<<11&4294967295|O>>>21),O=k+(z^R^C)+P[7]+4139469664&4294967295,k=z+(O<<16&4294967295|O>>>16),O=C+(k^z^R)+P[10]+3200236656&4294967295,C=k+(O<<23&4294967295|O>>>9),O=R+(C^k^z)+P[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=z+(R^C^k)+P[0]+3936430074&4294967295,z=R+(O<<11&4294967295|O>>>21),O=k+(z^R^C)+P[3]+3572445317&4294967295,k=z+(O<<16&4294967295|O>>>16),O=C+(k^z^R)+P[6]+76029189&4294967295,C=k+(O<<23&4294967295|O>>>9),O=R+(C^k^z)+P[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=z+(R^C^k)+P[12]+3873151461&4294967295,z=R+(O<<11&4294967295|O>>>21),O=k+(z^R^C)+P[15]+530742520&4294967295,k=z+(O<<16&4294967295|O>>>16),O=C+(k^z^R)+P[2]+3299628645&4294967295,C=k+(O<<23&4294967295|O>>>9),O=R+(k^(C|~z))+P[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=z+(C^(R|~k))+P[7]+1126891415&4294967295,z=R+(O<<10&4294967295|O>>>22),O=k+(R^(z|~C))+P[14]+2878612391&4294967295,k=z+(O<<15&4294967295|O>>>17),O=C+(z^(k|~R))+P[5]+4237533241&4294967295,C=k+(O<<21&4294967295|O>>>11),O=R+(k^(C|~z))+P[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=z+(C^(R|~k))+P[3]+2399980690&4294967295,z=R+(O<<10&4294967295|O>>>22),O=k+(R^(z|~C))+P[10]+4293915773&4294967295,k=z+(O<<15&4294967295|O>>>17),O=C+(z^(k|~R))+P[1]+2240044497&4294967295,C=k+(O<<21&4294967295|O>>>11),O=R+(k^(C|~z))+P[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=z+(C^(R|~k))+P[15]+4264355552&4294967295,z=R+(O<<10&4294967295|O>>>22),O=k+(R^(z|~C))+P[6]+2734768916&4294967295,k=z+(O<<15&4294967295|O>>>17),O=C+(z^(k|~R))+P[13]+1309151649&4294967295,C=k+(O<<21&4294967295|O>>>11),O=R+(k^(C|~z))+P[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=z+(C^(R|~k))+P[11]+3174756917&4294967295,z=R+(O<<10&4294967295|O>>>22),O=k+(R^(z|~C))+P[2]+718787259&4294967295,k=z+(O<<15&4294967295|O>>>17),O=C+(z^(k|~R))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var C=R-this.blockSize,P=this.B,k=this.h,z=0;z<R;){if(k==0)for(;z<=C;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(P[k++]=M.charCodeAt(z++),k==this.blockSize){o(this,P),k=0;break}}else for(;z<R;)if(P[k++]=M[z++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var C=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.u(M),M=Array(16),R=C=0;4>R;++R)for(var P=0;32>P;P+=8)M[C++]=this.g[R]>>>P&255;return M};function u(M,R){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=R(M)}function h(M,R){this.h=R;for(var C=[],P=!0,k=M.length-1;0<=k;k--){var z=M[k]|0;P&&z==R||(C[k]=z,P=!1)}this.g=C}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return D(g(-M));for(var R=[],C=1,P=0;M>=C;P++)R[P]=M/C|0,C*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return D(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),P=S,k=0;k<M.length;k+=8){var z=Math.min(8,M.length-k),O=parseInt(M.substring(k,k+z),R);8>z?(z=g(Math.pow(R,z)),P=P.j(z).add(g(O))):(P=P.j(C),P=P.add(g(O)))}return P}var S=p(0),b=p(1),x=p(16777216);i=h.prototype,i.m=function(){if(L(this))return-D(this).m();for(var M=0,R=1,C=0;C<this.g.length;C++){var P=this.i(C);M+=(0<=P?P:4294967296+P)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(L(this))return"-"+D(this).toString(M);for(var R=g(Math.pow(M,6)),C=this,P="";;){var k=ce(C,R).g;C=Q(C,k.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=k,w(C))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function L(M){return M.h==-1}i.l=function(M){return M=Q(this,M),L(M)?-1:w(M)?0:1};function D(M){for(var R=M.g.length,C=[],P=0;P<R;P++)C[P]=~M.g[P];return new h(C,~M.h).add(b)}i.abs=function(){return L(this)?D(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],P=0,k=0;k<=R;k++){var z=P+(this.i(k)&65535)+(M.i(k)&65535),O=(z>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=O>>>16,z&=65535,O&=65535,C[k]=O<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(D(R))}i.j=function(M){if(w(this)||w(M))return S;if(L(this))return L(M)?D(this).j(D(M)):D(D(this).j(M));if(L(M))return D(this.j(D(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,C=[],P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<M.g.length;k++){var z=this.i(P)>>>16,O=this.i(P)&65535,Lt=M.i(k)>>>16,lt=M.i(k)&65535;C[2*P+2*k]+=O*lt,ne(C,2*P+2*k),C[2*P+2*k+1]+=z*lt,ne(C,2*P+2*k+1),C[2*P+2*k+1]+=O*Lt,ne(C,2*P+2*k+1),C[2*P+2*k+2]+=z*Lt,ne(C,2*P+2*k+2)}for(P=0;P<R;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=R;P<2*R;P++)C[P]=0;return new h(C,0)};function ne(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function X(M,R){this.g=M,this.h=R}function ce(M,R){if(w(R))throw Error("division by zero");if(w(M))return new X(S,S);if(L(M))return R=ce(D(M),R),new X(D(R.g),D(R.h));if(L(R))return R=ce(M,D(R)),new X(D(R.g),R.h);if(30<M.g.length){if(L(M)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,P=R;0>=P.l(M);)C=ae(C),P=ae(P);var k=pe(C,1),z=pe(P,1);for(P=pe(P,2),C=pe(C,2);!w(P);){var O=z.add(P);0>=O.l(M)&&(k=k.add(C),z=O),P=pe(P,1),C=pe(C,1)}return R=Q(M,k.j(R)),new X(k,R)}for(k=S;0<=M.l(R);){for(C=Math.max(1,Math.floor(M.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=g(C),O=z.j(R);L(O)||0<O.l(M);)C-=P,z=g(C),O=z.j(R);w(z)&&(z=b),k=k.add(z),M=Q(M,O)}return new X(k,M)}i.A=function(M){return ce(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)&M.i(P);return new h(C,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)|M.i(P);return new h(C,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)^M.i(P);return new h(C,this.h^M.h)};function ae(M){for(var R=M.g.length+1,C=[],P=0;P<R;P++)C[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(C,M.h)}function pe(M,R){var C=R>>5;R%=32;for(var P=M.g.length-C,k=[],z=0;z<P;z++)k[z]=0<R?M.i(z+C)>>>R|M.i(z+C+1)<<32-R:M.i(z+C);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Gr=h}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yS,zl,_S,ch,ep,vS,ES,TS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,b.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,Y){for(var oe=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)oe[Le-2]=arguments[Le];return y.prototype[j].apply(A,oe)}}function L(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function D(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,Y=A.length||0;c.length=j+Y;for(let oe=0;oe<Y;oe++)c[j+oe]=A[oe]}else c.push(A)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ae=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function pe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Y=0;Y<C.length;Y++)v=C[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function O(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Lt{constructor(){this.h=this.g=null}add(y,v){const A=lt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new Q(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,qe=new Lt,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){z(v)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ce(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}w(Ne,se);var be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Qn(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++et,this.da=this.fa=!1}function or(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ai(c){this.src=c,this.g={},this.h=0}Ai.prototype.add=function(c,y,v,A,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var oe=rs(c,y,A,j);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new Qn(y,this.src,Y,!!A,j),y.fa=v,c.push(y)),y};function is(c,y){var v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(A,j,1),Y&&(or(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function rs(c,y,v,A){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return j}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),bo={};function bu(c,y,v,A,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)bu(c,y[Y],v,A,j);return null}return v=wu(v),c&&c[Dt]?c.K(y,v,g(A)?!!A.capture:!1,j):bn(c,y,v,!1,A,j)}function bn(c,y,v,A,j,Y){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,Le=na(c);if(Le||(c[ss]=Le=new Ai(c)),v=Le.add(y,v,A,oe,Y),v.proxy)return v;if(A=pf(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ge||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(as(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pf(){function c(v){return y.call(c.src,c.listener,v)}const y=gf;return c}function wo(c,y,v,A,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)wo(c,y[Y],v,A,j);else A=g(A)?!!A.capture:!!A,v=wu(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=rs(Y,v,A,j),-1<v&&(or(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=na(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,v,A,j)),(v=-1<c?y[c]:null)&&ta(v))}function ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])is(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(as(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=na(y))?(is(v,c),v.h==0&&(v.src=null,y[ss]=null)):or(c)}}}function as(c){return c in bo?bo[c]:bo[c]="on"+c}function gf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&ta(c),c=v.call(A,y)}return c}function na(c){return c=c[ss],c instanceof Ai?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function ut(){ue.call(this),this.i=new Ai(this),this.M=this,this.F=null}w(ut,ue),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,y,v,A){wo(this,c,y,v,A)};function Ke(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var j=y;y=new se(A,c),P(y,j)}if(j=!0,v)for(var Y=v.length-1;0<=Y;Y--){var oe=y.g=v[Y];j=dn(oe,A,!0,y)&&j}if(oe=y.g=c,j=dn(oe,A,!0,y)&&j,j=dn(oe,A,!1,y)&&j,v)for(Y=0;Y<v.length;Y++)oe=y.g=v[Y],j=dn(oe,A,!1,y)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)or(v[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ut.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function dn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var oe=y[Y];if(oe&&!oe.da&&oe.capture==v){var Le=oe.listener,At=oe.ha||oe.src;oe.fa&&is(c.i,oe),j=Le.call(At,A)!==!1&&j}}return j&&!A.defaultPrevented}function Kt(c,y,v){if(typeof c=="function")v&&(c=b(c,v));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ru(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yf extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){ue.call(this),this.h=c,this.g={}}w(os,ue);var ls=[];function us(c){pe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ta(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,ia=m.JSON.parse,cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Io(c){return c.h||(c.h=c.i())}function Oo(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){se.call(this,"d")}w(wi,se);function Do(){se.call(this,"c")}w(Do,se);var Yn={},No=null;function lr(){return No=No||new ut}Yn.La="serverreachability";function ra(c){se.call(this,Yn.La,c)}w(ra,se);function ur(c){const y=lr();Ke(y,new ra(y))}Yn.STAT_EVENT="statevent";function Cu(c,y){se.call(this,Yn.STAT_EVENT,c),this.stat=y}w(Cu,se);function nt(c){const y=lr();Ke(y,new Cu(y,c))}Yn.Ma="timingevent";function St(c,y){se.call(this,Yn.Ma,c),this.size=y}w(St,se);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function xo(c,y,v,A,j,Y){c.info(function(){if(c.g)if(Y)for(var oe="",Le=Y.split("&"),At=0;At<Le.length;At++){var Ue=Le[At].split("=");if(1<Ue.length){var xt=Ue[0];Ue=Ue[1];var bt=xt.split("_");oe=2<=bt.length&&bt[1]=="type"?oe+(xt+"="+Ue+"&"):oe+(xt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+oe})}function _f(c,y,v,A,j,Y,oe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+Y+" "+oe})}function cr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,v)+(A?" "+A:"")})}function Iu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Un(v)}catch{return y}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Xn(){}w(Xn,Co),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},$n=new Xn;function en(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Mo={},sa={};function zn(c,y,v){c.L=1,c.v=gs(mn(y)),c.m=v,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),fs(c),c.A=mn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),zo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new dt,c.g=Fu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new yf(b(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ls[0]=j.toString()),j=ls);for(var Y=0;Y<j.length;Y++){var oe=bu(v,j[Y],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ur(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const bt=On(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||bt!=4||y==7||(y==8||0>=Vi?ur(3):ur(2)),fr(this);var v=this.g.Z();this.X=v;t:if(Ou(this)){var A=ku(this.g);c="";var j=A.length,Y=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Wn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,_f(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,At=this.g;if((Le=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)cr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,v);else{this.o=!1,this.s=3,nt(12),Ut(this),Wn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Du(this,oe),zt==sa){bt==4&&(this.s=4,nt(14),v=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Mo){this.s=4,nt(15),cr(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else cr(this.i,this.l,zt,null),ds(this,zt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||oe.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)cr(this.i,this.l,oe,"[Invalid Chunked Response]"),Ut(this),Wn(this);else if(0<oe.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),bs(xt),xt.M=!0,nt(11))}}else cr(this.i,this.l,oe,null),ds(this,oe);bt==4&&Ut(this),this.o&&!this.J&&(bt==4?Bu(this.j,this):(this.o=!1,fs(this)))}else Af(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Ut(this),Wn(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?sa:(v=Number(y.substring(v,A)),isNaN(v)?Mo:(A+=1,A+v>y.length?sa:(y=y.slice(A,A+v),c.C=A+v,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function fs(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),y)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Iu(this.i,this.A),this.L!=2&&(ur(),nt(17)),Ut(this),this.s=2,Wn(this)):Nu(this,this.S-c)};function Wn(c){c.j.G==0||c.J||Bu(c.j,c)}function Ut(c){fr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Po(v.h,c))){if(!c.K&&Po(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ya(v),pa(v);else break e;Fo(v),nt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(b(v.Za,v),6e3));if(1>=oa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Pi(v,11)}else if((c.K||v.g==c)&&ya(v),!ne(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Ue=j[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const xt=Ue[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const bt=Ue[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Vi=Ue[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const ri=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var Y=A.h;Y.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(la(Y,Y.h),Y.h=null))}if(A.D){const Ko=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(A.ya=Ko,$e(A.I,A.D,Ko))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var oe=c;if(A.qa=Hu(A,A.J?A.ia:null,A.W),oe.K){tn(A.h,oe);var Le=oe,At=A.L;At&&(Le.I=At),Le.B&&(fr(Le),fs(Le)),A.g=oe}else zu(A);0<v.i.length&&ga(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Pi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Pi(v,7):qo(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}ur(4)}catch{}}var xu=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oa(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function la(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return L(c.i)}function vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function ua(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ua(c),A=vf(c),j=A.length,Y=0;Y<j;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var Y=c[v].substring(0,A);j=c[v].substring(A+1)}else Y=c[v];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.s),this.l=c.l;var y=c.i,v=new Di;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Oi(this,v),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),dr(this,y[4]),this.l=Rn(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,Lo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,Lo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ys(v,v.charAt(0)=="/"?Tf:Uo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ys(v,ca)),c.join("")};function mn(c){return new _t(c)}function ps(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oi(c,y,v){y instanceof Di?(c.i=y,Pu(c.i,c.h)):(v||(y=ys(y,Sf)),c.i=new Di(y,c.h))}function $e(c,y,v){c.i.set(y,v)}function gs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,Uo=/[#\?:]/g,Tf=/[#\?]/g,Sf=/[#\?@]/g,ca=/#/g;function Di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ef(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Di.prototype,i.add=function(c,y){Cn(this),this.i=null,c=Jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ni(c,y){Cn(c),y=Jn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function xi(c,y){return Cn(c),y=Jn(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const j=c[A];for(let Y=0;Y<j.length;Y++)v.push(y[A])}return v},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")xi(this,c)&&(y=y.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=Jn(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,v){Ni(c,y),0<v.length&&(c.i=null,c.g.set(Jn(c,y),L(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var j=Y;oe[A]!==""&&(j+="="+encodeURIComponent(String(oe[A]))),c.push(j)}}return this.i=c.join("&")};function Jn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(Ni(this,A),zo(this,j,v))},c)),c.j=y}function _s(c,y){const v=new wn;if(m.Image){const A=new Image;A.onload=x(In,v,"TestLoadImage: loaded",!0,y,A),A.onerror=x(In,v,"TestLoadImage: error",!1,y,A),A.onabort=x(In,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(In,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function jn(c,y){const v=new wn,A=new AbortController,j=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(j),Y.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function vs(){this.g=new cs}function Zn(c,y,v){const A=v||"";try{ko(c,function(j,Y){let oe=j;g(j)&&(oe=Un(j)),y.push(A+Y+"="+encodeURIComponent(oe))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}w(mr,Co),mr.prototype.g=function(){return new Mi(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Mi,ut),i=Mi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ti(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ei(this):ti(this),this.readyState==3&&jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},i.Qa=function(c){this.g&&(this.response=c,ei(this))},i.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return pe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Nt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,y,v))}function Fe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Fe,ut);var ha=/^https?$/i,Es=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Io(this.o):Io($n),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Vu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of v)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Vu(this,Y)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fa(c),ni(c)}function fa(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ni(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},i.bb=function(){da(this)};function da(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Kt(c.Ea,0,c);else if(Ke(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=oe===0){var j=String(c.D).match(ms)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!ha.test(j?j.toLowerCase():"")}v=A}if(v)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Y=2<On(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",fa(c)}}finally{ni(c)}}}}function ni(c,y){if(c.g){Ts(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ia(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var v=k(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[j]||[];y[j]=Y,Y.push(v)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ma(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){nt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Hu(this,null,this.W),ga(this)};function qo(c){if(Lu(c),c.G==3){var y=c.U++,v=mn(c.I);if($e(v,"SID",c.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),As(c,v),y=new en(c,c.j,y),y.L=2,y.v=gs(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}qu(c)}function pa(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Lu(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ga(c){if(!aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||N(),me||(le(),me=!0),qe.add(y,c),c.B=0}}function bf(c,y){return oa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new en(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,j,y),v=mn(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),As(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Bo(Y)))+"&"+y:this.m&&Nt(v,this.m,Y)),la(this.h,j),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),j.T=!0,zn(j,v,null)):zn(j,v,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||aa(this.h)||Ho(this))};function Ho(c,y){var v;y?v=y.l:v=c.U++;const A=mn(c.I);$e(A,"SID",c.K),$e(A,"RID",v),$e(A,"AID",c.T),As(c,A),c.m&&c.o&&Nt(A,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),la(c.h,v),zn(v,A,y)}function As(c,y){c.H&&pe(c.H,function(v,A){$e(y,A,v)}),c.l&&ko({},function(v,A){$e(y,A,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let Y=-1;for(;;){const oe=["count="+v];Y==-1?0<v?(Y=j[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Le=!0;for(let At=0;At<v;At++){let Ue=j[At].g;const xt=j[At].map;if(Ue-=Y,0>Ue)Y=Math.max(0,j[At].g-100),Le=!1;else try{Zn(xt,oe,"req"+Ue+"_")}catch{A&&A(xt)}}if(Le){A=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||N(),me||(le(),me=!0),qe.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),Go(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),pa(this),ju(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=gs(mn(y)),v.m=null,v.P=!0,Ci(v,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),Fo(this),nt(19))};function ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,y){var v=null;if(c.g==y){ya(c),bs(c),c.g=null;var A=2}else if(Po(c.h,y))v=y.D,tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=lr(),Ke(A,new St(A,v)),ga(c)}else zu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&bf(c,y)||A==2&&Fo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Go(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var v=b(c.fb,c),A=c.Xa;const j=!A;A=new _t(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ps(A,"https"),gs(A),j?_s(A.toString(),v):jn(A.toString(),v)}else nt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ka,y),D(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,v){var A=v instanceof _t?mn(v):new _t(v);if(A.g!="")y&&(A.g=y+"."+A.g),dr(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new _t(null);A&&ps(Y,A),y&&(Y.g=y),j&&dr(Y,j),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&$e(A,v,y),$e(A,"VER",c.la),As(c,A),A}function Fu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new mr({eb:v})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function _a(){}_a.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ii(this)}w(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){qo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Un(c),c=v);y.i.push(new xu(y.Ya++,c)),y.G==3&&ga(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,nn.aa.N.call(this)};function Ku(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}w(Ku,wi);function Qu(){Do.call(this),this.status=1}w(Qu,Do);function ii(c){this.g=c}w(ii,Gu),ii.prototype.ua=function(){Ke(this.g,"a")},ii.prototype.ta=function(c){Ke(this.g,new Ku(c))},ii.prototype.sa=function(c){Ke(this.g,new Qu)},ii.prototype.ra=function(){Ke(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,TS=function(){return new _a},ES=function(){return lr()},vS=Yn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,ch=hr,Ri.COMPLETE="complete",_S=Ri,Oo.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ut.prototype.listen=ut.prototype.K,zl=Oo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,yS=Fe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const kE="@firebase/firestore",LE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Ap("@firebase/firestore");function Qa(){return Ys.logLevel}function he(i,...e){if(Ys.logLevel<=Ve.DEBUG){const t=e.map(zp);Ys.debug(`Firestore (${vo}): ${i}`,...t)}}function rr(i,...e){if(Ys.logLevel<=Ve.ERROR){const t=e.map(zp);Ys.error(`Firestore (${vo}): ${i}`,...t)}}function io(i,...e){if(Ys.logLevel<=Ve.WARN){const t=e.map(zp);Ys.warn(`Firestore (${vo}): ${i}`,...t)}}function zp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,SS(i,s,t)}function SS(i,e,t){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw rr(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||SS(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ar{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class OD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class DD{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new AS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class ND{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new UE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function tp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=bS(),h=VD(u.encode(zE(i,t)),u.encode(zE(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function zE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function VD(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function ro(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,BE=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*BE);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class hi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return De(e.length,t.length)}static compareSegments(e,t){const s=hi.isNumericId(e),o=hi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(t)):tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class ft extends hi{construct(e,t,s){return new ft(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends hi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Ft([qE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ft.fromString(e))}static fromName(e){return new ve(ft.fromString(e).popFirst(5))}static empty(){return new ve(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function LD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new Qr(o,ve.empty(),e)}function UD(i){return new Qr(i.readTime,i.key,tu)}class Qr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qr(we.min(),ve.empty(),tu)}static max(){return new Qr(we.max(),ve.empty(),tu)}}function zD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==jD)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function qD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=-1;function Zh(i){return i==null}function Rh(i){return i===0&&1/i==-1/0}function HD(i){return typeof i=="number"&&Number.isInteger(i)&&!Rh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="";function FD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=HE(e)),e=GD(i.get(t),e);return HE(e)}function GD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case RS:t+="";break;default:t+=u}}return t}function HE(i){return i+RS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ts(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function CS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GE(this.data.getIterator())}getIteratorFrom(e){return new GE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class GE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Ot(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IS("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=KD.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $r(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="server_timestamp",DS="__type__",NS="__previous_value__",xS="__local_write_time__";function Bp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[DS])===null||t===void 0?void 0:t.stringValue)===OS}function ef(i){const e=i.mapValue.fields[NS];return Bp(e)?ef(e):e}function nu(i){const e=Yr(i.mapValue.fields[xS].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Ch="(default)";class iu{constructor(e,t){this.projectId=e,this.database=t||Ch}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="__type__",YD="__max__",Jc={mapValue:{}},PS="__vector__",Ih="value";function Xr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:XD(i)?9007199254740991:$D(i)?10:11:Ae(28295,{value:i})}function vi(i,e){if(i===e)return!0;const t=Xr(i);if(t!==Xr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Yr(o.timestampValue),m=Yr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Rh(h)===Rh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return ro(i.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(FE(h)!==FE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!vi(h[p],m[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function ru(i,e){return(i.values||[]).find(t=>vi(t,e))!==void 0}function so(i,e){if(i===e)return 0;const t=Xr(i),s=Xr(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return KE(i.timestampValue,e.timestampValue);case 4:return KE(nu(i),nu(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=$r(u),p=$r(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=De(m[g],p[g]);if(_!==0)return _}return De(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=De(gt(u.latitude),gt(h.latitude));return m!==0?m:De(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return QE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const S=u.fields||{},b=h.fields||{},x=(m=S[Ih])===null||m===void 0?void 0:m.arrayValue,w=(p=b[Ih])===null||p===void 0?void 0:p.arrayValue,L=De(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=w==null?void 0:w.values)===null||_===void 0?void 0:_.length)||0);return L!==0?L:QE(x,w)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Jc.mapValue&&h===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(h===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const b=tp(p[S],_[S]);if(b!==0)return b;const x=so(m[p[S]],g[_[S]]);if(x!==0)return x}return De(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function KE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=Yr(i),s=Yr(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function QE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=so(t[o],s[o]);if(u)return u}return De(t.length,s.length)}function ao(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Yr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return $r(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(t.fields[h])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function hh(i){switch(Xr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(i);return e?16+hh(e):16;case 5:return 2*i.stringValue.length;case 6:return $r(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ts(s.fields,(u,h)=>{o+=u.length+hh(h)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function ip(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function YE(i){return!!i&&"nullValue"in i}function $E(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fh(i){return!!i&&"mapValue"in i}function $D(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[MS])===null||t===void 0?void 0:t.stringValue)===PS}function Fl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ts(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Fl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function XD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Fl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ts(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Fl(this.value))}}function VS(i){const e=[];return ts(i.fields,(t,s)=>{const o=new Ft([t]);if(fh(s)){const u=VS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function XE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=so(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function WE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!vi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function WD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{}class Ct extends kS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ZD(e,t,s):t==="array-contains"?new nN(e,s):t==="in"?new iN(e,s):t==="not-in"?new rN(e,s):t==="array-contains-any"?new sN(e,s):new Ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new eN(e,s):new tN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(so(t,this.value)):t!==null&&Xr(this.value)===Xr(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends kS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ei(e,t)}matches(e){return LS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function LS(i){return i.op==="and"}function US(i){return JD(i)&&LS(i)}function JD(i){for(const e of i.filters)if(e instanceof Ei)return!1;return!0}function rp(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+ao(i.value);if(US(i))return i.filters.map(e=>rp(e)).join(",");{const e=i.filters.map(t=>rp(t)).join(",");return`${i.op}(${e})`}}function zS(i,e){return i instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(i,e):i instanceof Ei?function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&zS(h,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function jS(i){return i instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${ao(t.value)}`}(i):i instanceof Ei?function(t){return t.op.toString()+" {"+t.getFilters().map(jS).join(" ,")+"}"}(i):"Filter"}class ZD extends Ct{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class eN extends Ct{constructor(e,t){super(e,"in",t),this.keys=BS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tN extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=BS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class nN extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qp(t)&&ru(t.arrayValue,this.value)}}class iN extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class rN extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class sN extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function JE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new aN(i,e,t,s,o,u,h)}function Hp(i){const e=Re(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ao(s)).join(",")),e.Ie=t}return e.Ie}function Fp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!WD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!zS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!WE(i.startAt,e.startAt)&&WE(i.endAt,e.endAt)}function sp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oN(i,e,t,s,o,u,h,m){return new tf(i,e,t,s,o,u,h,m)}function Gp(i){return new tf(i)}function ZE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function lN(i){return i.collectionGroup!==null}function Gl(i){const e=Re(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Ot(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Dh(u,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new Dh(Ft.keyField(),s))}return e.Ee}function pi(i){const e=Re(i);return e.de||(e.de=uN(e,Gl(i))),e.de}function uN(i,e){if(i.limitType==="F")return JE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)});const t=i.endAt?new Oh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Oh(i.startAt.position,i.startAt.inclusive):null;return JE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ap(i,e,t){return new tf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function nf(i,e){return Fp(pi(i),pi(e))&&i.limitType===e.limitType}function qS(i){return`${Hp(pi(i))}|lt:${i.limitType}`}function Ya(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>jS(o)).join(", ")}]`),Zh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ao(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(pi(i))}; limitType=${i.limitType})`}function rf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=XE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Gl(s),o)||s.endAt&&!function(h,m,p){const g=XE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Gl(s),o))}(i,e)}function cN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function HS(i){return(e,t)=>{let s=!1;for(const o of Gl(i)){const u=hN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function hN(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?so(p,g):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return CS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new ot(ve.comparator);function sr(){return fN}const FS=new ot(ve.comparator);function jl(...i){let e=FS;for(const t of i)e=e.insert(t.key,t);return e}function GS(i){let e=FS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qs(){return Kl()}function KS(){return Kl()}function Kl(){return new Zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const dN=new ot(ve.comparator),mN=new Ot(ve.comparator);function ke(...i){let e=mN;for(const t of i)e=e.add(t);return e}const pN=new Ot(De);function gN(){return pN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function QS(i){return{integerValue:""+i}}function yN(i,e){return HD(e)?QS(e):Kp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function _N(i,e,t){return i instanceof Nh?function(o,u){const h={fields:{[DS]:{stringValue:OS},[xS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=ef(u)),u&&(h.fields[NS]=u),{mapValue:h}}(t,e):i instanceof oo?$S(i,e):i instanceof lo?XS(i,e):function(o,u){const h=YS(o,u),m=eT(h)+eT(o.Re);return ip(h)&&ip(o.Re)?QS(m):Kp(o.serializer,m)}(i,e)}function vN(i,e,t){return i instanceof oo?$S(i,e):i instanceof lo?XS(i,e):t}function YS(i,e){return i instanceof xh?function(s){return ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Nh extends sf{}class oo extends sf{constructor(e){super(),this.elements=e}}function $S(i,e){const t=WS(e);for(const s of i.elements)t.some(o=>vi(o,s))||t.push(s);return{arrayValue:{values:t}}}class lo extends sf{constructor(e){super(),this.elements=e}}function XS(i,e){let t=WS(e);for(const s of i.elements)t=t.filter(o=>!vi(o,s));return{arrayValue:{values:t}}}class xh extends sf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function eT(i){return gt(i.integerValue||i.doubleValue)}function WS(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t){this.field=e,this.transform=t}}function EN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof oo&&o instanceof oo||s instanceof lo&&o instanceof lo?ro(s.elements,o.elements,vi):s instanceof xh&&o instanceof xh?vi(s.Re,o.Re):s instanceof Nh&&o instanceof Nh}(i.transform,e.transform)}class TN{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class af{}function ZS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new tA(i.key,gi.none()):new _u(i.key,i.data,gi.none());{const t=i.data,s=cn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ns(i.key,s,new Sn(o.toArray()),gi.none())}}function SN(i,e,t){i instanceof _u?function(o,u,h){const m=o.value.clone(),p=nT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ns?function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=nT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(eA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ql(i,e,t,s){return i instanceof _u?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=u.value.clone(),_=iT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ns?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=iT(u.fieldTransforms,p,h),_=h.data;return _.setAll(eA(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function AN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=YS(s.transform,o||null);u!=null&&(t===null&&(t=cn.empty()),t.set(s.field,u))}return t||null}function tT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,h)=>EN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends af{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends af{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function eA(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function nT(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,vN(h,m,t[o]))}return s}function iT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,_N(u,h,e))}return s}class tA extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bN extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Ql(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=KS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=ZS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(t,s)=>tT(t,s))&&ro(this.baseMutations,e.baseMutations,(t,s)=>tT(t,s))}}class Qp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return dN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Qp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function IN(i){switch(i){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function nA(i){if(i===void 0)return rr("GRPC error has no .code"),re.UNKNOWN;switch(i){case Tt.OK:return re.OK;case Tt.CANCELLED:return re.CANCELLED;case Tt.UNKNOWN:return re.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return re.INTERNAL;case Tt.UNAVAILABLE:return re.UNAVAILABLE;case Tt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Tt.NOT_FOUND:return re.NOT_FOUND;case Tt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Tt.ABORTED:return re.ABORTED;case Tt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Tt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:i})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Gr([4294967295,4294967295],0);function rT(i){const e=bS().encode(i),t=new gS;return t.update(e),new Uint8Array(t.digest())}function sT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([t,s],0),new Gr([o,u],0)]}class Yp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Gr.fromNumber(s)));return o.compare(ON)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=rT(e),[s,o]=sT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Yp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=rT(e),[s,o]=sT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new of(we.min(),o,new ot(De),sr(),ke())}}class vu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class iA{constructor(e,t){this.targetId=e,this.Ce=t}}class rA{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aT{constructor(){this.Fe=0,this.Me=oT(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new vu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=oT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class DN{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=Zc(),this.Ye=Zc(),this.Ze=new ot(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(sp(u))if(s===0){const h=new ve(u.path);this.tt(t,h,Wt.newNoDocument(h,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=$r(s).toUint8Array()}catch(p){if(p instanceof IS)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(h,o,u)}catch(p){return io(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&sp(m.target)){const p=new ve(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Wt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new of(e,t,this.Ze,this.He,s);return this.He=sr(),this.Je=Zc(),this.Ye=Zc(),this.Ze=new ot(De),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new aT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Zc(){return new ot(ve.comparator)}function oT(){return new ot(ve.comparator)}const NN={asc:"ASCENDING",desc:"DESCENDING"},xN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MN={and:"AND",or:"OR"};class PN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function VN(i,e){return Mh(i,e.toTimestamp())}function yi(i){return Ge(!!i,49232),we.fromTimestamp(function(t){const s=Yr(t);return new It(s.seconds,s.nanos)}(i))}function $p(i,e){return lp(i,e).canonicalString()}function lp(i,e){const t=function(o){return new ft(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function aA(i){const e=ft.fromString(i);return Ge(hA(e),10190,{key:e.toString()}),e}function up(i,e){return $p(i.databaseId,e.path)}function Mm(i,e){const t=aA(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(lA(t))}function oA(i,e){return $p(i.databaseId,e)}function kN(i){const e=aA(i);return e.length===4?ft.emptyPath():lA(e)}function cp(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lA(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lT(i,e,t){return{name:up(i,e),fields:t.value.mapValue.fields}}function LN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Gt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?re.UNKNOWN:nA(g.code);return new ye(_,g.message||"")}(h);t=new rA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),u=yi(s.document.updateTime),h=s.document.createTime?yi(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new mh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(i,s.document),u=s.readTime?yi(s.readTime):we.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(i,s.document),u=s.removedTargetIds||[];t=new mh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new CN(o,u),m=s.targetId;t=new iA(m,h)}}return t}function UN(i,e){let t;if(e instanceof _u)t={update:lT(i,e.key,e.value)};else if(e instanceof tA)t={delete:up(i,e.key)};else if(e instanceof ns)t={update:lT(i,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof bN))return Ae(16599,{ft:e.type});t={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:VN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),t}function zN(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?yi(o.updateTime):yi(u);return h.isEqual(we.min())&&(h=yi(u)),new TN(h,o.transformResults||[])}(t,e))):[]}function jN(i,e){return{documents:[oA(i,e.path)]}}function BN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=oA(i,o);const u=function(g){if(g.length!==0)return cA(Ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:$a(b.field),direction:FN(b.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=op(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function qN(i){let e=kN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(S){const b=uA(S);return b instanceof Ei&&US(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(b=>function(w){return new Dh(Xa(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,Zh(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(S){const b=!!S.before,x=S.values||[];return new Oh(x,b)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const b=!S.before,x=S.values||[];return new Oh(x,b)}(t.endAt)),oN(e,o,h,u,m,"F",p,g)}function HN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uA(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Xa(t.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(t.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xa(t.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ct.create(Xa(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ei.create(t.compositeFilter.filters.map(s=>uA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function FN(i){return NN[i]}function GN(i){return xN[i]}function KN(i){return MN[i]}function $a(i){return{fieldPath:i.canonicalString()}}function Xa(i){return Ft.fromServerFormat(i.fieldPath)}function cA(i){return i instanceof Ct?function(t){if(t.op==="=="){if($E(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(YE(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($E(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(YE(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:GN(t.op),value:t.value}}}(i):i instanceof Ei?function(t){const s=t.getFilters().map(o=>cA(o));return s.length===1?s[0]:{compositeFilter:{op:KN(t.op),filters:s}}}(i):Ae(54877,{filter:i})}function QN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,s,o,u=we.min(),h=we.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.wt=e}}function $N(i){const e=qN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.yn=new WN}addToCollectionParentIndex(e,t){return this.yn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Qr.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class WN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(ft.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(fA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new uo(0)}static ir(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",JN=1048576;function hT([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class ZN{constructor(e){this.cr=e,this.buffer=new Ot(hT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(cT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){To(t)?he(cT,"Ignoring IndexedDB error during garbage collection: ",t):await Eo(t)}await this.Ir(3e5)})}}class tx{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Jh.le);const s=new ZN(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(uT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Qa()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function nx(i,e){return new tx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Ql(s.mutation,o,Sn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=jl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=qs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=sr();const h=Kl(),m=function(){return Kl()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ns)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Ql(_.mutation,g,_.mutation.getFieldMask(),It.now())):h.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var S;return m.set(g,new rx(_,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Kl();let o=new ot((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Sn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const S=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,S=KS();_.forEach(b=>{if(!u.has(b)){const x=ZS(t.get(b),s.get(b));x!==null&&S.set(b,x),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(qs());let m=tu,p=u;return h.next(g=>te.forEach(g,(_,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(_)?te.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{p=p.insert(_,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:m,changes:GS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=jl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(S,b){return new tf(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((S,b)=>{h=h.insert(S,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Wt.newInvalidDocument(_)))});let m=jl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Ql(_.mutation,g,Sn.empty(),It.now()),rf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return te.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:$N(o.bundledQuery),readTime:yi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new ot(ve.comparator),this.Or=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qs();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=qs(),u=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=qs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return te.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new RN(t,s));let u=this.Or.get(t);u===void 0&&(u=ke(),this.Or.set(t,u)),this.Or.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Nr=new Ot(kt.Br),this.Lr=new Ot(kt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new kt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new ve(new ft([])),s=new kt(t,e),o=new kt(t,e+1),u=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ve(new ft([])),s=new kt(t,e),o=new kt(t,e+1);let u=ke();return this.Lr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new kt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ve.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ot(kt.Br)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.zr=this.zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?jp:this.Jn-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],h=>{const m=this.jr(h.Gr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(De);return t.forEach(o=>{const u=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],m=>{s=s.add(m.Gr)})}),te.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new kt(new ve(u),0);let m=new Ot(De);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},h),te.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return te.forEach(t.mutations,o=>{const u=new kt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new kt(t,0),o=this.zr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.Zr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=sr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=sr();const h=t.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||zD(UD(_),s)<=0||(o.has(_.key)||rf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}Xr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new hx(this)}getSize(e){return te.resolve(this.size)}}class hx extends ix{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.persistence=e,this.ei=new Zs(t=>Hp(t),Fp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ti=0,this.ni=new Xp,this.targetCount=0,this.ri=uo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),te.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new uo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.ar(t),te.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t){this.ii={},this.overlays={},this.si=new Jh(0),this.oi=!1,this.oi=!0,this._i=new lx,this.referenceDelegate=e(this),this.ai=new fx(this),this.indexManager=new XN,this.remoteDocumentCache=function(o){return new cx(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new YN(t),this.ci=new ax(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ox,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new ux(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new dx(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return te.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class dx extends BD{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ti=new Xp,this.Ii=null}static Ei(e){return new Wp(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.di,s=>{const o=ve.fromPath(s);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,we.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return te.or([()=>te.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.Ri=new Zs(s=>FD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=nx(this,t)}static Ei(e,t){return new Ph(e,t)}li(){}hi(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return te.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),te.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}gr(e,t,s){return te.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return E1()?8:qD(Zt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new mx;return this.fs(e,t,h).next(m=>{if(u.result=m,this.Is)return this.gs(e,t,h,m.size)})}).next(()=>u.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Qa()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),te.resolve()):(Qa()<=Ve.DEBUG&&he("QueryEngine","Query:",Ya(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Qa()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):te.resolve())}Rs(e,t){if(ZE(t))return te.resolve(null);let s=pi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),s=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(t,m);return this.ys(t,g,h,p.readTime)?this.Rs(e,ap(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,s,o){return ZE(t)||o.isEqual(we.min())?te.resolve(null):this.As.getDocuments(e,s).next(u=>{const h=this.ps(t,u);return this.ys(t,h,s,o)?te.resolve(null):(Qa()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(t)),this.ws(e,h,t,LD(o,tu)).next(m=>m))})}ps(e,t){let s=new Ot(HS(e));return t.forEach((o,u)=>{rf(e,u)&&(s=s.add(u))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,s){return Qa()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ya(t)),this.As.getDocumentsMatchingQuery(e,t,Qr.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",gx=3e8;class yx{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new ot(De),this.Ds=new Zs(u=>Hp(u),Fp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function _x(i,e,t,s){return new yx(i,e,t,s)}async function mA(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:m}))})})}function vx(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const S=g.batch,b=S.keys();let x=te.resolve();return b.forEach(w=>{x=x.next(()=>_.getEntry(p,w)).next(L=>{const D=g.docVersions.get(w);Ge(D!==null,48541),L.version.compareTo(D)<0&&(S.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function pA(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Ex(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((_,S)=>{const b=o.get(S);if(!b)return;m.push(t.ai.removeMatchingKeys(u,_.removedDocuments,S).next(()=>t.ai.addMatchingKeys(u,_.addedDocuments,S)));let x=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(Gt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(S,x),function(L,D,Q){return L.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=gx?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(b,x,_)&&m.push(t.ai.updateTargetData(u,x))});let p=sr(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(Tx(u,h,e.documentUpdates).next(_=>{p=_.xs,g=_.Os})),!s.isEqual(we.min())){const _=t.ai.getLastRemoteSnapshotVersion(u).next(S=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=o,u))}function Tx(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=sr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:o}})}function Sx(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ax(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.ai.allocateTargetId(s).next(h=>(o=new Br(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function hp(i,e,t){const s=Re(i),o=s.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!To(h))throw h;he(Zp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function fT(i,e,t){const s=Re(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const S=Re(p),b=S.Ds.get(_);return b!==void 0?te.resolve(S.Ss.get(b)):S.ai.getTargetData(g,_)}(s,h,pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?u:ke())).next(m=>(bx(s,cN(e),m),{documents:m,Ns:u})))}function bx(i,e,t){let s=i.vs.get(e)||we.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class dT{constructor(){this.activeTargetIds=gN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wx{constructor(){this.So=new dT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new dT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class pT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(mT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function fp(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="RestConnection",Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ix{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,u){const h=fp(),m=this.$o(e,t.toUriEncodedString());he(Pm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),_=uu(g);return this.Ko(e,m,p,s,_).then(S=>(he(Pm,`Received RPC '${e}' ${h}: `,S),S),S=>{throw io(Pm,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Wo(e,t,s,o,u,h){return this.Qo(e,t,s,o,u)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const s=Cx[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class Dx extends Ix{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,u){const h=fp();return new Promise((m,p)=>{const g=new yS;g.setWithCredentials(!0),g.listenOnce(_S.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const S=g.getResponseJson();he($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case ch.TIMEOUT:he($t,`RPC '${e}' ${h} timed out`),p(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const b=g.getStatus();if(he($t,`RPC '${e}' ${h} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const L=function(Q){const ne=Q.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(w.status);p(new ye(L,w.message))}else p(new ye(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:h,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{he($t,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he($t,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}a_(e,t,s){const o=fp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=TS(),m=ES(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he($t,`Creating RPC '${e}' stream ${o}: ${_}`,p);const S=h.createWebChannel(_,p);let b=!1,x=!1;const w=new Ox({Go:D=>{x?he($t,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(he($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),he($t,`RPC '${e}' stream ${o} sending:`,D),S.send(D))},zo:()=>S.close()}),L=(D,Q,ne)=>{D.listen(Q,X=>{try{ne(X)}catch(ce){setTimeout(()=>{throw ce},0)}})};return L(S,zl.EventType.OPEN,()=>{x||(he($t,`RPC '${e}' stream ${o} transport opened.`),w.t_())}),L(S,zl.EventType.CLOSE,()=>{x||(x=!0,he($t,`RPC '${e}' stream ${o} transport closed`),w.r_())}),L(S,zl.EventType.ERROR,D=>{x||(x=!0,io($t,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),w.r_(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),L(S,zl.EventType.MESSAGE,D=>{var Q;if(!x){const ne=D.data[0];Ge(!!ne,16349);const X=ne,ce=(X==null?void 0:X.error)||((Q=X[0])===null||Q===void 0?void 0:Q.error);if(ce){he($t,`RPC '${e}' stream ${o} received error:`,ce);const ae=ce.status;let pe=function(C){const P=Tt[C];if(P!==void 0)return nA(P)}(ae),M=ce.message;pe===void 0&&(pe=re.INTERNAL,M="Unknown error status: "+ae+" with message "+ce.message),x=!0,w.r_(new ye(pe,M)),S.close()}else he($t,`RPC '${e}' stream ${o} received:`,ne),w.i_(ne)}}),L(m,vS.STAT_EVENT,D=>{D.stat===ep.PROXY?he($t,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===ep.NOPROXY&&he($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{w.n_()},0),w}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){return new PN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class yA{constructor(e,t,s,o,u,h,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new gA(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new ye(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(he(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nx extends yA{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=LN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?yi(h.readTime):we.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:jN(u,p)}:{query:BN(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=sA(u,h.resumeToken);const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Mh(u,h.snapshotVersion.toTimestamp());const g=op(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=HN(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.F_(t)}}class xx extends yA{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=zN(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=cp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>UN(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class Px extends Mx{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,lp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(re.UNKNOWN,u.toString())})}Wo(e,t,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,lp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(re.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Vx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(rr(t),this.ea=!1):he("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class kx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{s.enqueueAndForget(async()=>{ea(this)&&(he($s,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.aa.add(4),await Eu(g),g.la.set("Unknown"),g.aa.delete(4),await uf(g)}(this))})}),this.la=new Vx(s,o)}}async function uf(i){if(ea(i))for(const e of i.ua)await e(!0)}async function Eu(i){for(const e of i.ua)await e(!1)}function _A(i,e){const t=Re(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),ig(t)?ng(t):So(t).b_()&&tg(t,e))}function eg(i,e){const t=Re(i),s=So(t);t._a.delete(e),s.b_()&&vA(t,e),t._a.size===0&&(s.b_()?s.v_():ea(t)&&t.la.set("Unknown"))}function tg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}So(i).U_(e)}function vA(i,e){i.ha.Ke(e),So(i).K_(e)}function ng(i){i.ha=new DN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),So(i).start(),i.la.ta()}function ig(i){return ea(i)&&!So(i).w_()&&i._a.size>0}function ea(i){return Re(i).aa.size===0}function EA(i){i.ha=void 0}async function Lx(i){i.la.set("Online")}async function Ux(i){i._a.forEach((e,t)=>{tg(i,e)})}async function zx(i,e){EA(i),ig(i)?(i.la.ia(e),ng(i)):i.la.set("Unknown")}async function jx(i,e,t){if(i.la.set("Online"),e instanceof rA&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){he($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(i,s)}else if(e instanceof mh?i.ha.Xe(e):e instanceof iA?i.ha.ot(e):i.ha.nt(e),!t.isEqual(we.min()))try{const s=await pA(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.ha.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u._a.get(g);_&&u._a.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u._a.get(p);if(!_)return;u._a.set(p,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),vA(u,p);const S=new Br(_.target,p,g,_.sequenceNumber);tg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he($s,"Failed to raise snapshot:",s),await Vh(i,s)}}async function Vh(i,e,t){if(!To(e))throw e;i.aa.add(1),await Eu(i),i.la.set("Offline"),t||(t=()=>pA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he($s,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await uf(i)})}function TA(i,e){return e().catch(t=>Vh(i,t,e))}async function cf(i){const e=Re(i),t=Wr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:jp;for(;Bx(e);)try{const o=await Sx(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,qx(e,o)}catch(o){await Vh(e,o)}SA(e)&&AA(e)}function Bx(i){return ea(i)&&i.oa.length<10}function qx(i,e){i.oa.push(e);const t=Wr(i);t.b_()&&t.W_&&t.G_(e.mutations)}function SA(i){return ea(i)&&!Wr(i).w_()&&i.oa.length>0}function AA(i){Wr(i).start()}async function Hx(i){Wr(i).H_()}async function Fx(i){const e=Wr(i);for(const t of i.oa)e.G_(t.mutations)}async function Gx(i,e,t){const s=i.oa.shift(),o=Qp.from(s,e,t);await TA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await cf(i)}async function Kx(i,e){e&&Wr(i).W_&&await async function(s,o){if(function(h){return IN(h)&&h!==re.ABORTED}(o.code)){const u=s.oa.shift();Wr(s).D_(),await TA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await cf(s)}}(i,e),SA(i)&&AA(i)}async function yT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he($s,"RemoteStore received new credentials");const s=ea(t);t.aa.add(3),await Eu(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await uf(t)}async function Qx(i,e){const t=Re(i);e?(t.aa.delete(2),await uf(t)):e||(t.aa.add(2),await Eu(t),t.la.set("Unknown"))}function So(i){return i.Pa||(i.Pa=function(t,s,o){const u=Re(t);return u.Y_(),new Nx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:Lx.bind(null,i),Jo:Ux.bind(null,i),Zo:zx.bind(null,i),Q_:jx.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),ig(i)?ng(i):i.la.set("Unknown")):(await i.Pa.stop(),EA(i))})),i.Pa}function Wr(i){return i.Ta||(i.Ta=function(t,s,o){const u=Re(t);return u.Y_(),new xx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:Hx.bind(null,i),Zo:Kx.bind(null,i),z_:Fx.bind(null,i),j_:Gx.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await cf(i)):(await i.Ta.stop(),i.oa.length>0&&(he($s,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new rg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(rr("AsyncQueue",`${e}: ${i}`),To(i))return new ye(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=jl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.Ia=new ot(ve.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class co{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new co(e,t,to.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class $x{constructor(){this.queries=vT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=vT(),u.forEach((h,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new ye(re.ABORTED,"Firestore shutting down"))}}function vT(){return new Zs(i=>qS(i),nf)}async function Xx(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new Yx,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&ag(t)}async function Wx(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Jx(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Ra)m.pa(o)&&(s=!0);h.Aa=o}}s&&ag(t)}function Zx(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);s.queries.delete(e)}function ag(i){i.fa.forEach(e=>{e.next()})}var dp,ET;(ET=dp||(dp={})).ya="default",ET.Cache="cache";class eM{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.key=e}}class wA{constructor(e){this.key=e}}class tM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=HS(e),this.Ka=new to(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new _T,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,S)=>{const b=o.get(_),x=rf(this.query,S)?S:null,w=!!b&&this.mutatedKeys.has(b.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;b&&x?b.data.isEqual(x.data)?w!==L&&(s.track({type:3,doc:x}),D=!0):this.ja(b,x)||(s.track({type:2,doc:x}),D=!0,(p&&this.Ua(x,p)>0||g&&this.Ua(x,g)<0)&&(m=!0)):!b&&x?(s.track({type:0,doc:x}),D=!0):b&&!x&&(s.track({type:1,doc:b}),D=!0,(p||g)&&(m=!0)),D&&(x?(h=h.add(x),u=L?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Ka:h,za:s,ys:m,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((_,S)=>function(x,w){const L=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:D})}};return L(x)-L(w)}(_.type,S.type)||this.Ua(_.doc,S.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new co(this.query,e.Ka,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _T,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new wA(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new bA(s))}),t}Xa(e){this.qa=e.Ns,this.$a=ke();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return co.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const og="SyncEngine";class nM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class iM{constructor(e){this.key=e,this.tu=!1}}class rM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Zs(m=>qS(m),nf),this.iu=new Map,this.su=new Set,this.ou=new ot(ve.comparator),this._u=new Map,this.au=new Xp,this.uu={},this.cu=new Map,this.lu=uo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function sM(i,e,t=!0){const s=NA(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await RA(s,e,t,!0),o}async function aM(i,e){const t=NA(i);await RA(t,e,!0,!1)}async function RA(i,e,t,s){const o=await Ax(i.localStore,pi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await oM(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&_A(i.remoteStore,o),m}async function oM(i,e,t,s,o){i.Pu=(S,b,x)=>async function(L,D,Q,ne){let X=D.view.Ga(Q);X.ys&&(X=await fT(L.localStore,D.query,!1).then(({documents:M})=>D.view.Ga(M,X)));const ce=ne&&ne.targetChanges.get(D.targetId),ae=ne&&ne.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(X,L.isPrimaryClient,ce,ae);return ST(L,D.targetId,pe.Ya),pe.snapshot}(i,S,b,x);const u=await fT(i.localStore,e,!0),h=new tM(e,u.Ns),m=h.Ga(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);ST(i,t,g.Ya);const _=new nM(e,t,h);return i.ru.set(e,_),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),g.snapshot}async function lM(i,e,t){const s=Re(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(h=>!nf(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&eg(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch(Eo)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function uM(i,e){const t=Re(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),eg(t.remoteStore,s.targetId))}async function cM(i,e,t){const s=yM(i);try{const o=await function(h,m){const p=Re(h),g=It.now(),_=m.reduce((x,w)=>x.add(w.key),ke());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=sr(),L=ke();return p.Cs.getEntries(x,_).next(D=>{w=D,w.forEach((Q,ne)=>{ne.isValidDocument()||(L=L.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,w)).next(D=>{S=D;const Q=[];for(const ne of m){const X=AN(ne,S.get(ne.key).overlayedDocument);X!=null&&Q.push(new ns(ne.key,X,VS(X.value.mapValue),gi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,Q,m)}).next(D=>{b=D;const Q=D.applyToLocalDocumentSet(S,L);return p.documentOverlayCache.saveOverlays(x,D.batchId,Q)})}).then(()=>({batchId:b.batchId,changes:GS(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.uu[h.currentUser.toKey()];g||(g=new ot(De)),g=g.insert(m,p),h.uu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Tu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");t.reject(u)}}async function CA(i,e){const t=Re(i);try{const s=await Ex(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t._u.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?Ge(h.tu,14607):o.removedDocuments.size>0&&(Ge(h.tu,42227),h.tu=!1))}),await Tu(t,s,e)}catch(s){await Eo(s)}}function TT(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((u,h)=>{const m=h.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((_,S)=>{for(const b of S.Ra)b.ga(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hM(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),u=o&&o.key;if(u){let h=new ot(ve.comparator);h=h.insert(u,Wt.newNoDocument(u,we.min()));const m=ke().add(u),p=new of(we.min(),new Map,new ot(De),h,m);await CA(s,p),s.ou=s.ou.remove(u),s._u.delete(e),lg(s)}else await hp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch(Eo)}async function fM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await vx(t.localStore,e);OA(t,s,null),IA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(t,o)}catch(o){await Eo(o)}}async function dM(i,e,t){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ge(S!==null,37113),_=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);OA(s,e,t),IA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Tu(s,o)}catch(o){await Eo(o)}}function IA(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function OA(i,e,t){const s=Re(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function mp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||DA(i,s)})}function DA(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(eg(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),lg(i))}function ST(i,e,t){for(const s of t)s instanceof bA?(i.au.addReference(s.key,e),mM(i,s)):s instanceof wA?(he(og,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||DA(i,s.key)):Ae(19791,{Iu:s})}function mM(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(he(og,"New document in limbo: "+t),i.su.add(s),lg(i))}function lg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new ve(ft.fromString(e)),s=i.lu.next();i._u.set(s,new iM(t)),i.ou=i.ou.insert(t,s),_A(i.remoteStore,new Br(pi(Gp(t.path)),s,"TargetPurposeLimboResolution",Jh.le))}}async function Tu(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{h.push(s.Pu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Jp.Ps(p.targetId,g);u.push(S)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>te.forEach(g,b=>te.forEach(b.ls,x=>_.persistence.referenceDelegate.addReference(S,b.targetId,x)).next(()=>te.forEach(b.hs,x=>_.persistence.referenceDelegate.removeReference(S,b.targetId,x)))))}catch(S){if(!To(S))throw S;he(Zp,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const x=_.Ss.get(b),w=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(w);_.Ss=_.Ss.insert(b,L)}}}(s.localStore,u))}async function pM(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(og,"User change. New user:",e.toKey());const s=await mA(t.localStore,e);t.currentUser=e,function(u,h){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new ye(re.CANCELLED,h))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(t,s.Ms)}}function gM(i,e){const t=Re(i),s=t._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=t.iu.get(e);if(!u)return o;for(const h of u){const m=t.ru.get(h);o=o.unionWith(m.view.Wa)}return o}}function NA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hM.bind(null,e),e.nu.Q_=Jx.bind(null,e.eventManager),e.nu.Tu=Zx.bind(null,e.eventManager),e}function yM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return _x(this.persistence,new px,e.initialUser,this.serializer)}Ru(e){return new dA(Wp.Ei,this.serializer)}Au(e){return new wx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class _M extends kh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ex(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new dA(s=>Ph.Ei(s,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await Qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $x}()}createDatastore(e){const t=lf(e.databaseInfo.databaseId),s=function(u){return new Dx(u)}(e.databaseInfo);return function(u,h,m,p){return new Px(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new kx(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>TT(this.syncEngine,t,0),function(){return pT.C()?new pT:new Rx}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const S=new rM(o,u,h,m,p,g);return _&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he($s,"RemoteStore shutting down."),u.aa.add(5),await Eu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="FirestoreClient";class EM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=wS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(Jr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(Jr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=sg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),he(Jr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function AT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await TM(i);he(Jr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>yT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>yT(e.remoteStore,o)),i._onlineComponents=e}async function TM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Jr,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),await km(i,new kh)}}else he(Jr,"Using default OfflineComponentProvider"),await km(i,new _M(void 0));return i._offlineComponents}async function xA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Jr,"Using user provided OnlineComponentProvider"),await AT(i,i._uninitializedComponentsProvider._online)):(he(Jr,"Using default OnlineComponentProvider"),await AT(i,new pp))),i._onlineComponents}function SM(i){return xA(i).then(e=>e.syncEngine)}async function AM(i){const e=await xA(i),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=lM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uM.bind(null,e.syncEngine),t}function bM(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new vM({next:b=>{_.yu(),h.enqueueAndForget(()=>Wx(u,S));const x=b.docs.has(m);!x&&b.fromCache?g.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&p&&p.source==="server"?g.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new eM(Gp(m.path),_,{includeMetadataChanges:!0,Fa:!0});return Xx(u,S)}(await AM(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(i,e,t){if(!t)throw new ye(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function RM(i,e,t,s){if(e===!0&&s===!0)throw new ye(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wT(i){if(!ve.isDocumentKey(i))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ug(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Xs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ug(i);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="firestore.googleapis.com",RT=!0;class CT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PA,this.ssl=RT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:RT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JN)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ID;switch(s.type){case"firstParty":return new xD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Bh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bT.get(t);s&&(he("ComponentProvider","Removing Datastore"),bT.delete(t),s.terminate())}(this),Promise.resolve()}}function CM(i,e,t,s={}){var o;i=Xs(i,cg);const u=uu(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;h.host!==PA&&h.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!tr(g,m)&&(i._setSettings(g),u&&(t0(`https://${p}`),Bh("Firestore",!0)),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Xt.MOCK_USER;else{_=h1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xt(b)}i._authCredentials=new OD(new AS(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hg(this.firestore,e,this._query)}}class An{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class su extends hg{constructor(e,t,s){super(e,t,Gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new ve(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function IM(i,e,...t){if(i=sn(i),arguments.length===1&&(e=wS.newId()),wM("doc","path",e),i instanceof cg){const s=ft.fromString(e,...t);return wT(s),new An(i,null,new ve(s))}{if(!(i instanceof An||i instanceof su))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...t));return wT(s),new An(i.firestore,i instanceof su?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class OT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new gA(this,"async_queue_retry"),this.ju=()=>{const s=Vm();s&&he(IT,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Kr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!To(e))throw e;he(IT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,rr("INTERNAL UNHANDLED ERROR: ",DT(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=rg.createAndSchedule(this,e,t,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ae(47125,{ec:DT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function DT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class hf extends cg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new OT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OT(e),this._firestoreClient=void 0,await e}}}function OM(i,e){const t=typeof i=="object"?i:s0(),s=typeof i=="string"?i:Ch,o=wp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=u1("firestore");u&&CM(o,...u)}return o}function VA(i){if(i._terminated)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DM(i),i._firestoreClient}function DM(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,_){return new QD(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,MA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new EM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Gt.fromBase64String(e))}catch(t){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ho(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^__.*__$/;class xM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:i})}}class df{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Lh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(LA(this.oc)&&NM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class MM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||lf(e)}dc(e,t,s,o=!1){return new df({oc:e,methodName:t,Ec:s,path:Ft.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UA(i){const e=i._freezeSettings(),t=lf(i._databaseId);return new MM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function PM(i,e,t,s,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,e,t,o);gg("Data must be an object, but it was:",h,s);const m=jA(s,h);let p,g;if(u.merge)p=new Sn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const S of u.mergeFields){const b=gp(e,S,t);if(!h.contains(b))throw new ye(re.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);qA(_,b)||_.push(b)}p=new Sn(_),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new xM(new cn(m),p,g)}class mf extends Su{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function zA(i,e,t){return new df({oc:3,Ec:e.settings.Ec,methodName:i._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class mg extends Su{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zA(this,e,!0),s=this.Ac.map(u=>Ao(u,t)),o=new oo(s);return new JS(e.path,o)}isEqual(e){return e instanceof mg&&tr(this.Ac,e.Ac)}}class pg extends Su{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=zA(this,e,!0),s=this.Ac.map(u=>Ao(u,t)),o=new lo(s);return new JS(e.path,o)}isEqual(e){return e instanceof pg&&tr(this.Ac,e.Ac)}}function VM(i,e,t,s){const o=i.dc(1,e,t);gg("Data must be an object, but it was:",o,s);const u=[],h=cn.empty();ts(s,(p,g)=>{const _=yg(e,p,t);g=sn(g);const S=o.hc(_);if(g instanceof mf)u.push(_);else{const b=Ao(g,S);b!=null&&(u.push(_),h.set(_,b))}});const m=new Sn(u);return new kA(h,m,o.fieldTransforms)}function kM(i,e,t,s,o,u){const h=i.dc(1,e,t),m=[gp(e,s,t)],p=[o];if(u.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(gp(e,u[b])),p.push(u[b+1]);const g=[],_=cn.empty();for(let b=m.length-1;b>=0;--b)if(!qA(g,m[b])){const x=m[b];let w=p[b];w=sn(w);const L=h.hc(x);if(w instanceof mf)g.push(x);else{const D=Ao(w,L);D!=null&&(g.push(x),_.set(x,D))}}const S=new Sn(g);return new kA(_,S,h.fieldTransforms)}function Ao(i,e){if(BA(i=sn(i)))return gg("Unsupported field value:",e,i),jA(i,e);if(i instanceof Su)return function(s,o){if(!LA(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Ao(m,o.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof fg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ho)return{bytesValue:sA(o.serializer,s._byteString)};if(s instanceof An){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dg)return function(h,m){return{mapValue:{fields:{[MS]:{stringValue:PS},[Ih]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Kp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${ug(s)}`)}(i,e)}function jA(i,e){const t={};return CS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(i,(s,o)=>{const u=Ao(o,e.uc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function BA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof fg||i instanceof ho||i instanceof An||i instanceof Su||i instanceof dg)}function gg(i,e,t){if(!BA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=ug(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function gp(i,e,t){if((e=sn(e))instanceof ff)return e._internalPath;if(typeof e=="string")return yg(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,t)}const LM=new RegExp("[~\\*/\\[\\]]");function yg(i,e,t){if(e.search(LM)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ff(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Lh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(re.INVALID_ARGUMENT,m+i+p)}function qA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UM extends HA{data(){return super.data()}}function FA(i,e){return typeof e=="string"?yg(i,e):e instanceof ff?e._internalPath:e._delegate._internalPath}class zM{convertValue(e,t="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ts(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new dg(u)}convertGeoPoint(e){return new fg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=Yr(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ft.fromString(e);Ge(hA(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GA extends HA{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(FA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class qM extends GA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(i){i=Xs(i,An);const e=Xs(i.firestore,hf);return bM(VA(e),i._key).then(t=>GM(e,i,t))}class HM extends zM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}}function QA(i,e,t){i=Xs(i,An);const s=Xs(i.firestore,hf),o=jM(i.converter,e,t);return YA(s,[PM(UA(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,gi.none())])}function FM(i,e,t,...s){i=Xs(i,An);const o=Xs(i.firestore,hf),u=UA(o);let h;return h=typeof(e=sn(e))=="string"||e instanceof ff?kM(u,"updateDoc",i._key,e,t,s):VM(u,"updateDoc",i._key,e),YA(o,[h.toMutation(i._key,gi.exists(!0))])}function YA(i,e){return function(s,o){const u=new Kr;return s.asyncQueue.enqueueAndForget(async()=>cM(await SM(s),o,u)),u.promise}(VA(i),e)}function GM(i,e,t){const s=t.docs.get(e._key),o=new HM(i);return new GA(i,o,e._key,s,new BM(t.hasPendingWrites,t.fromCache),e.converter)}function KM(...i){return new mg("arrayUnion",i)}function QM(...i){return new pg("arrayRemove",i)}(function(e,t=!0){(function(o){vo=o})(po),no(new Fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new hf(new DD(s.getProvider("auth-internal")),new MD(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(kE,LE,e),Fr(kE,LE,"esm2017")})();const YM={apiKey:"AIzaSyAu5doRHONhFnxVGRQL8V2G7qA1Rtza7vo",authDomain:"kirjahylly-96b27.firebaseapp.com",projectId:"kirjahylly-96b27",storageBucket:"kirjahylly-96b27.firebasestorage.app",messagingSenderId:"278354228484",appId:"1:278354228484:web:174dc5edfbabb843f14c51"},$A=r0(YM),$M=OM($A),XA=C0($A,{persistence:[B0]}),XM=()=>{const[i,e]=K.useState(""),[t,s]=K.useState(""),[o,u]=K.useState(null),[h,m]=K.useState(!1),p=async g=>{g.preventDefault(),u(null),m(!1);try{await PI(XA,i,t),m(!0),e(""),s("")}catch(_){u(_.message||"Rekisterityminen eponnistui.")}};return G.jsxs("div",{className:"register-container",children:[G.jsx("p",{style:{color:"blue"},children:"Testiteksti: Register-komponentti renderityy!"}),G.jsx("h2",{children:"Luo uusi kyttj"}),G.jsxs("form",{onSubmit:p,children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"email",children:"Shkposti:"}),G.jsx("input",{id:"email",type:"email",value:i,onChange:g=>e(g.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"password",children:"Salasana:"}),G.jsx("input",{id:"password",type:"password",value:t,onChange:g=>s(g.target.value),required:!0,minLength:6})]}),G.jsx("button",{type:"submit",children:"Rekisteridy"})]}),o&&G.jsx("p",{style:{color:"red"},children:o}),h&&G.jsx("p",{style:{color:"green"},children:"Rekisterityminen onnistui!"})]})},NT=()=>{const[i,e]=K.useState(""),[t,s]=K.useState(""),[o,u]=K.useState(null),h=BT(),m=async p=>{p.preventDefault(),u(null);try{await VI(XA,i,t),h("/countries")}catch{u("Kirjautuminen eponnistui. Tarkista shkposti ja salasana.")}};return G.jsxs("div",{className:"login-container",children:[G.jsx("h1",{children:"Tervetuloa Reissulokiin!"}),G.jsx("h2",{children:"Kirjaudu sisn"}),G.jsxs("form",{onSubmit:m,children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"login-email",children:"Shkposti:"}),G.jsx("input",{id:"login-email",type:"email",value:i,onChange:p=>e(p.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"login-password",children:"Salasana:"}),G.jsx("input",{id:"login-password",type:"password",value:t,onChange:p=>s(p.target.value),required:!0})]}),G.jsx("button",{type:"submit",children:"Kirjaudu"})]}),o&&G.jsx("p",{style:{color:"red"},children:o}),G.jsxs("p",{children:["Ei tili? ",G.jsx(fi,{to:"/register",children:"Rekisteridy tst"})]})]})},Au=i=>IM($M,"users",i.uid),WM=async(i,e,t)=>{const s=Au(i);await QA(s,{[e]:KM(t)},{merge:!0})},JM=async(i,e,t)=>{const s=Au(i);await FM(s,{[e]:QM(t)})},Yl=async i=>{const e=Au(i),t=await KA(e);if(!t.exists())return{visited:[],wishlist:[]};const s=t.data();return{visited:s.visited||[],wishlist:s.wishlist||[]}},ZM=async(i,e,t)=>{const s=Au(i);await QA(s,{notes:{[e]:t}},{merge:!0})},e4=async(i,e)=>{var u;const t=Au(i),s=await KA(t);return s.exists()&&((u=s.data().notes)==null?void 0:u[e])||""},t4=()=>{var ne,X,ce;const{cca3:i}=oR(),[e,t]=K.useState(null),[s,o]=K.useState(!0),[u,h]=K.useState(null),[m,p]=K.useState({visited:[],wishlist:[]}),[g,_]=K.useState(""),[S,b]=K.useState(!1),w=Zl().currentUser;K.useEffect(()=>{(async()=>{o(!0),h(null);try{if(i){const pe=await wD(i);t(pe)}}catch{h("Maan tietoja ei voitu hakea.")}finally{o(!1)}})()},[i]),K.useEffect(()=>{w&&i&&(Yl(w).then(p),e4(w,i).then(_))},[w,i]);const L=async ae=>{w&&i&&(await WM(w,ae,i),Yl(w).then(p))},D=async ae=>{w&&i&&(await JM(w,ae,i),Yl(w).then(p))},Q=async()=>{w&&i&&(await ZM(w,i,g),b(!0),setTimeout(()=>b(!1),1500))};return s?G.jsx("p",{children:"Ladataan tietoja..."}):u?G.jsx("p",{style:{color:"red"},children:u}):e?G.jsxs("div",{className:"country-detail-container",children:[G.jsx(fi,{to:"/countries",children:" Takaisin listaan"}),G.jsx("h1",{children:e.name.common}),G.jsx("img",{src:e.flags.svg,alt:`Lippu: ${e.name.common}`,style:{maxWidth:200}}),((ne=e.coatOfArms)==null?void 0:ne.svg)&&G.jsxs("div",{children:[G.jsx("h3",{children:"Vaakuna"}),G.jsx("img",{src:e.coatOfArms.svg,alt:`Vaakuna: ${e.name.common}`,style:{maxWidth:150}})]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Pkaupunki:"})," ",((X=e.capital)==null?void 0:X.join(", "))||"Ei tietoa"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Vkiluku:"})," ",e.population.toLocaleString("fi-FI")]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Pinta-ala:"})," ",e.area.toLocaleString("fi-FI")," km"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Maanosa:"})," ",e.region," (",e.subregion,")"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Valuutat:"})," ",e.currencies?Object.values(e.currencies).map(ae=>ae.name+(ae.symbol?` (${ae.symbol})`:"")).join(", "):"Ei tietoa"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Kielet:"})," ",e.languages?Object.values(e.languages).join(", "):"Ei tietoa"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Rajanaapurit:"})," ",(ce=e.borders)!=null&&ce.length?e.borders.join(", "):"Ei"]}),G.jsx("p",{children:G.jsx("a",{href:e.maps.googleMaps,target:"_blank",rel:"noopener noreferrer",children:"Avaa Google Mapsissa"})}),w&&i&&G.jsxs("div",{style:{marginTop:32},children:[G.jsx("h3",{children:"Omat toiminnot"}),G.jsxs("div",{style:{display:"flex",gap:16},children:[m.visited.includes(i)?G.jsx("button",{onClick:()=>D("visited"),children:'Poista "Kynyt tll"'}):G.jsx("button",{onClick:()=>L("visited"),children:'Lis "Kynyt tll"'}),m.wishlist.includes(i)?G.jsx("button",{onClick:()=>D("wishlist"),children:'Poista "Haluan matkustaa tnne"'}):G.jsx("button",{onClick:()=>L("wishlist"),children:'Lis "Haluan matkustaa tnne"'})]}),G.jsxs("div",{style:{marginTop:16},children:[G.jsx("label",{htmlFor:"note",children:"Omat muistiinpanot:"}),G.jsx("textarea",{id:"note",value:g,onChange:ae=>_(ae.target.value),rows:3,style:{width:"100%",maxWidth:400}}),G.jsx("button",{onClick:Q,style:{marginTop:8},children:"Tallenna muistiinpano"}),S&&G.jsx("span",{style:{color:"green",marginLeft:8},children:"Tallennettu!"})]})]})]}):G.jsx("p",{children:"Maatietoja ei lytynyt."})},n4=()=>{const[i,e]=K.useState([]),[t,s]=K.useState(!0),[o,u]=K.useState(null),m=Zl().currentUser;return K.useEffect(()=>{(async()=>{s(!0),u(null);try{if(m){const g=await Yl(m),_=await Up();e(_.filter(S=>g.visited.includes(S.cca3)))}}catch{u("Kytyjen maiden hakeminen eponnistui.")}finally{s(!1)}})()},[m]),m?t?G.jsx("p",{children:"Ladataan kytyj maita..."}):o?G.jsx("p",{style:{color:"red"},children:o}):G.jsxs("div",{className:"country-list-container",children:[G.jsx("h1",{children:"Kymni maat"}),i.length===0?G.jsx("p",{children:"Et ole viel merkinnyt kytyj maita."}):G.jsx("div",{className:"country-grid",children:i.map(p=>{var g;return G.jsxs(fi,{to:`/country/${p.cca3}`,className:"country-card",children:[G.jsx("img",{src:p.flags.svg,alt:`Lippu: ${p.name.common}`,loading:"lazy"}),G.jsxs("div",{className:"card-content",children:[G.jsx("h2",{children:p.name.common}),G.jsxs("p",{children:["Pkaupunki: ",((g=p.capital)==null?void 0:g[0])||"Ei tietoa"]}),G.jsxs("p",{children:["Vkiluku: ",p.population.toLocaleString("fi-FI")]}),G.jsxs("p",{children:["Maanosa: ",p.region]})]})]},p.cca3)})})]}):G.jsx("p",{children:"Kirjaudu sisn nhdksesi kydyt maat."})},i4=()=>{const[i,e]=K.useState([]),[t,s]=K.useState(!0),[o,u]=K.useState(null),m=Zl().currentUser;return K.useEffect(()=>{(async()=>{s(!0),u(null);try{if(m){const g=await Yl(m),_=await Up();e(_.filter(S=>g.wishlist.includes(S.cca3)))}}catch{u("Toivelistan hakeminen eponnistui.")}finally{s(!1)}})()},[m]),m?t?G.jsx("p",{children:"Ladataan toivelistan maita..."}):o?G.jsx("p",{style:{color:"red"},children:o}):G.jsxs("div",{className:"country-list-container",children:[G.jsx("h1",{children:"Haluan matkustaa tnne"}),i.length===0?G.jsx("p",{children:"Et ole viel lisnnyt maita toivelistalle."}):G.jsx("div",{className:"country-grid",children:i.map(p=>{var g;return G.jsxs(fi,{to:`/country/${p.cca3}`,className:"country-card",children:[G.jsx("img",{src:p.flags.svg,alt:`Lippu: ${p.name.common}`,loading:"lazy"}),G.jsxs("div",{className:"card-content",children:[G.jsx("h2",{children:p.name.common}),G.jsxs("p",{children:["Pkaupunki: ",((g=p.capital)==null?void 0:g[0])||"Ei tietoa"]}),G.jsxs("p",{children:["Vkiluku: ",p.population.toLocaleString("fi-FI")]}),G.jsxs("p",{children:["Maanosa: ",p.region]})]})]},p.cca3)})})]}):G.jsx("p",{children:"Kirjaudu sisn nhdksesi toivelistan maat."})};function r4(){const[i,e]=K.useState(null),[t,s]=K.useState(!1);return K.useEffect(()=>{const o=Zl(),u=UI(o,h=>{e(h),s(!0)});return()=>u()},[]),t?G.jsx(GR,{children:i?G.jsxs(G.Fragment,{children:[G.jsxs("nav",{style:{display:"flex",gap:"1rem",padding:"1rem",background:"#f0f0f0"},children:[G.jsx(fi,{to:"/countries",children:"Maat"}),G.jsx(fi,{to:"/visited",children:"Kydyt maat"}),G.jsx(fi,{to:"/wishlist",children:"Toivelista"}),G.jsx("button",{onClick:()=>Zl().signOut(),children:"Kirjaudu ulos"})]}),G.jsxs(Hv,{children:[G.jsx($i,{path:"/countries",element:G.jsx(PE,{})}),G.jsx($i,{path:"/country/:cca3",element:G.jsx(t4,{})}),G.jsx($i,{path:"/visited",element:G.jsx(n4,{})}),G.jsx($i,{path:"/wishlist",element:G.jsx(i4,{})}),G.jsx($i,{path:"*",element:G.jsx(PE,{})})]})]}):G.jsxs(Hv,{children:[G.jsx($i,{path:"/",element:G.jsx(NT,{})}),G.jsx($i,{path:"/register",element:G.jsx(XM,{})}),G.jsx($i,{path:"*",element:G.jsx(NT,{})})]})}):G.jsx("div",{children:"Ladataan..."})}Dw.createRoot(document.getElementById("root")).render(G.jsx(K.StrictMode,{children:G.jsx(r4,{})}));
