import{a as r,j as t}from"./react-BWFZKfll.js";import{a as h}from"./index-CHZJZ4W1.js";import{g as f}from"./userCountryService-D0BBlHK9.js";import{g as x}from"./countryService-jQlbHOkd.js";import{C as j}from"./CountryCard-CauQIdCr.js";import"./react-dom-B0g7UFVY.js";import"./scheduler-SPyfQU6S.js";import"./firebase-CGqC1wPX.js";import"./@firebase-T3z05RUZ.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./react-router-weGfgXep.js";import"./cookie--_YQFYBD.js";import"./axios-xsH4HHeE.js";const R=()=>{const[a,m]=r.useState([]),[u,n]=r.useState(!0),[o,l]=r.useState(null),s=h.currentUser;return r.useEffect(()=>{(async()=>{n(!0),l(null);try{if(s){const c=await f(s),p=(await x()).filter(e=>c.wishlist.includes(e.cca3));m(p.sort((e,d)=>e.name.common.localeCompare(d.name.common)))}}catch{l("Toivelistan hakeminen epäonnistui.")}finally{n(!1)}})()},[s]),s?u?t.jsx("p",{children:"Ladataan toivelistan maita..."}):o?t.jsx("p",{style:{color:"red"},children:o}):t.jsxs("div",{className:"country-list-container",children:[t.jsx("h1",{children:"Haluan matkustaa tänne"}),a.length===0?t.jsx("p",{children:"Et ole vielä lisännyt maita toivelistalle."}):t.jsx("div",{className:"country-grid",children:a.map(i=>t.jsx(j,{country:i},i.cca3))})]}):t.jsx("p",{children:"Kirjaudu sisään nähdäksesi toivelistan maat."})};export{R as default};
