(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Rm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Qb(){if(Hv)return Ll;Hv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=t,Ll.jsxs=t,Ll}var Fv;function $b(){return Fv||(Fv=1,Rm.exports=Qb()),Rm.exports}var B=$b(),Cm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Yb(){if(Gv)return Ie;Gv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,U={};function D(M,re,ue){this.props=M,this.context=re,this.refs=U,this.updater=ue||N}D.prototype.isReactComponent={},D.prototype.setState=function(M,re){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,re,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=D.prototype;function W(M,re,ue){this.props=M,this.context=re,this.refs=U,this.updater=ue||N}var X=W.prototype=new Q;X.constructor=W,b(X,D.prototype),X.isPureReactComponent=!0;var ce=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function x(M,re,ue,se,_e,Ne){return ue=Ne.ref,{$$typeof:i,type:M,key:re,ref:ue!==void 0?ue:null,props:Ne}}function R(M,re){return x(M.type,re,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function P(M){var re={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return re[ue]})}var L=/\/+/g;function V(M,re){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):re.toString(36)}function O(){}function wt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(re){M.status==="pending"&&(M.status="fulfilled",M.value=re)},function(re){M.status==="pending"&&(M.status="rejected",M.reason=re)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function it(M,re,ue,se,_e){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case i:case e:we=!0;break;case _:return we=M._init,it(we(M._payload),re,ue,se,_e)}}if(we)return _e=_e(M),we=se===""?"."+V(M,0):se,ce(_e)?(ue="",we!=null&&(ue=we.replace(L,"$&/")+"/"),it(_e,re,ue,"",function(Xn){return Xn})):_e!=null&&(C(_e)&&(_e=R(_e,ue+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+we)),re.push(_e)),1;we=0;var Nt=se===""?".":se+":";if(ce(M))for(var et=0;et<M.length;et++)se=M[et],Ne=Nt+V(se,et),we+=it(se,re,ue,Ne,_e);else if(et=S(M),typeof et=="function")for(M=et.call(M),et=0;!(se=M.next()).done;)se=se.value,Ne=Nt+V(se,et++),we+=it(se,re,ue,Ne,_e);else if(Ne==="object"){if(typeof M.then=="function")return it(wt(M),re,ue,se,_e);throw re=String(M),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function J(M,re,ue){if(M==null)return M;var se=[],_e=0;return it(M,se,"","",function(Ne){return re.call(ue,Ne,_e++)}),se}function le(M){if(M._status===-1){var re=M._result;re=re(),re.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=re)}if(M._status===1)return M._result.default;throw M._result}var pe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function qe(){}return Ie.Children={map:J,forEach:function(M,re,ue){J(M,function(){re.apply(this,arguments)},ue)},count:function(M){var re=0;return J(M,function(){re++}),re},toArray:function(M){return J(M,function(re){return re})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=D,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=W,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(M){return oe.H.useMemoCache(M)}},Ie.cache=function(M){return function(){return M.apply(null,arguments)}},Ie.cloneElement=function(M,re,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=b({},M.props),_e=M.key,Ne=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ne=void 0),re.key!==void 0&&(_e=""+re.key),re)!ye.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(se[we]=re[we]);var we=arguments.length-2;if(we===1)se.children=ue;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];se.children=Nt}return x(M.type,_e,void 0,void 0,Ne,se)},Ie.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ie.createElement=function(M,re,ue){var se,_e={},Ne=null;if(re!=null)for(se in re.key!==void 0&&(Ne=""+re.key),re)ye.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=re[se]);var we=arguments.length-2;if(we===1)_e.children=ue;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];_e.children=Nt}if(M&&M.defaultProps)for(se in we=M.defaultProps,we)_e[se]===void 0&&(_e[se]=we[se]);return x(M,Ne,void 0,void 0,null,_e)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:m,render:M}},Ie.isValidElement=C,Ie.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:le}},Ie.memo=function(M,re){return{$$typeof:g,type:M,compare:re===void 0?null:re}},Ie.startTransition=function(M){var re=oe.T,ue={};oe.T=ue;try{var se=M(),_e=oe.S;_e!==null&&_e(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(qe,pe)}catch(Ne){pe(Ne)}finally{oe.T=re}},Ie.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ie.use=function(M){return oe.H.use(M)},Ie.useActionState=function(M,re,ue){return oe.H.useActionState(M,re,ue)},Ie.useCallback=function(M,re){return oe.H.useCallback(M,re)},Ie.useContext=function(M){return oe.H.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M,re){return oe.H.useDeferredValue(M,re)},Ie.useEffect=function(M,re,ue){var se=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,re)},Ie.useId=function(){return oe.H.useId()},Ie.useImperativeHandle=function(M,re,ue){return oe.H.useImperativeHandle(M,re,ue)},Ie.useInsertionEffect=function(M,re){return oe.H.useInsertionEffect(M,re)},Ie.useLayoutEffect=function(M,re){return oe.H.useLayoutEffect(M,re)},Ie.useMemo=function(M,re){return oe.H.useMemo(M,re)},Ie.useOptimistic=function(M,re){return oe.H.useOptimistic(M,re)},Ie.useReducer=function(M,re,ue){return oe.H.useReducer(M,re,ue)},Ie.useRef=function(M){return oe.H.useRef(M)},Ie.useState=function(M){return oe.H.useState(M)},Ie.useSyncExternalStore=function(M,re,ue){return oe.H.useSyncExternalStore(M,re,ue)},Ie.useTransition=function(){return oe.H.useTransition()},Ie.version="19.1.0",Ie}var Kv;function Op(){return Kv||(Kv=1,Cm.exports=Yb()),Cm.exports}var K=Op(),Im={exports:{}},Ul={},Om={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Xb(){return Qv||(Qv=1,function(i){function e(J,le){var pe=J.length;J.push(le);e:for(;0<pe;){var qe=pe-1>>>1,M=J[qe];if(0<o(M,le))J[qe]=le,J[pe]=M,pe=qe;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],pe=J.pop();if(pe!==le){J[0]=pe;e:for(var qe=0,M=J.length,re=M>>>1;qe<re;){var ue=2*(qe+1)-1,se=J[ue],_e=ue+1,Ne=J[_e];if(0>o(se,pe))_e<M&&0>o(Ne,se)?(J[qe]=Ne,J[_e]=pe,qe=_e):(J[qe]=se,J[ue]=pe,qe=ue);else if(_e<M&&0>o(Ne,pe))J[qe]=Ne,J[_e]=pe,qe=_e;else break e}}return le}function o(J,le){var pe=J.sortIndex-le.sortIndex;return pe!==0?pe:J.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,A=null,S=3,N=!1,b=!1,U=!1,D=!1,Q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function ce(J){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=J)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function oe(J){if(U=!1,ce(J),!b)if(t(p)!==null)b=!0,ye||(ye=!0,V());else{var le=t(g);le!==null&&it(oe,le.startTime-J)}}var ye=!1,x=-1,R=5,C=-1;function P(){return D?!0:!(i.unstable_now()-C<R)}function L(){if(D=!1,ye){var J=i.unstable_now();C=J;var le=!0;try{e:{b=!1,U&&(U=!1,W(x),x=-1),N=!0;var pe=S;try{t:{for(ce(J),A=t(p);A!==null&&!(A.expirationTime>J&&P());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,S=A.priorityLevel;var M=qe(A.expirationTime<=J);if(J=i.unstable_now(),typeof M=="function"){A.callback=M,ce(J),le=!0;break t}A===t(p)&&s(p),ce(J)}else s(p);A=t(p)}if(A!==null)le=!0;else{var re=t(g);re!==null&&it(oe,re.startTime-J),le=!1}}break e}finally{A=null,S=pe,N=!1}le=void 0}}finally{le?V():ye=!1}}}var V;if(typeof X=="function")V=function(){X(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,wt=O.port2;O.port1.onmessage=L,V=function(){wt.postMessage(null)}}else V=function(){Q(L,0)};function it(J,le){x=Q(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(J){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var pe=S;S=le;try{return J()}finally{S=pe}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=S;S=J;try{return le()}finally{S=pe}},i.unstable_scheduleCallback=function(J,le,pe){var qe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,J){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=pe+M,J={id:_++,callback:le,priorityLevel:J,startTime:pe,expirationTime:M,sortIndex:-1},pe>qe?(J.sortIndex=pe,e(g,J),t(p)===null&&J===t(g)&&(U?(W(x),x=-1):U=!0,it(oe,pe-qe))):(J.sortIndex=M,e(p,J),b||N||(b=!0,ye||(ye=!0,V()))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var le=S;return function(){var pe=S;S=le;try{return J.apply(this,arguments)}finally{S=pe}}}}(Dm)),Dm}var $v;function Wb(){return $v||($v=1,Om.exports=Xb()),Om.exports}var Nm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function Jb(){if(Yv)return Yt;Yv=1;var i=Op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Yt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:N}):_==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Xv;function Zb(){if(Xv)return Nm.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nm.exports=Jb(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function eR(){if(Wv)return Ul;Wv=1;var i=Wb(),e=Op(),t=Zb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),X=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function wt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case D:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case X:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case ce:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:wt(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return wt(n(r))}catch{}}return null}var it=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},qe=[],M=-1;function re(n){return{current:n}}function ue(n){0>M||(n.current=qe[M],qe[M]=null,M--)}function se(n,r){M++,qe[M]=n.current,n.current=r}var _e=re(null),Ne=re(null),we=re(null),Nt=re(null);function et(n,r){switch(se(we,r),se(Ne,n),se(_e,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?yv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=yv(r),n=_v(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(_e),se(_e,n)}function Xn(){ue(_e),ue(Ne),ue(we)}function ur(n){n.memoizedState!==null&&se(Nt,n);var r=_e.current,a=_v(r,n.type);r!==a&&(se(Ne,n),se(_e,a))}function wi(n){Ne.current===n&&(ue(_e),ue(Ne)),Nt.current===n&&(ue(Nt),xl._currentValue=pe)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Ou=i.unstable_requestPaint,wn=i.unstable_now,Rf=i.unstable_getCurrentPriorityLevel,Do=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,Cf=i.unstable_LowPriority,oa=i.unstable_IdlePriority,No=i.log,Du=i.unstable_setDisableYieldValue,ct=null,Ke=null;function mn(n){if(typeof No=="function"&&Du(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,n)}catch{}}var Qt=Math.clz32?Math.clz32:cs,Nu=Math.log,If=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Nu(n)/If|0)|0}var hs=256,fs=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function la(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=jn(l):(E&=T,E!==0?f=jn(E):a||(a=T&~n,a!==0&&(f=jn(a))))):(T=l&~d,T!==0?f=jn(T):E!==0?f=jn(E):a||(a=l&~n,a!==0&&(f=jn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function xo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var n=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),n}function Po(){var n=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),n}function bi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ri(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vo(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Qt(a),te=1<<Z;T[Z]=0,I[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var G=F[Z];G!==null&&(G.lane&=-536870913)}a&=~te}l!==0&&Wn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function Wn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Qt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function ko(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Qt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:Lv(n.type))}function xu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,yt="__reactProps$"+rt,bn="__reactContainer$"+rt,Lo="__reactEvents$"+rt,Of="__reactListeners$"+rt,fr="__reactHandles$"+rt,Mu="__reactResources$"+rt,ms="__reactMarker$"+rt;function dr(n){delete n[bt],delete n[yt],delete n[Lo],delete n[Of],delete n[fr]}function Ci(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[bn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Av(n);n!==null;){if(a=n[bt])return a;n=Av(n)}return r}n=a,a=n.parentNode}return null}function Jn(n){if(n=n[bt]||n[bn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Zn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function tn(n){var r=n[Mu];return r||(r=n[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[ms]=!0}var Uo=new Set,ca={};function zn(n,r){Ii(n,r),Ii(n+"Capture",r)}function Ii(n,r){for(ca[n]=r,n=0;n<r.length;n++)Uo.add(r[n])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},ps={};function ku(n){return as.call(ps,n)?!0:as.call(Vu,n)?!1:Pu.test(n)?ps[n]=!0:(Vu[n]=!0,!1)}function mr(n,r,a){if(ku(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ei(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ut(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var gs,Lu;function Oi(n){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+Lu}var ha=!1;function fa(n,r){if(!n||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var F=G}Reflect.construct(n,[],te)}else{try{te.call()}catch(G){F=G}n.call(te.prototype)}}else{try{throw Error()}catch(G){F=G}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var I=E.split(`
`),H=T.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===H.length)for(l=I.length-1,f=H.length-1;1<=l&&0<=f&&I[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==H[f]){var Z=`
`+I[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Oi(a):""}function jo(n){switch(n.tag){case 26:case 27:case 5:return Oi(n.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return fa(n.type,!1);case 11:return fa(n.type.render,!1);case 1:return fa(n.type,!0);case 31:return Oi("Activity");default:return""}}function da(n){try{var r="";do r+=jo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Df(n){var r=zo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ma(n){n._valueTracker||(n._valueTracker=Df(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=zo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nf=/[\n"\\]/g;function _t(n){return n.replace(Nf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+nn(r)):n.value!==""+nn(r)&&(n.value=""+nn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?pr(n,E,nn(r)):a!=null?pr(n,E,nn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+nn(T):n.removeAttribute("name")}function _s(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function pr(n,r,a){r==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Di(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ye(n,r,a){if(r!=null&&(r=""+nn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+nn(a):""}function vs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Rn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function qo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Uu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Uu(n,d,r[d])}function Ho(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(n){return Mf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ni=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var xi=null,Mi=null;function Fo(n){var r=Jn(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(pn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[yt]||null;if(!f)throw Error(s(90));pn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Di(n,!!a.multiple,r,!1)}}}var ti=!1;function ju(n,r,a){if(ti)return n(r,a);ti=!0;try{var l=n(r);return l}finally{if(ti=!1,(xi!==null||Mi!==null)&&(xc(),xi&&(r=xi,n=Mi,Mi=xi=null,Fo(r),n)))for(r=0;r<n.length;r++)Fo(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Bn)try{var As={};Object.defineProperty(As,"passive",{get:function(){In=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{In=!1}var ni=null,gr=null,Pi=null;function Go(){if(Pi)return Pi;var n,r=gr,a=r.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Pi=f.slice(n,1<l?1-l:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function Ko(){return!1}function xt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Ko,this.isPropagationStopped=Ko,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=xt(Fe),Ss=_({},Fe,{view:0,detail:0}),zu=xt(Ss),ya,_a,si,ws=_({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(ya=n.screenX-si.screenX,_a=n.screenY-si.screenY):_a=ya=0,si=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),On=xt(ws),Bu=_({},ws,{dataTransfer:0}),Pf=xt(Bu),bs=_({},Ss,{relatedTarget:0}),va=xt(bs),Qo=_({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=xt(Qo),qu=_({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ta=xt(qu),Vf=_({},Fe,{data:0}),$o=xt(Vf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Fu[n])?!!r[n]:!1}function Cs(){return Yo}var Gu=_({},Ss,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Aa=xt(Gu),Ku=_({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=xt(Ku),Vi=_({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Qu=xt(Vi),$u=_({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=xt($u),Xu=_({},ws,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=xt(Xu),rn=_({},Fe,{newState:0,oldState:0}),Wu=xt(rn),Ju=[9,13,27,32],ai=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,v=Bn&&(!ai||c&&8<c&&11>=c),w=" ",z=!1;function $(n,r){switch(n){case"keyup":return Ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function Rt(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return n=r.data,n===w&&z?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!ai&&$(n,r)?(n=Go(),Pi=gr=ni=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function ki(n,r,a,l){xi?Mi?Mi.push(l):Mi=[l]:xi=l,r=Uc(r,"onChange"),0<r.length&&(a=new ga("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var jt=null,oi=null;function Wo(n){fv(n,0)}function Zu(n){var r=Zn(n);if(Bo(r))return n}function Mg(n,r){if(n==="change")return r}var Pg=!1;if(Bn){var kf;if(Bn){var Lf="oninput"in document;if(!Lf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Lf=typeof Vg.oninput=="function"}kf=Lf}else kf=!1;Pg=kf&&(!document.documentMode||9<document.documentMode)}function kg(){jt&&(jt.detachEvent("onpropertychange",Lg),oi=jt=null)}function Lg(n){if(n.propertyName==="value"&&Zu(oi)){var r=[];ki(r,oi,n,Cn(n)),ju(Wo,r)}}function Sw(n,r,a){n==="focusin"?(kg(),jt=r,oi=a,jt.attachEvent("onpropertychange",Lg)):n==="focusout"&&kg()}function ww(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(oi)}function bw(n,r){if(n==="click")return Zu(r)}function Rw(n,r){if(n==="input"||n==="change")return Zu(r)}function Cw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var gn=typeof Object.is=="function"?Object.is:Cw;function Jo(n,r){if(gn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!as.call(r,f)||!gn(n[f],r[f]))return!1}return!0}function Ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jg(n,r){var a=Ug(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function zg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?zg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ys(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ys(n.document)}return r}function Uf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Iw=Bn&&"documentMode"in document&&11>=document.documentMode,wa=null,jf=null,Zo=null,zf=!1;function qg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zf||wa==null||wa!==ys(l)||(l=wa,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Uc(jf,"onSelect"),0<l.length&&(r=new ga("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=wa)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var ba={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Bf={},Hg={};Bn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Os(n){if(Bf[n])return Bf[n];if(!ba[n])return n;var r=ba[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hg)return Bf[n]=r[a];return n}var Fg=Os("animationend"),Gg=Os("animationiteration"),Kg=Os("animationstart"),Ow=Os("transitionrun"),Dw=Os("transitionstart"),Nw=Os("transitioncancel"),Qg=Os("transitionend"),$g=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function qn(n,r){$g.set(n,r),zn(r,[n])}var Yg=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=Yg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:da(r)},Yg.set(n,r),r)}return{value:n,source:r,stack:da(r)}}var Nn=[],Ra=0,Hf=0;function ec(){for(var n=Ra,r=Hf=Ra=0;r<n;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function tc(n,r,a,l){Nn[Ra++]=n,Nn[Ra++]=r,Nn[Ra++]=a,Nn[Ra++]=l,Hf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Ff(n,r,a,l){return tc(n,r,a,l),nc(n)}function Ca(n,r){return tc(n,null,null,r),nc(n)}function Xg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Qt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(n){if(50<wl)throw wl=0,Xd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ia={};function xw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(n,r,a,l){return new xw(n,r,a,l)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Li(n,r){var a=n.alternate;return a===null?(a=yn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Wg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function ic(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Gf(n)&&(E=1);else if(typeof n=="string")E=Pb(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=yn(31,a,r,f),n.elementType=C,n.lanes=d,n;case b:return Ds(a.children,f,d,r);case U:E=8,f|=24;break;case D:return n=yn(12,a,r,f|2),n.elementType=D,n.lanes=d,n;case oe:return n=yn(13,a,r,f),n.elementType=oe,n.lanes=d,n;case ye:return n=yn(19,a,r,f),n.elementType=ye,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case X:E=10;break e;case W:E=9;break e;case ce:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=yn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ds(n,r,a,l){return n=yn(7,n,l,r),n.lanes=a,n}function Kf(n,r,a){return n=yn(6,n,null,r),n.lanes=a,n}function Qf(n,r,a){return r=yn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Oa=[],Da=0,rc=null,sc=0,xn=[],Mn=0,Ns=null,Ui=1,ji="";function xs(n,r){Oa[Da++]=sc,Oa[Da++]=rc,rc=n,sc=r}function Jg(n,r,a){xn[Mn++]=Ui,xn[Mn++]=ji,xn[Mn++]=Ns,Ns=n;var l=Ui;n=ji;var f=32-Qt(l)-1;l&=~(1<<f),a+=1;var d=32-Qt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Ui=1<<32-Qt(r)+f|a<<f|l,ji=d+n}else Ui=1<<d|a<<f|l,ji=n}function $f(n){n.return!==null&&(xs(n,1),Jg(n,1,0))}function Yf(n){for(;n===rc;)rc=Oa[--Da],Oa[Da]=null,sc=Oa[--Da],Oa[Da]=null;for(;n===Ns;)Ns=xn[--Mn],xn[Mn]=null,ji=xn[--Mn],xn[Mn]=null,Ui=xn[--Mn],xn[Mn]=null}var sn=null,ht=null,He=!1,Ms=null,li=!1,Xf=Error(s(519));function Ps(n){var r=Error(s(418,""));throw nl(Dn(r,n)),Xf}function Zg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[bt]=n,r[yt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Pe(Rl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),vs(r,l.value,l.defaultValue,l.children),ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||gv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Ps(n)}function ey(n){for(sn=n.return;sn;)switch(sn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:sn=sn.return}}function el(n){if(n!==sn)return!1;if(!He)return ey(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fm(n.type,n.memoizedProps)),a=!a),a&&ht&&Ps(n),ey(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ht=Fn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,xr(n.type)?(n=gm,gm=null,ht=n):ht=r):ht=sn?Fn(n.stateNode.nextSibling):null;return!0}function tl(){ht=sn=null,He=!1}function ty(){var n=Ms;return n!==null&&(un===null?un=n:un.push.apply(un,n),Ms=null),n}function nl(n){Ms===null?Ms=[n]:Ms.push(n)}var Wf=re(null),Vs=null,zi=null;function yr(n,r,a){se(Wf,r._currentValue),r._currentValue=a}function Bi(n){n._currentValue=Wf.current,ue(Wf)}function Jf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Zf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Jf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Jf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function il(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;gn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Nt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(xl):n=[xl])}f=f.return}n!==null&&Zf(r,n,a,l),r.flags|=262144}function ac(n){for(n=n.firstContext;n!==null;){if(!gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ks(n){Vs=n,zi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return ny(Vs,n)}function oc(n,r){return Vs===null&&ks(n),ny(n,r)}function ny(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(n===null)throw Error(s(308));zi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else zi=zi.next=r;return a}var Mw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Pw=i.unstable_scheduleCallback,Vw=i.unstable_NormalPriority,It={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new Mw,data:new Map,refCount:0}}function rl(n){n.refCount--,n.refCount===0&&Pw(Vw,function(){n.controller.abort()})}var sl=null,td=0,Na=0,xa=null;function kw(n,r){if(sl===null){var a=sl=[];td=0,Na=im(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,r.then(iy,iy),r}function iy(){if(--td===0&&sl!==null){xa!==null&&(xa.status="fulfilled");var n=sl;sl=null,Na=0,xa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Lw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ry=J.S;J.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&kw(n,r),ry!==null&&ry(n,r)};var Ls=re(null);function nd(){var n=Ls.current;return n!==null?n:tt.pooledCache}function lc(n,r){r===null?se(Ls,Ls.current):se(Ls,r.pool)}function sy(){var n=nd();return n===null?null:{parent:It._currentValue,pool:n}}var al=Error(s(460)),ay=Error(s(474)),uc=Error(s(542)),id={then:function(){}};function oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function ly(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,cy(n),n;default:if(typeof r.status=="string")r.then(cc,cc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,cy(n),n}throw ol=r,al}}var ol=null;function uy(){if(ol===null)throw Error(s(459));var n=ol;return ol=null,n}function cy(n){if(n===al||n===uc)throw Error(s(483))}var _r=!1;function rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Er(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=nc(n),Xg(n,null,a),r}return tc(n,l,r,a),nc(n)}function ll(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ko(n,a)}}function ad(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var od=!1;function ul(){if(od){var n=xa;if(n!==null)throw n}}function cl(n,r,a,l){od=!1;var f=n.updateQueue;_r=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,H=I.next;I.next=null,E===null?d=H:E.next=H,E=I;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==E&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=I))}if(d!==null){var te=f.baseState;E=0,Z=H=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(je&F)===F:(l&F)===F){F!==0&&F===Na&&(od=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,ve=T;F=r;var Je=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){te=Se.call(Je,te,F);break e}te=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,F=typeof Se=="function"?Se.call(Je,te,F):Se,F==null)break e;te=_({},te,F);break e;case 2:_r=!0}}F=T.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=G,I=te):Z=Z.next=G,E|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Z===null&&(I=te),f.baseState=I,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=te}}function hy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function fy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)hy(a[n],r)}var Ma=re(null),hc=re(0);function dy(n,r){n=$i,se(hc,n),se(Ma,r),$i=n|r.baseLanes}function ld(){se(hc,$i),se(Ma,Ma.current)}function ud(){$i=hc.current,ue(Ma),ue(hc)}var Tr=0,Oe=null,Xe=null,vt=null,fc=!1,Pa=!1,Us=!1,dc=0,hl=0,Va=null,Uw=0;function mt(){throw Error(s(321))}function cd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!gn(n[a],r[a]))return!1;return!0}function hd(n,r,a,l,f,d){return Tr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=n===null||n.memoizedState===null?Xy:Wy,Us=!1,d=a(l,f),Us=!1,Pa&&(d=py(r,a,l,f)),my(n),d}function my(n){J.H=vc;var r=Xe!==null&&Xe.next!==null;if(Tr=0,vt=Xe=Oe=null,fc=!1,hl=0,Va=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&ac(n)&&(Pt=!0))}function py(n,r,a,l){Oe=n;var f=0;do{if(Pa&&(Va=null),hl=0,Pa=!1,25<=f)throw Error(s(301));if(f+=1,vt=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=Gw,d=r(a,l)}while(Pa);return d}function jw(){var n=J.H,r=n.useState()[0];return r=typeof r.then=="function"?fl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Oe.flags|=1024),r}function fd(){var n=dc!==0;return dc=0,n}function dd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function md(n){if(fc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}fc=!1}Tr=0,vt=Xe=Oe=null,Pa=!1,hl=dc=0,Va=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Oe.memoizedState=vt=n:vt=vt.next=n,vt}function Et(){if(Xe===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=vt===null?Oe.memoizedState:vt.next;if(r!==null)vt=r,Xe=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?Oe.memoizedState=vt=n:vt=vt.next=n}return vt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(n){var r=hl;return hl+=1,Va===null&&(Va=[]),n=ly(Va,n,r),r=Oe,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?Xy:Wy),n}function mc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return fl(n);if(n.$$typeof===X)return $t(n)}throw Error(s(438,String(n)))}function gd(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=pd(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function qi(n,r){return typeof r=="function"?r(n):r}function pc(n){var r=Et();return yd(r,Xe,n)}function yd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,I=null,H=r,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(je&te)===te:(Tr&te)===te){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Na&&(Z=!0);else if((Tr&F)===F){H=H.next,F===Na&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=te,E=d):I=I.next=te,Oe.lanes|=F,Ir|=F;te=H.action,Us&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else F={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,E=d):I=I.next=F,Oe.lanes|=te,Ir|=te;H=H.next}while(H!==null&&H!==r);if(I===null?E=d:I.next=T,!gn(d,n.memoizedState)&&(Pt=!0,Z&&(a=xa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function _d(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);gn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(n,r,a){var l=Oe,f=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!gn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Pt=!0),f=f.queue;var T=vy.bind(null,l,f,n);if(dl(2048,8,T,[n]),f.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,ka(9,gc(),_y.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(Tr&124)!==0||yy(l,r,a)}return a}function yy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=pd(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function _y(n,r,a,l){r.value=a,r.getSnapshot=l,Ey(r)&&Ty(n)}function vy(n,r,a){return a(function(){Ey(r)&&Ty(n)})}function Ey(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!gn(n,a)}catch{return!0}}function Ty(n){var r=Ca(n,2);r!==null&&An(r,n,2)}function vd(n){var r=on();if(typeof n=="function"){var a=n;if(n=a(),Us){mn(!0);try{a()}finally{mn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},r}function Ay(n,r,a,l){return n.baseState=a,yd(n,Xe,typeof l=="function"?l:qi)}function zw(n,r,a,l,f){if(_c(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Sy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Sy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=J.T,E={};J.T=E;try{var T=a(f,l),I=J.S;I!==null&&I(E,T),wy(n,r,T)}catch(H){Ed(n,r,H)}finally{J.T=d}}else try{d=a(f,l),wy(n,r,d)}catch(H){Ed(n,r,H)}}function wy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(n,r,l)},function(l){return Ed(n,r,l)}):by(n,r,a)}function by(n,r,a){r.status="fulfilled",r.value=a,Ry(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Sy(n,a)))}function Ed(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ry(r),r=r.next;while(r!==l)}n.action=null}function Ry(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Cy(n,r){return r}function Iy(n,r){if(He){var a=tt.formState;if(a!==null){e:{var l=Oe;if(He){if(ht){t:{for(var f=ht,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=Fn(f.nextSibling),l=f.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=Qy.bind(null,Oe,l),l.dispatch=a,l=vd(!1),d=bd.bind(null,Oe,!1,l.queue),l=on(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=zw.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Oy(n){var r=Et();return Dy(r,Xe,n)}function Dy(n,r,a){if(r=yd(n,r,Cy)[0],n=pc(qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(E){throw E===al?uc:E}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,ka(9,gc(),Bw.bind(null,f,a),null)),[l,d,n]}function Bw(n,r){n.action=r}function Ny(n){var r=Et(),a=Xe;if(a!==null)return Dy(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function ka(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=pd(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function gc(){return{destroy:void 0,resource:void 0}}function xy(){return Et().memoizedState}function yc(n,r,a,l){var f=on();l=l===void 0?null:l,Oe.flags|=n,f.memoizedState=ka(1|r,gc(),a,l)}function dl(n,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&cd(l,Xe.memoizedState.deps)?f.memoizedState=ka(r,d,a,l):(Oe.flags|=n,f.memoizedState=ka(1|r,d,a,l))}function My(n,r){yc(8390656,8,n,r)}function Py(n,r){dl(2048,8,n,r)}function Vy(n,r){return dl(4,2,n,r)}function ky(n,r){return dl(4,4,n,r)}function Ly(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Uy(n,r,a){a=a!=null?a.concat([n]):null,dl(4,4,Ly.bind(null,r,n),a)}function Td(){}function jy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&cd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function zy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&cd(r,l[1]))return l[0];if(l=n(),Us){mn(!0);try{n()}finally{mn(!1)}}return a.memoizedState=[l,r],l}function Ad(n,r,a){return a===void 0||(Tr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=H_(),Oe.lanes|=n,Ir|=n,a)}function By(n,r,a,l){return gn(a,r)?a:Ma.current!==null?(n=Ad(n,a,l),gn(n,r)||(Pt=!0),n):(Tr&42)===0?(Pt=!0,n.memoizedState=a):(n=H_(),Oe.lanes|=n,Ir|=n,r)}function qy(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var E=J.T,T={};J.T=T,bd(n,!1,r,a);try{var I=f(),H=J.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Lw(I,l);ml(n,r,Z,Tn(n))}else ml(n,r,l,Tn(n))}catch(te){ml(n,r,{then:function(){},status:"rejected",reason:te},Tn())}finally{le.p=d,J.T=E}}function qw(){}function Sd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Hy(n).queue;qy(n,f,r,pe,a===null?qw:function(){return Fy(n),a(l)})}function Hy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Fy(n){var r=Hy(n).next.queue;ml(n,r,{},Tn())}function wd(){return $t(xl)}function Gy(){return Et().memoizedState}function Ky(){return Et().memoizedState}function Hw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();n=vr(a);var l=Er(r,n,a);l!==null&&(An(l,r,a),ll(l,r,a)),r={cache:ed()},n.payload=r;return}r=r.return}}function Fw(n,r,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(n)?$y(r,a):(a=Ff(n,r,a,l),a!==null&&(An(a,n,l),Yy(a,r,l)))}function Qy(n,r,a){var l=Tn();ml(n,r,a,l)}function ml(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(n))$y(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,E))return tc(n,r,f,0),tt===null&&ec(),!1}catch{}finally{}if(a=Ff(n,r,f,l),a!==null)return An(a,n,l),Yy(a,r,l),!0}return!1}function bd(n,r,a,l){if(l={lane:2,revertLane:im(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(n)){if(r)throw Error(s(479))}else r=Ff(n,a,l,2),r!==null&&An(r,n,2)}function _c(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function $y(n,r){Pa=fc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Yy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,ko(n,a)}}var vc={readContext:$t,use:mc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Xy={readContext:$t,use:mc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:$t,useEffect:My,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,yc(4194308,4,Ly.bind(null,r,n),a)},useLayoutEffect:function(n,r){return yc(4194308,4,n,r)},useInsertionEffect:function(n,r){yc(4,2,n,r)},useMemo:function(n,r){var a=on();r=r===void 0?null:r;var l=n();if(Us){mn(!0);try{n()}finally{mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=on();if(a!==void 0){var f=a(r);if(Us){mn(!0);try{a(r)}finally{mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Fw.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=vd(n);var r=n.queue,a=Qy.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Td,useDeferredValue:function(n,r){var a=on();return Ad(a,n,r)},useTransition:function(){var n=vd(!1);return n=qy.bind(null,Oe,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Oe,f=on();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(je&124)!==0||yy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,My(vy.bind(null,l,d,n),[n]),l.flags|=2048,ka(9,gc(),_y.bind(null,l,d,a,r),null),a},useId:function(){var n=on(),r=tt.identifierPrefix;if(He){var a=ji,l=Ui;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=dc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Uw++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:wd,useFormState:Iy,useActionState:Iy,useOptimistic:function(n){var r=on();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=bd.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:gd,useCacheRefresh:function(){return on().memoizedState=Hw.bind(null,Oe)}},Wy={readContext:$t,use:mc,useCallback:jy,useContext:$t,useEffect:Py,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:zy,useReducer:pc,useRef:xy,useState:function(){return pc(qi)},useDebugValue:Td,useDeferredValue:function(n,r){var a=Et();return By(a,Xe.memoizedState,n,r)},useTransition:function(){var n=pc(qi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:fl(n),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:wd,useFormState:Oy,useActionState:Oy,useOptimistic:function(n,r){var a=Et();return Ay(a,Xe,n,r)},useMemoCache:gd,useCacheRefresh:Ky},Gw={readContext:$t,use:mc,useCallback:jy,useContext:$t,useEffect:Py,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:zy,useReducer:_d,useRef:xy,useState:function(){return _d(qi)},useDebugValue:Td,useDeferredValue:function(n,r){var a=Et();return Xe===null?Ad(a,n,r):By(a,Xe.memoizedState,n,r)},useTransition:function(){var n=_d(qi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:fl(n),r]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:wd,useFormState:Ny,useActionState:Ny,useOptimistic:function(n,r){var a=Et();return Xe!==null?Ay(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Ky},La=null,pl=0;function Ec(n){var r=pl;return pl+=1,La===null&&(La=[]),ly(La,n,r)}function gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Tc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jy(n){var r=n._init;return r(n._payload)}function Zy(n){function r(j,k){if(n){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!n)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Li(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,n?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,q,ee){return k===null||k.tag!==6?(k=Kf(q,j.mode,ee),k.return=j,k):(k=f(k,q),k.return=j,k)}function I(j,k,q,ee){var de=q.type;return de===b?Z(j,k,q.props.children,ee,q.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Jy(de)===k.type)?(k=f(k,q.props),gl(k,q),k.return=j,k):(k=ic(q.type,q.key,q.props,null,j.mode,ee),gl(k,q),k.return=j,k)}function H(j,k,q,ee){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Qf(q,j.mode,ee),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function Z(j,k,q,ee,de){return k===null||k.tag!==7?(k=Ds(q,j.mode,ee,de),k.return=j,k):(k=f(k,q),k.return=j,k)}function te(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Kf(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return q=ic(k.type,k.key,k.props,null,j.mode,q),gl(q,k),q.return=j,q;case N:return k=Qf(k,j.mode,q),k.return=j,k;case R:var ee=k._init;return k=ee(k._payload),te(j,k,q)}if(it(k)||V(k))return k=Ds(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return te(j,Ec(k),q);if(k.$$typeof===X)return te(j,oc(j,k),q);Tc(j,k)}return null}function F(j,k,q,ee){var de=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:T(j,k,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===de?I(j,k,q,ee):null;case N:return q.key===de?H(j,k,q,ee):null;case R:return de=q._init,q=de(q._payload),F(j,k,q,ee)}if(it(q)||V(q))return de!==null?null:Z(j,k,q,ee,null);if(typeof q.then=="function")return F(j,k,Ec(q),ee);if(q.$$typeof===X)return F(j,k,oc(j,q),ee);Tc(j,q)}return null}function G(j,k,q,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(q)||null,T(k,j,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return j=j.get(ee.key===null?q:ee.key)||null,I(k,j,ee,de);case N:return j=j.get(ee.key===null?q:ee.key)||null,H(k,j,ee,de);case R:var xe=ee._init;return ee=xe(ee._payload),G(j,k,q,ee,de)}if(it(ee)||V(ee))return j=j.get(q)||null,Z(k,j,ee,de,null);if(typeof ee.then=="function")return G(j,k,q,Ec(ee),de);if(ee.$$typeof===X)return G(j,k,q,oc(k,ee),de);Tc(k,ee)}return null}function Se(j,k,q,ee){for(var de=null,xe=null,me=k,Ee=k=0,kt=null;me!==null&&Ee<q.length;Ee++){me.index>Ee?(kt=me,me=null):kt=me.sibling;var Be=F(j,me,q[Ee],ee);if(Be===null){me===null&&(me=kt);break}n&&me&&Be.alternate===null&&r(j,me),k=d(Be,k,Ee),xe===null?de=Be:xe.sibling=Be,xe=Be,me=kt}if(Ee===q.length)return a(j,me),He&&xs(j,Ee),de;if(me===null){for(;Ee<q.length;Ee++)me=te(j,q[Ee],ee),me!==null&&(k=d(me,k,Ee),xe===null?de=me:xe.sibling=me,xe=me);return He&&xs(j,Ee),de}for(me=l(me);Ee<q.length;Ee++)kt=G(me,j,Ee,q[Ee],ee),kt!==null&&(n&&kt.alternate!==null&&me.delete(kt.key===null?Ee:kt.key),k=d(kt,k,Ee),xe===null?de=kt:xe.sibling=kt,xe=kt);return n&&me.forEach(function(Lr){return r(j,Lr)}),He&&xs(j,Ee),de}function ve(j,k,q,ee){if(q==null)throw Error(s(151));for(var de=null,xe=null,me=k,Ee=k=0,kt=null,Be=q.next();me!==null&&!Be.done;Ee++,Be=q.next()){me.index>Ee?(kt=me,me=null):kt=me.sibling;var Lr=F(j,me,Be.value,ee);if(Lr===null){me===null&&(me=kt);break}n&&me&&Lr.alternate===null&&r(j,me),k=d(Lr,k,Ee),xe===null?de=Lr:xe.sibling=Lr,xe=Lr,me=kt}if(Be.done)return a(j,me),He&&xs(j,Ee),de;if(me===null){for(;!Be.done;Ee++,Be=q.next())Be=te(j,Be.value,ee),Be!==null&&(k=d(Be,k,Ee),xe===null?de=Be:xe.sibling=Be,xe=Be);return He&&xs(j,Ee),de}for(me=l(me);!Be.done;Ee++,Be=q.next())Be=G(me,j,Ee,Be.value,ee),Be!==null&&(n&&Be.alternate!==null&&me.delete(Be.key===null?Ee:Be.key),k=d(Be,k,Ee),xe===null?de=Be:xe.sibling=Be,xe=Be);return n&&me.forEach(function(Kb){return r(j,Kb)}),He&&xs(j,Ee),de}function Je(j,k,q,ee){if(typeof q=="object"&&q!==null&&q.type===b&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var de=q.key;k!==null;){if(k.key===de){if(de=q.type,de===b){if(k.tag===7){a(j,k.sibling),ee=f(k,q.props.children),ee.return=j,j=ee;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Jy(de)===k.type){a(j,k.sibling),ee=f(k,q.props),gl(ee,q),ee.return=j,j=ee;break e}a(j,k);break}else r(j,k);k=k.sibling}q.type===b?(ee=Ds(q.props.children,j.mode,ee,q.key),ee.return=j,j=ee):(ee=ic(q.type,q.key,q.props,null,j.mode,ee),gl(ee,q),ee.return=j,j=ee)}return E(j);case N:e:{for(de=q.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),ee=f(k,q.children||[]),ee.return=j,j=ee;break e}else{a(j,k);break}else r(j,k);k=k.sibling}ee=Qf(q,j.mode,ee),ee.return=j,j=ee}return E(j);case R:return de=q._init,q=de(q._payload),Je(j,k,q,ee)}if(it(q))return Se(j,k,q,ee);if(V(q)){if(de=V(q),typeof de!="function")throw Error(s(150));return q=de.call(q),ve(j,k,q,ee)}if(typeof q.then=="function")return Je(j,k,Ec(q),ee);if(q.$$typeof===X)return Je(j,k,oc(j,q),ee);Tc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),ee=f(k,q),ee.return=j,j=ee):(a(j,k),ee=Kf(q,j.mode,ee),ee.return=j,j=ee),E(j)):a(j,k)}return function(j,k,q,ee){try{pl=0;var de=Je(j,k,q,ee);return La=null,de}catch(me){if(me===al||me===uc)throw me;var xe=yn(29,me,null,j.mode);return xe.lanes=ee,xe.return=j,xe}finally{}}}var Ua=Zy(!0),e_=Zy(!1),Pn=re(null),ui=null;function Ar(n){var r=n.alternate;se(Ot,Ot.current&1),se(Pn,n),ui===null&&(r===null||Ma.current!==null||r.memoizedState!==null)&&(ui=n)}function t_(n){if(n.tag===22){if(se(Ot,Ot.current),se(Pn,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else Sr()}function Sr(){se(Ot,Ot.current),se(Pn,Pn.current)}function Hi(n){ue(Pn),ui===n&&(ui=null),ue(Ot)}var Ot=re(0);function Ac(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Rd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Tn(),f=vr(l);f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,l),r!==null&&(An(r,n,l),ll(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Tn(),f=vr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,l),r!==null&&(An(r,n,l),ll(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Tn(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(n,l,a),r!==null&&(An(r,n,a),ll(r,n,a))}};function n_(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(f,d):!0}function i_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Cd.enqueueReplaceState(r,r.state,null)}function js(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function r_(n){Sc(n)}function s_(n){console.error(n)}function a_(n){Sc(n)}function wc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function o_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Id(n,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(n,r)},a}function l_(n){return n=vr(n),n.tag=3,n}function u_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){o_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){o_(r,a,l),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Kw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ui===null?Jd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===id?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),em(n,l,f)),!1;case 22:return a.flags|=65536,l===id?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),em(n,l,f)),!1}throw Error(s(435,a.tag))}return em(n,l,f),Jd(),!1}if(He)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Xf&&(n=Error(s(422),{cause:l}),nl(Dn(n,a)))):(l!==Xf&&(r=Error(s(423),{cause:l}),nl(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=Id(n.stateNode,l,f),ad(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Sl===null?Sl=[d]:Sl.push(d),ft!==4&&(ft=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Id(a.stateNode,l,n),ad(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=l_(f),u_(f,n,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var c_=Error(s(461)),Pt=!1;function zt(n,r,a,l){r.child=n===null?e_(r,null,a,l):Ua(r,n.child,a,l)}function h_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return ks(r),l=hd(n,r,a,E,d,f),T=fd(),n!==null&&!Pt?(dd(n,r,f),Fi(n,r,f)):(He&&T&&$f(r),r.flags|=1,zt(n,r,l,f),r.child)}function f_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Gf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,d_(n,r,d,l,f)):(n=ic(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!kd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(E,l)&&n.ref===r.ref)return Fi(n,r,f)}return r.flags|=1,n=Li(d,l),n.ref=r.ref,n.return=r,r.child=n}function d_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Jo(d,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,kd(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,Fi(n,r,f)}return Od(n,r,a,l,f)}function m_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return p_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&lc(r,d!==null?d.cachePool:null),d!==null?dy(r,d):ld(),t_(r);else return r.lanes=r.childLanes=536870912,p_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(r,d.cachePool),dy(r,d),Sr(),r.memoizedState=null):(n!==null&&lc(r,null),ld(),Sr());return zt(n,r,f,a),r.child}function p_(n,r,a,l){var f=nd();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&lc(r,null),ld(),t_(r),n!==null&&il(n,r,l,!0),null}function bc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Od(n,r,a,l,f){return ks(r),a=hd(n,r,a,l,void 0,f),l=fd(),n!==null&&!Pt?(dd(n,r,f),Fi(n,r,f)):(He&&l&&$f(r),r.flags|=1,zt(n,r,a,f),r.child)}function g_(n,r,a,l,f,d){return ks(r),r.updateQueue=null,a=py(r,l,a,f),my(n),l=fd(),n!==null&&!Pt?(dd(n,r,d),Fi(n,r,d)):(He&&l&&$f(r),r.flags|=1,zt(n,r,a,d),r.child)}function y_(n,r,a,l,f){if(ks(r),r.stateNode===null){var d=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(d=$t(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},rd(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?$t(E):Ia,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Rd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Cd.enqueueReplaceState(d,d.state,null),cl(r,l,d,f),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,I=js(a,T);d.props=I;var H=d.context,Z=a.contextType;E=Ia,typeof Z=="object"&&Z!==null&&(E=$t(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&i_(r,d,l,E),_r=!1;var F=r.memoizedState;d.state=F,cl(r,l,d,f),ul(),H=r.memoizedState,T||F!==H||_r?(typeof te=="function"&&(Rd(r,a,te,l),H=r.memoizedState),(I=_r||n_(r,a,I,l,F,H,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,sd(n,r),E=r.memoizedProps,Z=js(a,E),d.props=Z,te=r.pendingProps,F=d.context,H=a.contextType,I=Ia,typeof H=="object"&&H!==null&&(I=$t(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||F!==I)&&i_(r,d,l,I),_r=!1,F=r.memoizedState,d.state=F,cl(r,l,d,f),ul();var G=r.memoizedState;E!==te||F!==G||_r||n!==null&&n.dependencies!==null&&ac(n.dependencies)?(typeof T=="function"&&(Rd(r,a,T,l),G=r.memoizedState),(Z=_r||n_(r,a,Z,l,F,G,I)||n!==null&&n.dependencies!==null&&ac(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,bc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ua(r,n.child,null,f),r.child=Ua(r,null,a,f)):zt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Fi(n,r,f),n}function __(n,r,a,l){return tl(),r.flags|=256,zt(n,r,a,l),r.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:sy()}}function xd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Vn),n}function v_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(f?Ar(r):Sr(),He){var T=ht,I;if(I=T){e:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break e}if(I=Fn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ns!==null?{id:Ui,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},I=yn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,sn=r,ht=null,I=!0):I=!1}I||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return pm(T)?r.lanes=32:r.lanes=536870912,null;Hi(r)}return T=l.children,l=l.fallback,f?(Sr(),f=r.mode,T=Rc({mode:"hidden",children:T},f),l=Ds(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Nd(a),f.childLanes=xd(n,E,a),r.memoizedState=Dd,l):(Ar(r),Md(r,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Ar(r),r.flags&=-257,r=Pd(n,r,a)):r.memoizedState!==null?(Sr(),r.child=n.child,r.flags|=128,r=null):(Sr(),f=l.fallback,T=r.mode,l=Rc({mode:"visible",children:l.children},T),f=Ds(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ua(r,n.child,null,a),l=r.child,l.memoizedState=Nd(a),l.childLanes=xd(n,E,a),r.memoizedState=Dd,r=f);else if(Ar(r),pm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,nl({value:l,source:null,stack:null}),r=Pd(n,r,a)}else if(Pt||il(n,r,a,!1),E=(a&n.childLanes)!==0,Pt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ca(n,l),An(E,n,l),c_;T.data==="$?"||Jd(),r=Pd(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,ht=Fn(T.nextSibling),sn=r,He=!0,Ms=null,li=!1,n!==null&&(xn[Mn++]=Ui,xn[Mn++]=ji,xn[Mn++]=Ns,Ui=n.id,ji=n.overflow,Ns=r),r=Md(r,l.children),r.flags|=4096);return r}return f?(Sr(),f=l.fallback,T=r.mode,I=n.child,H=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?f=Li(H,f):(f=Ds(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Nd(a):(I=T.cachePool,I!==null?(H=It._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=sy(),T={baseLanes:T.baseLanes|a,cachePool:I}),f.memoizedState=T,f.childLanes=xd(n,E,a),r.memoizedState=Dd,l):(Ar(r),a=n.child,n=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Md(n,r){return r=Rc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Rc(n,r){return n=yn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Pd(n,r,a){return Ua(r,n.child,null,a),n=Md(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function E_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Jf(n.return,r,a)}function Vd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function T_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(zt(n,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E_(n,a,r);else if(n.tag===19)E_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(se(Ot,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ac(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Vd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ac(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Vd(r,!0,a,null,d);break;case"together":Vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(il(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Li(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Li(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function kd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ac(n)))}function Qw(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),yr(r,It,n.memoizedState.cache),tl();break;case 27:case 5:ur(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?v_(n,r,a):(Ar(r),n=Fi(n,r,a),n!==null?n.sibling:null);Ar(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return T_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,m_(n,r,a);case 24:yr(r,It,n.memoizedState.cache)}return Fi(n,r,a)}function A_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!kd(n,a)&&(r.flags&128)===0)return Pt=!1,Qw(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,He&&(r.flags&1048576)!==0&&Jg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Gf(l)?(n=js(l,n),r.tag=1,r=y_(null,r,l,n,a)):(r.tag=0,r=Od(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ce){r.tag=11,r=h_(null,r,l,n,a);break e}else if(f===x){r.tag=14,r=f_(null,r,l,n,a);break e}}throw r=wt(l)||l,Error(s(306,r,""))}}return r;case 0:return Od(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=js(l,r.pendingProps),y_(n,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,sd(n,r),cl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,yr(r,It,l),l!==d.cache&&Zf(r,[It],a,!0),ul(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=__(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),nl(f),r=__(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Fn(n.firstChild),sn=r,He=!0,Ms=null,li=!0,a=e_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===f){r=Fi(n,r,a);break e}zt(n,r,l,a)}r=r.child}return r;case 26:return bc(n,r),n===null?(a=Rv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,l=zc(we.current).createElement(a),l[bt]=r,l[yt]=n,qt(l,a,n),dt(l),r.stateNode=l):r.memoizedState=Rv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ur(r),n===null&&He&&(l=r.stateNode=Sv(r.type,r.pendingProps,we.current),sn=r,li=!0,f=ht,xr(r.type)?(gm=f,ht=Fn(l.firstChild)):ht=f),zt(n,r,r.pendingProps.children,a),bc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((f=l=ht)&&(l=Tb(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,sn=r,ht=Fn(l.firstChild),li=!1,f=!0):f=!1),f||Ps(r)),ur(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,fm(f,d)?l=null:E!==null&&fm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=hd(n,r,jw,null,null,a),xl._currentValue=f),bc(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&He&&((n=a=ht)&&(a=Ab(a,r.pendingProps,li),a!==null?(r.stateNode=a,sn=r,ht=null,n=!0):n=!1),n||Ps(r)),null;case 13:return v_(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ua(r,null,l,a):zt(n,r,l,a),r.child;case 11:return h_(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ks(r),f=$t(f),l=l(f),r.flags|=1,zt(n,r,l,a),r.child;case 14:return f_(n,r,r.type,r.pendingProps,a);case 15:return d_(n,r,r.type,r.pendingProps,a);case 19:return T_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Rc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Li(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return m_(n,r,a);case 24:return ks(r),l=$t(It),n===null?(f=nd(),f===null&&(f=tt,d=ed(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},rd(r),yr(r,It,f)):((n.lanes&a)!==0&&(sd(n,r),cl(r,null,null,a),ul()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,It,l)):(l=d.cache,yr(r,It,l),l!==f.cache&&Zf(r,[It],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Gi(n){n.flags|=4}function S_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Nv(r)){if(r=Pn.current,r!==null&&((je&4194048)===je?ui!==null:(je&62914560)!==je&&(je&536870912)===0||r!==ui))throw ol=id,ay;n.flags|=8192}}function Cc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Po():536870912,n.lanes|=r,qa|=r)}function yl(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function $w(n,r,a){var l=r.pendingProps;switch(Yf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(It),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(el(r)?Gi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ty())),at(r),null;case 26:return a=r.memoizedState,n===null?(Gi(r),a!==null?(at(r),S_(r,a)):(at(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Gi(r),at(r),S_(r,a)):(at(r),r.flags&=-16777217):(n.memoizedProps!==l&&Gi(r),at(r),r.flags&=-16777217),null;case 27:wi(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}n=_e.current,el(r)?Zg(r):(n=Sv(f,l,a),r.stateNode=n,Gi(r))}return at(r),null;case 5:if(wi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(n=_e.current,el(r))Zg(r);else{switch(f=zc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[bt]=r,n[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Gi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,el(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gv(n.nodeValue,a)),n||Ps(r)}else n=zc(n).createTextNode(l),n[bt]=r,r.stateNode=n}return at(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=el(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Cc(r,r.updateQueue),at(r),null;case 4:return Xn(),n===null&&om(r.stateNode.containerInfo),at(r),null;case 10:return Bi(r.type),at(r),null;case 19:if(ue(Ot),f=r.memoizedState,f===null)return at(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)yl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ac(n),d!==null){for(r.flags|=128,yl(f,!1),n=d.updateQueue,r.updateQueue=n,Cc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Wg(a,n),a=a.sibling;return se(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&wn()>Dc&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ac(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Cc(r,n),yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return at(r),null}else 2*wn()-f.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=wn(),r.sibling=null,n=Ot.current,se(Ot,l?n&1|2:n&1),r):(at(r),null);case 22:case 23:return Hi(r),ud(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Cc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Ls),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(It),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Yw(n,r){switch(Yf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Bi(It),Xn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(Hi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return Xn(),null;case 10:return Bi(r.type),null;case 22:case 23:return Hi(r),ud(),n!==null&&ue(Ls),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function w_(n,r){switch(Yf(r),r.tag){case 3:Bi(It),Xn();break;case 26:case 27:case 5:wi(r);break;case 4:Xn();break;case 13:Hi(r);break;case 19:ue(Ot);break;case 10:Bi(r.type);break;case 22:case 23:Hi(r),ud(),n!==null&&ue(Ls);break;case 24:Bi(It)}}function _l(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(r,r.return,T)}}function wr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var I=a,H=T;try{H()}catch(Z){Ze(f,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(r,r.return,Z)}}function b_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{fy(r,a)}catch(l){Ze(n,n.return,l)}}}function R_(n,r,a){a.props=js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function vl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,r,f)}}function ci(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function C_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Ld(n,r,a){try{var l=n.stateNode;gb(l,n.type,a,r),l[yt]=r}catch(f){Ze(n,n.return,f)}}function I_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&xr(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||I_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&xr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&xr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(jd(n,r,a),n=n.sibling;n!==null;)jd(n,r,a),n=n.sibling}function Ic(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&xr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ic(n,r,a),n=n.sibling;n!==null;)Ic(n,r,a),n=n.sibling}function O_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[bt]=n,r[yt]=a}catch(d){Ze(n,n.return,d)}}var Ki=!1,pt=!1,zd=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Xw(n,r){if(n=n.containerInfo,cm=Kc,n=Bg(n),Uf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,I=-1,H=0,Z=0,te=n,F=null;t:for(;;){for(var G;te!==a||f!==0&&te.nodeType!==3||(T=E+f),te!==d||l!==0&&te.nodeType!==3||(I=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(G=te.firstChild)!==null;)F=te,te=G;for(;;){if(te===n)break t;if(F===a&&++H===f&&(T=E),F===d&&++Z===l&&(I=E),(G=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:n,selectionRange:a},Kc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=js(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)mm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}}function N_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(n,a),l&4&&_l(5,a);break;case 1:if(br(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var f=js(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&b_(a),l&512&&vl(a,a.return);break;case 3:if(br(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{fy(n,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&O_(a);case 26:case 5:br(n,a),r===null&&l&4&&C_(a),l&512&&vl(a,a.return);break;case 12:br(n,a);break;case 13:br(n,a),l&4&&P_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=sb.bind(null,a),Sb(n,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){r=r!==null&&r.memoizedState!==null||pt,f=Ki;var d=pt;Ki=l,(pt=r)&&!d?Rr(n,a,(a.subtreeFlags&8772)!==0):br(n,a),Ki=f,pt=d}break;case 30:break;default:br(n,a)}}function x_(n){var r=n.alternate;r!==null&&(n.alternate=null,x_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,ln=!1;function Qi(n,r,a){for(a=a.child;a!==null;)M_(n,r,a),a=a.sibling}function M_(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||ci(a,r),Qi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||ci(a,r);var l=st,f=ln;xr(a.type)&&(st=a.stateNode,ln=!1),Qi(n,r,a),Il(a.stateNode),st=l,ln=f;break;case 5:pt||ci(a,r);case 6:if(l=st,f=ln,st=null,Qi(n,r,a),st=l,ln=f,st!==null)if(ln)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:st!==null&&(ln?(n=st,Tv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),kl(n)):Tv(st,a.stateNode));break;case 4:l=st,f=ln,st=a.stateNode.containerInfo,ln=!0,Qi(n,r,a),st=l,ln=f;break;case 0:case 11:case 14:case 15:pt||wr(2,a,r),pt||wr(4,a,r),Qi(n,r,a);break;case 1:pt||(ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&R_(a,r,l)),Qi(n,r,a);break;case 21:Qi(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Qi(n,r,a),pt=l;break;default:Qi(n,r,a)}}function P_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{kl(n)}catch(a){Ze(r,r.return,a)}}function Ww(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new D_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new D_),r;default:throw Error(s(435,n.tag))}}function Bd(n,r){var a=Ww(n);r.forEach(function(l){var f=ab.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function _n(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){st=T.stateNode,ln=!1;break e}break;case 5:st=T.stateNode,ln=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(st===null)throw Error(s(160));M_(d,E,f),st=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)V_(r,n),r=r.sibling}var Hn=null;function V_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),vn(n),l&4&&(wr(3,n,n.return),_l(3,n),wr(5,n,n.return));break;case 1:_n(r,n),vn(n),l&512&&(pt||a===null||ci(a,a.return)),l&64&&Ki&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Hn;if(_n(r,n),vn(n),l&512&&(pt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ms]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[bt]=n,dt(d),l=d;break e;case"link":var E=Ov("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Ov("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=n,dt(d),l=d}n.stateNode=l}else Dv(f,n.type,n.stateNode);else n.stateNode=Iv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dv(f,n.type,n.stateNode):Iv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,a.memoizedProps)}break;case 27:_n(r,n),vn(n),l&512&&(pt||a===null||ci(a,a.return)),a!==null&&l&4&&Ld(n,n.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,n),vn(n),l&512&&(pt||a===null||ci(a,a.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch(G){Ze(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,a!==null?a.memoizedProps:f)),l&1024&&(zd=!0);break;case 6:if(_n(r,n),vn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){Ze(n,n.return,G)}}break;case 3:if(Hc=null,f=Hn,Hn=Bc(r.containerInfo),_n(r,n),Hn=f,vn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(G){Ze(n,n.return,G)}zd&&(zd=!1,k_(n));break;case 4:l=Hn,Hn=Bc(n.stateNode.containerInfo),_n(r,n),vn(n),Hn=l;break;case 12:_n(r,n),vn(n);break;case 13:_n(r,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=wn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Ki,Z=pt;if(Ki=H||f,pt=Z||I,_n(r,n),pt=Z,Ki=H,vn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||I||Ki||pt||zs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=I.stateNode;var te=I.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Ze(I,I.return,G)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(G){Ze(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bd(n,a))));break;case 19:_n(r,n),vn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 30:break;case 21:break;default:_n(r,n),vn(n)}}function vn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(I_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ud(n);Ic(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Rn(E,""),a.flags&=-33);var T=Ud(n);Ic(n,T,E);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Ud(n);jd(n,H,I);break;default:throw Error(s(161))}}catch(Z){Ze(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function k_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;k_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function br(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)N_(n,r.alternate,r),r=r.sibling}function zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),zs(r);break;case 1:ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&R_(r,r.return,a),zs(r);break;case 27:Il(r.stateNode);case 26:case 5:ci(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}n=n.sibling}}function Rr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(f,d,a),_l(4,d);break;case 1:if(Rr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)hy(I[f],T)}catch(H){Ze(l,l.return,H)}}a&&E&64&&b_(d),vl(d,d.return);break;case 27:O_(d);case 26:case 5:Rr(f,d,a),a&&l===null&&E&4&&C_(d),vl(d,d.return);break;case 12:Rr(f,d,a);break;case 13:Rr(f,d,a),a&&E&4&&P_(f,d);break;case 22:d.memoizedState===null&&Rr(f,d,a),vl(d,d.return);break;case 30:break;default:Rr(f,d,a)}r=r.sibling}}function qd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&rl(a))}function Hd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&rl(n))}function hi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)L_(n,r,a,l),r=r.sibling}function L_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:hi(n,r,a,l),f&2048&&_l(9,r);break;case 1:hi(n,r,a,l);break;case 3:hi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&rl(n)));break;case 12:if(f&2048){hi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else hi(n,r,a,l);break;case 13:hi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?hi(n,r,a,l):El(n,r):d._visibility&2?hi(n,r,a,l):(d._visibility|=2,ja(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&qd(E,r);break;case 24:hi(n,r,a,l),f&2048&&Hd(r.alternate,r);break;default:hi(n,r,a,l)}}function ja(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,I=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:ja(d,E,T,I,f),_l(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?ja(d,E,T,I,f):El(d,E):(Z._visibility|=2,ja(d,E,T,I,f)),f&&H&2048&&qd(E.alternate,E);break;case 24:ja(d,E,T,I,f),f&&H&2048&&Hd(E.alternate,E);break;default:ja(d,E,T,I,f)}r=r.sibling}}function El(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:El(a,l),f&2048&&qd(l.alternate,l);break;case 24:El(a,l),f&2048&&Hd(l.alternate,l);break;default:El(a,l)}r=r.sibling}}var Tl=8192;function za(n){if(n.subtreeFlags&Tl)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 26:za(n),n.flags&Tl&&n.memoizedState!==null&&kb(Hn,n.memoizedState,n.memoizedProps);break;case 5:za(n);break;case 3:case 4:var r=Hn;Hn=Bc(n.stateNode.containerInfo),za(n),Hn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,za(n),Tl=r):za(n));break;default:za(n)}}function j_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Al(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,B_(l,n)}j_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)z_(n),n=n.sibling}function z_(n){switch(n.tag){case 0:case 11:case 15:Al(n),n.flags&2048&&wr(9,n,n.return);break;case 3:Al(n);break;case 12:Al(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Oc(n)):Al(n);break;default:Al(n)}}function Oc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Vt=l,B_(l,n)}j_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}n=n.sibling}}function B_(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=n;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(x_(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var Jw={getCacheForType:function(n){var r=$t(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Zw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,je=0,$e=0,En=null,Cr=!1,Ba=!1,Fd=!1,$i=0,ft=0,Ir=0,Bs=0,Gd=0,Vn=0,qa=0,Sl=null,un=null,Kd=!1,Qd=0,Dc=1/0,Nc=null,Or=null,Bt=0,Dr=null,Ha=null,Fa=0,$d=0,Yd=null,q_=null,wl=0,Xd=null;function Tn(){if((Qe&2)!==0&&je!==0)return je&-je;if(J.T!==null){var n=Na;return n!==0?n:im()}return hr()}function H_(){Vn===0&&(Vn=(je&536870912)===0||He?Mo():536870912);var n=Pn.current;return n!==null&&(n.flags|=32),Vn}function An(n,r,a){(n===tt&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(Ga(n,0),Nr(n,je,Vn,!1)),Ri(n,a),((Qe&2)===0||n!==tt)&&(n===tt&&((Qe&2)===0&&(Bs|=a),ft===4&&Nr(n,je,Vn,!1)),fi(n))}function F_(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ds(n,r),f=l?nb(n,r):Zd(n,r,!0),d=l;do{if(f===0){Ba&&!l&&Nr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!eb(a)){f=Zd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=Sl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ga(T,E).flags|=256),E=Zd(T,E,!1),E!==2){if(Fd&&!I){T.errorRecoveryDisabledLanes|=d,Bs|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ga(n,0),Nr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Nr(l,r,Vn,!Cr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Qd+300-wn(),10<f)){if(Nr(l,r,Vn,!Cr),la(l,0,!0)!==0)break e;l.timeoutHandle=vv(G_.bind(null,l,a,un,Nc,Kd,r,Vn,Bs,qa,Cr,d,2,-0,0),f);break e}G_(l,a,un,Nc,Kd,r,Vn,Bs,qa,Cr,d,0,-0,0)}}break}while(!0);fi(n)}function G_(n,r,a,l,f,d,E,T,I,H,Z,te,F,G){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:Vb},U_(r),te=Lb(),te!==null)){n.cancelPendingCommit=te(J_.bind(null,n,r,d,a,l,f,E,T,I,Z,1,F,G)),Nr(n,d,E,!H);return}J_(n,r,d,a,l,f,E,T,I)}function eb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(n,r,a,l){r&=~Gd,r&=~Bs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Qt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Wn(n,a,r)}function xc(){return(Qe&6)===0?(bl(0),!1):!0}function Wd(){if(Me!==null){if($e===0)var n=Me.return;else n=Me,zi=Vs=null,md(n),La=null,pl=0,n=Me;for(;n!==null;)w_(n.alternate,n),n=n.return;Me=null}}function Ga(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,_b(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wd(),tt=n,Me=a=Li(n.current,null),je=r,$e=0,En=null,Cr=!1,Ba=ds(n,r),Fd=!1,qa=Vn=Gd=Bs=Ir=ft=0,un=Sl=null,Kd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Qt(l),d=1<<f;r|=n[f],l&=~d}return $i=r,ec(),a}function K_(n,r){Oe=null,J.H=vc,r===al||r===uc?(r=uy(),$e=3):r===ay?(r=uy(),$e=4):$e=r===c_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Me===null&&(ft=1,wc(n,Dn(r,n.current)))}function Q_(){var n=J.H;return J.H=vc,n===null?vc:n}function $_(){var n=J.A;return J.A=Jw,n}function Jd(){ft=4,Cr||(je&4194048)!==je&&Pn.current!==null||(Ba=!0),(Ir&134217727)===0&&(Bs&134217727)===0||tt===null||Nr(tt,je,Vn,!1)}function Zd(n,r,a){var l=Qe;Qe|=2;var f=Q_(),d=$_();(tt!==n||je!==r)&&(Nc=null,Ga(n,r)),r=!1;var E=ft;e:do try{if($e!==0&&Me!==null){var T=Me,I=En;switch($e){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var H=$e;if($e=0,En=null,Ka(n,T,I,H),a&&Ba){E=0;break e}break;default:H=$e,$e=0,En=null,Ka(n,T,I,H)}}tb(),E=ft;break}catch(Z){K_(n,Z)}while(!0);return r&&n.shellSuspendCounter++,zi=Vs=null,Qe=l,J.H=f,J.A=d,Me===null&&(tt=null,je=0,ec()),E}function tb(){for(;Me!==null;)Y_(Me)}function nb(n,r){var a=Qe;Qe|=2;var l=Q_(),f=$_();tt!==n||je!==r?(Nc=null,Dc=wn()+500,Ga(n,r)):Ba=ds(n,r);e:do try{if($e!==0&&Me!==null){r=Me;var d=En;t:switch($e){case 1:$e=0,En=null,Ka(n,r,d,1);break;case 2:case 9:if(oy(d)){$e=0,En=null,X_(r);break}r=function(){$e!==2&&$e!==9||tt!==n||($e=7),fi(n)},d.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:oy(d)?($e=0,En=null,X_(r)):($e=0,En=null,Ka(n,r,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(!E||Nv(E)){$e=0,En=null;var I=T.sibling;if(I!==null)Me=I;else{var H=T.return;H!==null?(Me=H,Mc(H)):Me=null}break t}}$e=0,En=null,Ka(n,r,d,5);break;case 6:$e=0,En=null,Ka(n,r,d,6);break;case 8:Wd(),ft=6;break e;default:throw Error(s(462))}}ib();break}catch(Z){K_(n,Z)}while(!0);return zi=Vs=null,J.H=l,J.A=f,Qe=a,Me!==null?0:(tt=null,je=0,ec(),ft)}function ib(){for(;Me!==null&&!Oo();)Y_(Me)}function Y_(n){var r=A_(n.alternate,n,$i);n.memoizedProps=n.pendingProps,r===null?Mc(n):Me=r}function X_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=g_(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=g_(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:md(r);default:w_(a,r),r=Me=Wg(r,$i),r=A_(a,r,$i)}n.memoizedProps=n.pendingProps,r===null?Mc(n):Me=r}function Ka(n,r,a,l){zi=Vs=null,md(r),La=null,pl=0;var f=r.return;try{if(Kw(n,f,r,a,je)){ft=1,wc(n,Dn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;ft=1,wc(n,Dn(a,n.current)),Me=null;return}r.flags&32768?(He||l===1?n=!0:Ba||(je&536870912)!==0?n=!1:(Cr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),W_(r,n)):Mc(r)}function Mc(n){var r=n;do{if((r.flags&32768)!==0){W_(r,Cr);return}n=r.return;var a=$w(r.alternate,r,$i);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);ft===0&&(ft=5)}function W_(n,r){do{var a=Yw(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);ft=6,Me=null}function J_(n,r,a,l,f,d,E,T,I){n.cancelPendingCommit=null;do Pc();while(Bt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Hf,Vo(n,a,d,E,T,I),n===tt&&(Me=tt=null,je=0),Ha=r,Dr=n,Fa=a,$d=d,Yd=f,q_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ob(us,function(){return iv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=le.p,le.p=2,E=Qe,Qe|=4;try{Xw(n,r,a)}finally{Qe=E,le.p=f,J.T=l}}Bt=1,Z_(),ev(),tv()}}function Z_(){if(Bt===1){Bt=0;var n=Dr,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{V_(r,n);var d=hm,E=Bg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&zg(T.ownerDocument.documentElement,T)){if(I!==null&&Uf(T)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var G=F.getSelection(),Se=T.textContent.length,ve=Math.min(I.start,Se),Je=I.end===void 0?ve:Math.min(I.end,Se);!G.extend&&ve>Je&&(E=Je,Je=ve,ve=E);var j=jg(T,ve),k=jg(T,Je);if(j&&k&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var q=te.createRange();q.setStart(j.node,j.offset),G.removeAllRanges(),ve>Je?(G.addRange(q),G.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),G.addRange(q))}}}}for(te=[],G=T;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var ee=te[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Kc=!!cm,hm=cm=null}finally{Qe=f,le.p=l,J.T=a}}n.current=r,Bt=2}}function ev(){if(Bt===2){Bt=0;var n=Dr,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{N_(n,r.alternate,r)}finally{Qe=f,le.p=l,J.T=a}}Bt=3}}function tv(){if(Bt===4||Bt===3){Bt=0,Ou();var n=Dr,r=Ha,a=Fa,l=q_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,Ha=Dr=null,nv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Or=null),ua(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,f=le.p,le.p=2,J.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{J.T=r,le.p=f}}(Fa&3)!==0&&Pc(),fi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Xd?wl++:(wl=0,Xd=n):wl=0,bl(0)}}function nv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,rl(r)))}function Pc(n){return Z_(),ev(),tv(),iv()}function iv(){if(Bt!==5)return!1;var n=Dr,r=$d;$d=0;var a=ua(Fa),l=J.T,f=le.p;try{le.p=32>a?32:a,J.T=null,a=Yd,Yd=null;var d=Dr,E=Fa;if(Bt=0,Ha=Dr=null,Fa=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,z_(d.current),L_(d,d.current,E,a),Qe=T,bl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=f,J.T=l,nv(n,r)}}function rv(n,r,a){r=Dn(a,r),r=Id(n.stateNode,r,2),n=Er(n,r,2),n!==null&&(Ri(n,2),fi(n))}function Ze(n,r,a){if(n.tag===3)rv(n,n,a);else for(;r!==null;){if(r.tag===3){rv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){n=Dn(a,n),a=l_(2),l=Er(r,a,2),l!==null&&(u_(a,l,r,n),Ri(l,2),fi(l));break}}r=r.return}}function em(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Zw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Fd=!0,f.add(a),n=rb.bind(null,n,r,a),r.then(n,n))}function rb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>wn()-Qd?(Qe&2)===0&&Ga(n,0):Gd|=a,qa===je&&(qa=0)),fi(n)}function sv(n,r){r===0&&(r=Po()),n=Ca(n,r),n!==null&&(Ri(n,r),fi(n))}function sb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),sv(n,a)}function ab(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),sv(n,a)}function ob(n,r){return os(n,r)}var Vc=null,Qa=null,tm=!1,kc=!1,nm=!1,qs=0;function fi(n){n!==Qa&&n.next===null&&(Qa===null?Vc=Qa=n:Qa=Qa.next=n),kc=!0,tm||(tm=!0,ub())}function bl(n,r){if(!nm&&kc){nm=!0;do for(var a=!1,l=Vc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,uv(l,d))}else d=je,d=la(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,uv(l,d));l=l.next}while(a);nm=!1}}function lb(){av()}function av(){kc=tm=!1;var n=0;qs!==0&&(yb()&&(n=qs),qs=0);for(var r=wn(),a=null,l=Vc;l!==null;){var f=l.next,d=ov(l,r);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(Qa=a)):(a=l,(n!==0||(d&3)!==0)&&(kc=!0)),l=f}bl(n)}function ov(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Qt(d),T=1<<E,I=f[E];I===-1?((T&a)===0||(T&l)!==0)&&(f[E]=xo(T,r)):I<=r&&(n.expiredLanes|=T),d&=~T}if(r=tt,a=je,a=la(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&($e===2||$e===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ls(l),ua(a)){case 2:case 8:a=aa;break;case 32:a=us;break;case 268435456:a=oa;break;default:a=us}return l=lv.bind(null,n),a=os(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ls(l),n.callbackPriority=2,n.callbackNode=null,2}function lv(n,r){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Pc()&&n.callbackNode!==a)return null;var l=je;return l=la(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(F_(n,l,r),ov(n,wn()),n.callbackNode!=null&&n.callbackNode===a?lv.bind(null,n):null)}function uv(n,r){if(Pc())return null;F_(n,r,!0)}function ub(){vb(function(){(Qe&6)!==0?os(Do,lb):av()})}function im(){return qs===0&&(qs=Mo()),qs}function cv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pa(""+n)}function hv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function cb(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=cv((f[yt]||null).action),E=l.submitter;E&&(r=(r=E[yt]||null)?cv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ga("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var I=E?hv(f,E):new FormData(f);Sd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=E?hv(f,E):new FormData(f),Sd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var rm=0;rm<qf.length;rm++){var sm=qf[rm],hb=sm.toLowerCase(),fb=sm[0].toUpperCase()+sm.slice(1);qn(hb,"on"+fb)}qn(Fg,"onAnimationEnd"),qn(Gg,"onAnimationIteration"),qn(Kg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(Ow,"onTransitionRun"),qn(Dw,"onTransitionStart"),qn(Nw,"onTransitionCancel"),qn(Qg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function fv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(T=l[E],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(Z){Sc(Z)}f.currentTarget=null,d=I}}}}function Pe(n,r){var a=r[Lo];a===void 0&&(a=r[Lo]=new Set);var l=n+"__bubble";a.has(l)||(dv(r,n,2,!1),a.add(l))}function am(n,r,a){var l=0;r&&(l|=4),dv(a,n,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[Lc]){n[Lc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(db.has(a)||am(a,!1,n),am(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,am("selectionchange",!1,r))}}function dv(n,r,a,l){switch(Lv(r)){case 2:var f=zb;break;case 8:f=Bb;break;default:f=Tm}a=f.bind(null,r,a,n),f=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function lm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ci(T),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}T=T.parentNode}}l=l.return}ju(function(){var H=d,Z=Cn(a),te=[];e:{var F=$g.get(n);if(F!==void 0){var G=ga,Se=n;switch(n){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":G=Aa;break;case"focusin":Se="focus",G=va;break;case"focusout":Se="blur",G=va;break;case"beforeblur":case"afterblur":G=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Qu;break;case Fg:case Gg:case Kg:G=Ea;break;case Qg:G=Yu;break;case"scroll":case"scrollend":G=zu;break;case"wheel":G=Sa;break;case"copy":case"cut":case"paste":G=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xo;break;case"toggle":case"beforetoggle":G=Wu}var ve=(r&4)!==0,Je=!ve&&(n==="scroll"||n==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var k=H,q;k!==null;){var ee=k;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||j===null||(ee=Ts(k,j),ee!=null&&ve.push(Cl(k,ee,q))),Je)break;k=k.return}0<ve.length&&(F=new G(F,Se,null,a,Z),te.push({event:F,listeners:ve}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&a!==Ni&&(Se=a.relatedTarget||a.fromElement)&&(Ci(Se)||Se[bn]))break e;if((G||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Se=a.relatedTarget||a.toElement,G=H,Se=Se?Ci(Se):null,Se!==null&&(Je=u(Se),ve=Se.tag,Se!==Je||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(G=null,Se=H),G!==Se)){if(ve=On,ee="onMouseLeave",j="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Xo,ee="onPointerLeave",j="onPointerEnter",k="pointer"),Je=G==null?F:Zn(G),q=Se==null?F:Zn(Se),F=new ve(ee,k+"leave",G,a,Z),F.target=Je,F.relatedTarget=q,ee=null,Ci(Z)===H&&(ve=new ve(j,k+"enter",Se,a,Z),ve.target=q,ve.relatedTarget=Je,ee=ve),Je=ee,G&&Se)t:{for(ve=G,j=Se,k=0,q=ve;q;q=$a(q))k++;for(q=0,ee=j;ee;ee=$a(ee))q++;for(;0<k-q;)ve=$a(ve),k--;for(;0<q-k;)j=$a(j),q--;for(;k--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=$a(ve),j=$a(j)}ve=null}else ve=null;G!==null&&mv(te,F,G,ve,!1),Se!==null&&Je!==null&&mv(te,Je,Se,ve,!0)}}e:{if(F=H?Zn(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var de=Mg;else if(Ct(F))if(Pg)de=Rw;else{de=ww;var xe=Sw}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Ho(H.elementType)&&(de=Mg):de=bw;if(de&&(de=de(n,H))){ki(te,de,a,Z);break e}xe&&xe(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&pr(F,"number",F.value)}switch(xe=H?Zn(H):window,n){case"focusin":(Ct(xe)||xe.contentEditable==="true")&&(wa=xe,jf=H,Zo=null);break;case"focusout":Zo=jf=wa=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,qg(te,a,Z);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":qg(te,a,Z)}var me;if(ai)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?$(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(me=Go()):(ni=Z,gr="value"in ni?ni.value:ni.textContent,Le=!0)),xe=Uc(H,Ee),0<xe.length&&(Ee=new $o(Ee,n,null,a,Z),te.push({event:Ee,listeners:xe}),me?Ee.data=me:(me=ae(a),me!==null&&(Ee.data=me)))),(me=y?Rt(n,a):Ue(n,a))&&(Ee=Uc(H,"onBeforeInput"),0<Ee.length&&(xe=new $o("onBeforeInput","beforeinput",null,a,Z),te.push({event:xe,listeners:Ee}),xe.data=me)),cb(te,n,H,a,Z)}fv(te,r)})}function Cl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Uc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ts(n,a),f!=null&&l.unshift(Cl(n,f,d)),f=Ts(n,r),f!=null&&l.push(Cl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function mv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,f?(H=Ts(a,d),H!=null&&E.unshift(Cl(a,H,I))):f||(H=Ts(a,d),H!=null&&E.push(Cl(a,H,I)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function pv(n){return(typeof n=="string"?n:""+n).replace(mb,`
`).replace(pb,"")}function gv(n,r){return r=pv(r),pv(n)===r}function jc(){}function We(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(n,""+l);break;case"className":ei(n,"class",l);break;case"tabIndex":ei(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(n,a,l);break;case"style":qo(n,l,d);break;case"data":if(r!=="object"){ei(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=pa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=jc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=pa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),mr(n,"popover",l);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xf.get(a)||a,mr(n,a,l))}}function um(n,r,a,l,f,d){switch(a){case"style":qo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Rn(n,l):(typeof l=="number"||typeof l=="bigint")&&Rn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):mr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,E,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var T=d=E=f=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":E=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:We(n,r,l,Z,a,null)}}_s(n,d,T,I,H,E,f,!1),ma(n);return;case"select":Pe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Di(n,!!l,r,!1):a!=null&&Di(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,E,T,a,null)}vs(n,l,f,d),ma(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,I,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Pe(Rl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,H,l,a,null)}return;default:if(Ho(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&um(n,r,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,r,T,l,a,null))}function gb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,I=null,H=null,Z=null;for(G in a){var te=a[G];if(a.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=te;default:l.hasOwnProperty(G)||We(n,r,G,null,l,te)}}for(var F in l){var G=l[F];if(te=a[F],l.hasOwnProperty(F)&&(G!=null||te!=null))switch(F){case"type":d=G;break;case"name":f=G;break;case"checked":H=G;break;case"defaultChecked":Z=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==te&&We(n,r,F,G,l,te)}}pn(n,E,T,I,H,Z,d,f);return;case"select":G=E=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||We(n,r,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==I&&We(n,r,f,d,l,I)}r=T,a=E,l=G,F!=null?Di(n,!!a,F,!1):!!l!=!!a&&(r!=null?Di(n,!!a,r,!0):Di(n,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,r,E,f,l,d)}Ye(n,F,G);return;case"option":for(var Se in a)if(F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:We(n,r,Se,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(n,r,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&We(n,r,ve,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(n,r,H,F,l,G)}return;default:if(Ho(r)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&um(n,r,Je,void 0,l,F);for(Z in l)F=l[Z],G=a[Z],!l.hasOwnProperty(Z)||F===G||F===void 0&&G===void 0||um(n,r,Z,F,l,G);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&We(n,r,j,null,l,F);for(te in l)F=l[te],G=a[te],!l.hasOwnProperty(te)||F===G||F==null&&G==null||We(n,r,te,F,l,G)}var cm=null,hm=null;function zc(n){return n.nodeType===9?n:n.ownerDocument}function yv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function fm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dm=null;function yb(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var vv=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(n){return Ev.resolve(null).then(n).catch(Eb)}:vv;function Eb(n){setTimeout(function(){throw n})}function xr(n){return n==="head"}function Tv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Il(E.documentElement),a&2&&Il(E.body),a&4)for(a=E.head,Il(a),E=a.firstChild;E;){var T=E.nextSibling,I=E.nodeName;E[ms]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),kl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function mm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Tb(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function Ab(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Sb(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var gm=null;function Av(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Sv(n,r,a){switch(r=zc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Il(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dr(n)}var kn=new Map,wv=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Yi=le.d;le.d={f:wb,r:bb,D:Rb,C:Cb,L:Ib,m:Ob,X:Nb,S:Db,M:xb};function wb(){var n=Yi.f(),r=xc();return n||r}function bb(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?Fy(r):Yi.r(n)}var Ya=typeof document>"u"?null:document;function bv(n,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var f=_t(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wv.has(f)||(wv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function Rb(n){Yi.D(n),bv("dns-prefetch",n,null)}function Cb(n,r){Yi.C(n,r),bv("preconnect",n,r)}function Ib(n,r,a){Yi.L(n,r,a);var l=Ya;if(l&&n&&r){var f='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(r){case"style":d=Xa(n);break;case"script":d=Wa(n)}kn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),kn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ol(d))||r==="script"&&l.querySelector(Dl(d))||(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function Ob(n,r){Yi.m(n,r);var a=Ya;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(n)}if(!kn.has(d)&&(n=_({rel:"modulepreload",href:n},r),kn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),qt(l,"link",n),dt(l),a.head.appendChild(l)}}}function Db(n,r,a){Yi.S(n,r,a);var l=Ya;if(l&&n){var f=tn(l).hoistableStyles,d=Xa(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ol(d)))T.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=kn.get(d))&&ym(n,a);var I=E=l.createElement("link");dt(I),qt(I,"link",n),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function Nb(n,r){Yi.X(n,r);var a=Ya;if(a&&n){var l=tn(a).hoistableScripts,f=Wa(n),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(n=_({src:n,async:!0},r),(r=kn.get(f))&&_m(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function xb(n,r){Yi.M(n,r);var a=Ya;if(a&&n){var l=tn(a).hoistableScripts,f=Wa(n),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=kn.get(f))&&_m(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Rv(n,r,a,l){var f=(f=we.current)?Bc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=tn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Xa(a.href);var d=tn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Ol(n)))&&!d._p&&(E.instance=d,E.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),d||Mb(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=tn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Xa(n){return'href="'+_t(n)+'"'}function Ol(n){return'link[rel="stylesheet"]['+n+"]"}function Cv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Mb(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),n.head.appendChild(r))}function Wa(n){return'[src="'+_t(n)+'"]'}function Dl(n){return"script[async]"+n}function Iv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),qt(l,"style",f),qc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Xa(a.href);var d=n.querySelector(Ol(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=Cv(a),(f=kn.get(f))&&ym(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,n),r.instance=d;case"script":return d=Wa(a.src),(f=n.querySelector(Dl(d)))?(r.instance=f,dt(f),f):(l=a,(f=kn.get(d))&&(l=_({},a),_m(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,n));return r.instance}function qc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function ym(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function _m(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Hc=null;function Ov(n,r,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ms]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function Dv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Pb(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Nv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Nl=null;function Vb(){}function kb(n,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Xa(a.href),d=n.querySelector(Ol(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Fc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=Cv(a),(f=kn.get(f))&&ym(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(T,I){E.onload=T,E.onerror=I}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Fc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Lb(){if(Nl===null)throw Error(s(475));var n=Nl;return n.stylesheets&&n.count===0&&vm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&vm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gc=null;function vm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gc=new Map,r.forEach(Ub,n),Gc=null,Fc.call(n))}function Ub(n,r){if(!(r.state.loading&4)){var a=Gc.get(n);if(a)var l=a.get(null);else{a=new Map,Gc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var xl={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function jb(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(n,r,a,l,f,d,E,T,I,H,Z,te){return n=new jb(n,r,a,E,T,I,H,te),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),n.current=d,d.stateNode=n,r=ed(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},rd(d),n}function Mv(n){return n?(n=Ia,n):Ia}function Pv(n,r,a,l,f,d){f=Mv(f),l.context===null?l.context=f:l.pendingContext=f,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(n,l,r),a!==null&&(An(a,n,r),ll(a,n,r))}function Vv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Em(n,r){Vv(n,r),(n=n.alternate)&&Vv(n,r)}function kv(n){if(n.tag===13){var r=Ca(n,67108864);r!==null&&An(r,n,67108864),Em(n,67108864)}}var Kc=!0;function zb(n,r,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=2,Tm(n,r,a,l)}finally{le.p=d,J.T=f}}function Bb(n,r,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=8,Tm(n,r,a,l)}finally{le.p=d,J.T=f}}function Tm(n,r,a,l){if(Kc){var f=Am(l);if(f===null)lm(n,r,l,Qc,a),Uv(n,l);else if(Hb(f,n,r,a,l))l.stopPropagation();else if(Uv(n,l),r&4&&-1<qb.indexOf(n)){for(;f!==null;){var d=Jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var I=1<<31-Qt(E);T.entanglements[1]|=I,E&=~I}fi(d),(Qe&6)===0&&(Dc=wn()+500,bl(0))}}break;case 13:T=Ca(d,2),T!==null&&An(T,d,2),xc(),Em(d,2)}if(d=Am(l),d===null&&lm(n,r,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else lm(n,r,l,null,a)}}function Am(n){return n=Cn(n),Sm(n)}var Qc=null;function Sm(n){if(Qc=null,n=Ci(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qc=n,null}function Lv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rf()){case Do:return 2;case aa:return 8;case us:case Cf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var wm=!1,Mr=null,Pr=null,Vr=null,Ml=new Map,Pl=new Map,kr=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(n,r){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Vl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Jn(r),r!==null&&kv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Hb(n,r,a,l,f){switch(r){case"focusin":return Mr=Vl(Mr,n,r,a,l,f),!0;case"dragenter":return Pr=Vl(Pr,n,r,a,l,f),!0;case"mouseover":return Vr=Vl(Vr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ml.set(d,Vl(Ml.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,Vl(Pl.get(d)||null,n,r,a,l,f)),!0}return!1}function jv(n){var r=Ci(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,xu(n.priority,function(){if(a.tag===13){var l=Tn();l=cr(l);var f=Ca(a,l);f!==null&&An(f,a,l),Em(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Am(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Ni=l,a.target.dispatchEvent(l),Ni=null}else return r=Jn(a),r!==null&&kv(r),n.blockedOn=a,!1;r.shift()}return!0}function zv(n,r,a){$c(n)&&a.delete(r)}function Fb(){wm=!1,Mr!==null&&$c(Mr)&&(Mr=null),Pr!==null&&$c(Pr)&&(Pr=null),Vr!==null&&$c(Vr)&&(Vr=null),Ml.forEach(zv),Pl.forEach(zv)}function Yc(n,r){n.blockedOn===r&&(n.blockedOn=null,wm||(wm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Fb)))}var Xc=null;function Bv(n){Xc!==n&&(Xc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xc===n&&(Xc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(n.splice(r,3),r-=3,Sd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function kl(n){function r(I){return Yc(I,n)}Mr!==null&&Yc(Mr,n),Pr!==null&&Yc(Pr,n),Vr!==null&&Yc(Vr,n),Ml.forEach(r),Pl.forEach(r);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[yt]||null;if(typeof d=="function")E||Bv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[yt]||null)T=E.formAction;else if(Sm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Bv(a)}}}function bm(n){this._internalRoot=n}Wc.prototype.render=bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();Pv(a,l,n,r,null,null)},Wc.prototype.unmount=bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Pv(n.current,2,null,n,null,null),xc(),r[bn]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var r=hr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,n),a===0&&jv(n)}};var qv=e.version;if(qv!=="19.1.0")throw Error(s(527,qv,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Gb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ct=Jc.inject(Gb),Ke=Jc}catch{}}return Ul.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=r_,d=s_,E=a_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=xv(n,1,!1,null,null,a,l,f,d,E,T,null),n[bn]=r.current,om(n),new bm(r)},Ul.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=r_,E=s_,T=a_,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=xv(n,1,!0,r,a??null,l,f,d,E,T,I,H),r.context=Mv(null),a=r.current,l=Tn(),l=cr(l),f=vr(l),f.callback=null,Er(a,f,l),a=l,r.current.lanes=a,Ri(r,a),fi(r),n[bn]=r.current,om(n),new Wc(r)},Ul.version="19.1.0",Ul}var Jv;function tR(){if(Jv)return Im.exports;Jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=eR(),Im.exports}var nR=tR(),jl={},Zv;function iR(){if(Zv)return jl;Zv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=h,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,N){const b=new u,U=S.length;if(U<2)return b;const D=(N==null?void 0:N.decode)||_;let Q=0;do{const W=S.indexOf("=",Q);if(W===-1)break;const X=S.indexOf(";",Q),ce=X===-1?U:X;if(W>ce){Q=S.lastIndexOf(";",W-1)+1;continue}const oe=m(S,Q,W),ye=p(S,W,oe),x=S.slice(oe,ye);if(b[x]===void 0){let R=m(S,W+1,ce),C=p(S,ce,R);const P=D(S.slice(R,C));b[x]=P}Q=ce+1}while(Q<U);return b}function m(S,N,b){do{const U=S.charCodeAt(N);if(U!==32&&U!==9)return N}while(++N<b);return b}function p(S,N,b){for(;N>b;){const U=S.charCodeAt(--N);if(U!==32&&U!==9)return N+1}return b}function g(S,N,b){const U=(b==null?void 0:b.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const D=U(N);if(!e.test(D))throw new TypeError(`argument val is invalid: ${N}`);let Q=S+"="+D;if(!b)return Q;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);Q+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);Q+="; Domain="+b.domain}if(b.path){if(!s.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);Q+="; Path="+b.path}if(b.expires){if(!A(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);Q+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(Q+="; HttpOnly"),b.secure&&(Q+="; Secure"),b.partitioned&&(Q+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return Q}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return jl}iR();var eE="popstate";function rR(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return $m("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:tu(o)}return aR(e,t,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ei(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sR(){return Math.random().toString(36).substring(2,10)}function tE(i,e){return{usr:i.state,key:i.key,idx:e}}function $m(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:t,key:e&&e.key||s||sR()}}function tu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function _o(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function aR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function A(){m="POP";let D=_(),Q=D==null?null:D-g;g=D,p&&p({action:m,location:U.location,delta:Q})}function S(D,Q){m="PUSH";let W=$m(U.location,D,Q);g=_()+1;let X=tE(W,g),ce=U.createHref(W);try{h.pushState(X,"",ce)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ce)}u&&p&&p({action:m,location:U.location,delta:1})}function N(D,Q){m="REPLACE";let W=$m(U.location,D,Q);g=_();let X=tE(W,g),ce=U.createHref(W);h.replaceState(X,"",ce),u&&p&&p({action:m,location:U.location,delta:0})}function b(D){return oR(D)}let U={get action(){return m},get location(){return i(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,A),p=D,()=>{o.removeEventListener(eE,A),p=null}},createHref(D){return e(o,D)},createURL:b,encodeLocation(D){let Q=b(D);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:N,go(D){return h.go(D)}};return U}function oR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:tu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function WT(i,e,t="/"){return lR(i,e,t,!1)}function lR(i,e,t,s){let o=typeof e=="string"?_o(e):e,u=nr(o.pathname||"/",t);if(u==null)return null;let h=JT(i);uR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=ER(u);m=_R(h[p],g,s)}return m}function JT(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JT(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:gR(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of ZT(u.path))o(u,h,p)}),e}function ZT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=ZT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function uR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:yR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var cR=/^:[\w-]+$/,hR=3,fR=2,dR=1,mR=10,pR=-2,nE=i=>i==="*";function gR(i,e){let t=i.split("/"),s=t.length;return t.some(nE)&&(s+=pR),e&&(s+=fR),t.filter(o=>!nE(o)).reduce((o,u)=>o+(cR.test(u)?hR:u===""?dR:mR),s)}function yR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function _R(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:Zi([u,A.pathname]),pathnameBase:wR(Zi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Zi([u,A.pathnameBase]))}return h}function Th(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=vR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:A},S)=>{if(_==="*"){let b=m[S]||"";h=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const N=m[S];return A&&!N?g[_]=void 0:g[_]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function vR(i,e=!1,t=!0){Ei(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ER(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function nr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function TR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?_o(i):i;return{pathname:t?t.startsWith("/")?t:AR(t,e):e,search:bR(s),hash:RR(o)}}function AR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e0(i){let e=SR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function t0(i,e,t,s=!1){let o;typeof i=="string"?o=_o(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=TR(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),wR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),bR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,RR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function CR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var n0=["POST","PUT","PATCH","DELETE"];new Set(n0);var IR=["GET",...n0];new Set(IR);var vo=K.createContext(null);vo.displayName="DataRouter";var Hh=K.createContext(null);Hh.displayName="DataRouterState";var i0=K.createContext({isTransitioning:!1});i0.displayName="ViewTransition";var OR=K.createContext(new Map);OR.displayName="Fetchers";var DR=K.createContext(null);DR.displayName="Await";var Ai=K.createContext(null);Ai.displayName="Navigation";var hu=K.createContext(null);hu.displayName="Location";var Si=K.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Dp=K.createContext(null);Dp.displayName="RouteError";function NR(i,{relative:e}={}){ot(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Ai),{hash:o,pathname:u,search:h}=du(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Zi([t,u])),s.createHref({pathname:m,search:h,hash:o})}function fu(){return K.useContext(hu)!=null}function Zs(){return ot(fu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(hu).location}var r0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s0(i){K.useContext(Ai).static||K.useLayoutEffect(i)}function a0(){let{isDataRoute:i}=K.useContext(Si);return i?GR():xR()}function xR(){ot(fu(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(vo),{basename:e,navigator:t}=K.useContext(Ai),{matches:s}=K.useContext(Si),{pathname:o}=Zs(),u=JSON.stringify(e0(s)),h=K.useRef(!1);return s0(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(Ei(h.current,r0),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=t0(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}K.createContext(null);function MR(){let{matches:i}=K.useContext(Si),e=i[i.length-1];return e?e.params:{}}function du(i,{relative:e}={}){let{matches:t}=K.useContext(Si),{pathname:s}=Zs(),o=JSON.stringify(e0(t));return K.useMemo(()=>t0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function PR(i,e){return o0(i,e)}function o0(i,e,t,s){var W;ot(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Ai),{matches:h}=K.useContext(Si),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",A=m&&m.route;{let X=A&&A.path||"";l0(g,!A||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=Zs(),N;if(e){let X=typeof e=="string"?_o(e):e;ot(_==="/"||((W=X.pathname)==null?void 0:W.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=S;let b=N.pathname||"/",U=b;if(_!=="/"){let X=_.replace(/^\//,"").split("/");U="/"+b.replace(/^\//,"").split("/").slice(X.length).join("/")}let D=!u&&t&&t.matches&&t.matches.length>0?t.matches:WT(i,{pathname:U});Ei(A||D!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ei(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=jR(D&&D.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Zi([_,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:Zi([_,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&Q?K.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Q):Q}function VR(){let i=FR(),e=CR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,h)}var kR=K.createElement(VR,null),LR=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(Si.Provider,{value:this.props.routeContext},K.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UR({routeContext:i,match:e,children:t}){let s=K.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Si.Provider,{value:i},t)}function jR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:A}=t,S=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let A,S=!1,N=null,b=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||kR,h&&(m<0&&_===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,b=null):m===_&&(S=!0,b=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,_+1)),D=()=>{let Q;return A?Q=N:S?Q=b:g.route.Component?Q=K.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,K.createElement(UR,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?K.createElement(LR,{location:t.location,revalidation:t.revalidation,component:N,error:A,children:D(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):D()},null)}function Np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zR(i){let e=K.useContext(vo);return ot(e,Np(i)),e}function BR(i){let e=K.useContext(Hh);return ot(e,Np(i)),e}function qR(i){let e=K.useContext(Si);return ot(e,Np(i)),e}function xp(i){let e=qR(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function HR(){return xp("useRouteId")}function FR(){var s;let i=K.useContext(Dp),e=BR("useRouteError"),t=xp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function GR(){let{router:i}=zR("useNavigate"),e=xp("useNavigate"),t=K.useRef(!1);return s0(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{Ei(t.current,r0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var iE={};function l0(i,e,t){!e&&!iE[i]&&(iE[i]=!0,Ei(!1,t))}K.memo(KR);function KR({routes:i,future:e,state:t}){return o0(i,void 0,t,e)}function Xi(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ot(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=_o(t));let{pathname:p="/",search:g="",hash:_="",state:A=null,key:S="default"}=t,N=K.useMemo(()=>{let b=nr(p,h);return b==null?null:{location:{pathname:b,search:g,hash:_,state:A,key:S},navigationType:s}},[h,p,g,_,A,S,s]);return Ei(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:K.createElement(Ai.Provider,{value:m},K.createElement(hu.Provider,{children:e,value:N}))}function rE({children:i,location:e}){return PR(Ym(i),e)}function Ym(i,e=[]){let t=[];return K.Children.forEach(i,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,Ym(s.props.children,u));return}ot(s.type===Xi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),t.push(h)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Fh(i){return i!=null&&typeof i.tagName=="string"}function $R(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function YR(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function XR(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function WR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function JR(i,e){return i.button===0&&(!e||e==="_self")&&!WR(i)}var Zc=null;function ZR(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var e1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(i){return i!=null&&!e1.has(i)?(Ei(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function t1(i,e){let t,s,o,u,h;if(YR(i)){let m=i.getAttribute("action");s=m?nr(m,e):null,t=i.getAttribute("method")||ah,o=Mm(i.getAttribute("enctype"))||oh,u=new FormData(i)}else if($R(i)||XR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||ah,o=Mm(i.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||oh,u=new FormData(m,i),!ZR()){let{name:g,type:_,value:A}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,o=oh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Mp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function n1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function r1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await n1(u,t);return h.links?h.links():[]}return[]}));return l1(s.flat(1).filter(i1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function sE(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function s1(i,e,{includeHydrateFallback:t}={}){return a1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function a1(i){return[...new Set(i)]}function o1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function l1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(o1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u1=new Set([100,101,204,205]);function c1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&nr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function u0(){let i=K.useContext(vo);return Mp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function h1(){let i=K.useContext(Hh);return Mp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pp=K.createContext(void 0);Pp.displayName="FrameworkContext";function c0(){let i=K.useContext(Pp);return Mp(i,"You must render this element inside a <HydratedRouter> element"),i}function f1(i,e){let t=K.useContext(Pp),[s,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:A}=e,S=K.useRef(null);K.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=Q=>{Q.forEach(W=>{h(W.isIntersecting)})},D=new IntersectionObserver(U,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[i]),K.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let N=()=>{o(!0)},b=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,S,{}]:[u,S,{onFocus:zl(m,N),onBlur:zl(p,b),onMouseEnter:zl(g,N),onMouseLeave:zl(_,b),onTouchStart:zl(A,N)}]:[!1,S,{}]}function zl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function d1({page:i,...e}){let{router:t}=u0(),s=K.useMemo(()=>WT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?K.createElement(p1,{page:i,matches:s,...e}):null}function m1(i){let{manifest:e,routeModules:t}=c0(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return r1(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function p1({page:i,matches:e,...t}){let s=Zs(),{manifest:o,routeModules:u}=c0(),{basename:h}=u0(),{loaderData:m,matches:p}=h1(),g=K.useMemo(()=>sE(i,e,p,o,s,"data"),[i,e,p,o,s]),_=K.useMemo(()=>sE(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let b=new Set,U=!1;if(e.forEach(Q=>{var X;let W=o.routes[Q.route.id];!W||!W.hasLoader||(!g.some(ce=>ce.route.id===Q.route.id)&&Q.route.id in m&&((X=u[Q.route.id])!=null&&X.shouldRevalidate)||W.hasClientLoader?U=!0:b.add(Q.route.id))}),b.size===0)return[];let D=c1(i,h);return U&&b.size>0&&D.searchParams.set("_routes",e.filter(Q=>b.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[D.pathname+D.search]},[h,m,s,o,g,e,i,u]),S=K.useMemo(()=>s1(_,o),[_,o]),N=m1(_);return K.createElement(K.Fragment,null,A.map(b=>K.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),S.map(b=>K.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),N.map(({key:b,link:U})=>K.createElement("link",{key:b,...U})))}function g1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.6.0")}catch{}function y1({basename:i,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=rR({window:t,v5Compat:!0}));let o=s.current,[u,h]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>h(p))},[h]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(QR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:A,...S},N){let{basename:b}=K.useContext(Ai),U=typeof g=="string"&&f0.test(g),D,Q=!1;if(typeof g=="string"&&U&&(D=g,h0))try{let C=new URL(window.location.href),P=g.startsWith("//")?new URL(C.protocol+g):new URL(g),L=nr(P.pathname,b);P.origin===C.origin&&L!=null?g=L+P.search+P.hash:Q=!0}catch{Ei(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=NR(g,{relative:o}),[X,ce,oe]=f1(s,S),ye=T1(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:A});function x(C){e&&e(C),C.defaultPrevented||ye(C)}let R=K.createElement("a",{...S,...oe,href:D||W,onClick:Q||u?e:x,ref:g1(N,ce),target:p,"data-discover":!U&&t==="render"?"true":void 0});return X&&!U?K.createElement(K.Fragment,null,R,K.createElement(d1,{page:W})):R});pi.displayName="Link";var _1=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let A=du(h,{relative:g.relative}),S=Zs(),N=K.useContext(Hh),{navigator:b,basename:U}=K.useContext(Ai),D=N!=null&&R1(A)&&m===!0,Q=b.encodeLocation?b.encodeLocation(A).pathname:A.pathname,W=S.pathname,X=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(W=W.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&U&&(X=nr(X,U)||X);const ce=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let oe=W===Q||!o&&W.startsWith(Q)&&W.charAt(ce)==="/",ye=X!=null&&(X===Q||!o&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),x={isActive:oe,isPending:ye,isTransitioning:D},R=oe?e:void 0,C;typeof s=="function"?C=s(x):C=[s,oe?"active":null,ye?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(x):u;return K.createElement(pi,{...g,"aria-current":R,className:C,ref:_,style:P,to:h,viewTransition:m},typeof p=="function"?p(x):p)});_1.displayName="NavLink";var v1=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ah,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:A,...S},N)=>{let b=w1(),U=b1(m,{relative:g}),D=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&f0.test(m),W=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ce=X.nativeEvent.submitter,oe=(ce==null?void 0:ce.getAttribute("formmethod"))||h;b(ce||X.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:A})};return K.createElement("form",{ref:N,method:D,action:U,onSubmit:s?p:W,...S,"data-discover":!Q&&i==="render"?"true":void 0})});v1.displayName="Form";function E1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(i){let e=K.useContext(vo);return ot(e,E1(i)),e}function T1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=a0(),p=Zs(),g=du(i,{relative:u});return K.useCallback(_=>{if(JR(_,e)){_.preventDefault();let A=t!==void 0?t:tu(p)===tu(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var A1=0,S1=()=>`__${String(++A1)}__`;function w1(){let{router:i}=d0("useSubmit"),{basename:e}=K.useContext(Ai),t=HR();return K.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=t1(s,e);if(o.navigate===!1){let _=o.fetcherKey||S1();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function b1(i,{relative:e}={}){let{basename:t}=K.useContext(Ai),s=K.useContext(Si);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(i||".",{relative:e})},h=Zs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Zi([t,u.pathname])),tu(u)}function R1(i,e={}){let t=K.useContext(i0);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=d0("useViewTransitionState"),o=du(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=nr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=nr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Th(o.pathname,h)!=null||Th(o.pathname,u)!=null}[...u1];const C1=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},I1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,N=g&63;p||(N=64,h||(S=64)),s.push(t[_],t[A],t[S],t[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(m0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):I1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new O1;const S=u<<2|m>>4;if(s.push(S),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const b=g<<6&192|A;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D1=function(i){const e=m0(i);return p0.encodeByteArray(e,!0)},Ah=function(i){return D1(i).replace(/\./g,"")},g0=function(i){try{return p0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>N1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof aE>"u")return;const i=aE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},P1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&g0(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return C1()||x1()||M1()||P1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},y0=i=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},V1=i=>{const e=y0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},_0=()=>{var i;return(i=Gh())===null||i===void 0?void 0:i.config},v0=i=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){return i.endsWith(".cloudworkstations.dev")}async function E0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}const $l={};function U1(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function j1(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let oE=!1;function Kh(i,e){if(typeof window>"u"||typeof document>"u"||!mu(window.location.host)||$l[i]===e||$l[i]||oE)return;$l[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=U1().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{oE=!0,h()},S}function _(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=j1(s),N=t("text"),b=document.getElementById(N)||document.createElement("span"),U=t("learnmore"),D=document.getElementById(U)||document.createElement("a"),Q=t("preprendIcon"),W=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;m(X),_(D,U);const ce=g();p(W,Q),X.append(W,b,D,ce),document.body.appendChild(X)}u?(b.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function B1(){var i;const e=(i=Gh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G1(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function K1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q1(){try{return typeof indexedDB=="object"}catch{return!1}}function $1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Y1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?X1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new lr(o,m,s)}}function X1(i,e){return i.replace(W1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const W1=/\{\$([^}]+)}/g;function J1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ir(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(lE(u)&&lE(h)){if(!ir(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function lE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function Z1(i,e){const t=new eC(i,e);return t.subscribe.bind(t)}class eC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");tC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Pm),o.error===void 0&&(o.error=Pm),o.complete===void 0&&(o.complete=Pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(i){return i&&i._delegate?i._delegate:i}class Qs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new k1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rC(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iC(i){return i===Hs?void 0:i}function rC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const aC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},oC=Ve.INFO,lC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},uC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=lC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=oC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const cC=(i,e)=>e.some(t=>i instanceof t);let uE,cE;function hC(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Xm=new WeakMap,A0=new WeakMap,Vm=new WeakMap,kp=new WeakMap;function dC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Fr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&T0.set(t,i)}).catch(()=>{}),kp.set(e,i),e}function mC(i){if(Xm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||A0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function pC(i){Wm=i(Wm)}function gC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(km(this),e,...t);return A0.set(s,e.sort?e.sort():[e]),Fr(s)}:fC().includes(i)?function(...e){return i.apply(km(this),e),Fr(T0.get(this))}:function(...e){return Fr(i.apply(km(this),e))}}function yC(i){return typeof i=="function"?gC(i):(i instanceof IDBTransaction&&mC(i),cC(i,hC())?new Proxy(i,Wm):i)}function Fr(i){if(i instanceof IDBRequest)return dC(i);if(Vm.has(i))return Vm.get(i);const e=yC(i);return e!==i&&(Vm.set(i,e),kp.set(e,i)),e}const km=i=>kp.get(i);function _C(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Fr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Fr(h.result),p.oldVersion,p.newVersion,Fr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vC=["get","getKey","getAll","getAllKeys","count"],EC=["put","add","delete","clear"],Lm=new Map;function hE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=EC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vC.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Lm.set(e,u),u}pC(i=>({...i,get:(e,t,s)=>hE(e,t)||i.get(e,t,s),has:(e,t)=>!!hE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function AC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jm="@firebase/app",fE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Vp("@firebase/app"),SC="@firebase/app-compat",wC="@firebase/analytics-compat",bC="@firebase/analytics",RC="@firebase/app-check-compat",CC="@firebase/app-check",IC="@firebase/auth",OC="@firebase/auth-compat",DC="@firebase/database",NC="@firebase/data-connect",xC="@firebase/database-compat",MC="@firebase/functions",PC="@firebase/functions-compat",VC="@firebase/installations",kC="@firebase/installations-compat",LC="@firebase/messaging",UC="@firebase/messaging-compat",jC="@firebase/performance",zC="@firebase/performance-compat",BC="@firebase/remote-config",qC="@firebase/remote-config-compat",HC="@firebase/storage",FC="@firebase/storage-compat",GC="@firebase/firestore",KC="@firebase/vertexai",QC="@firebase/firestore-compat",$C="firebase",YC="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="[DEFAULT]",XC={[Jm]:"fire-core",[SC]:"fire-core-compat",[bC]:"fire-analytics",[wC]:"fire-analytics-compat",[CC]:"fire-app-check",[RC]:"fire-app-check-compat",[IC]:"fire-auth",[OC]:"fire-auth-compat",[DC]:"fire-rtdb",[NC]:"fire-data-connect",[xC]:"fire-rtdb-compat",[MC]:"fire-fn",[PC]:"fire-fn-compat",[VC]:"fire-iid",[kC]:"fire-iid-compat",[LC]:"fire-fcm",[UC]:"fire-fcm-compat",[jC]:"fire-perf",[zC]:"fire-perf-compat",[BC]:"fire-rc",[qC]:"fire-rc-compat",[HC]:"fire-gcs",[FC]:"fire-gcs-compat",[GC]:"fire-fst",[QC]:"fire-fst-compat",[KC]:"fire-vertex","fire-js":"fire-js",[$C]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,WC=new Map,ep=new Map;function dE(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function oo(i){const e=i.name;if(ep.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const t of Sh.values())dE(t,i);for(const t of WC.values())dE(t,i);return!0}function Lp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Ln(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new pu("app","Firebase",JC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=YC;function S0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Zm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(t||(t=_0()),!t)throw Gr.create("no-options");const u=Sh.get(o);if(u){if(ir(t,u.options)&&ir(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const h=new sC(o);for(const p of ep.values())h.addComponent(p);const m=new ZC(t,s,h);return Sh.set(o,m),m}function w0(i=Zm){const e=Sh.get(i);if(!e&&i===Zm&&_0())return S0();if(!e)throw Gr.create("no-app",{appName:i});return e}function Kr(i,e,t){var s;let o=(s=XC[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}oo(new Qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,nu="firebase-heartbeat-store";let Um=null;function b0(){return Um||(Um=_C(eI,tI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),Um}async function nI(i){try{const t=(await b0()).transaction(nu),s=await t.objectStore(nu).get(R0(i));return await t.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function mE(i,e){try{const s=(await b0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,R0(i)),await s.done}catch(t){if(t instanceof lr)rr.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(s.message)}}}function R0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1024,rI=30;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=pE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>rI){const h=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pE(),{heartbeatsToSend:s,unsentEntries:o}=aI(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return rr.warn(t),""}}}function pE(){return new Date().toISOString().substring(0,10)}function aI(i,e=iI){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),gE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),gE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q1()?$1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return mE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return mE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gE(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function lI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(i){oo(new Qs("platform-logger",e=>new TC(e),"PRIVATE")),oo(new Qs("heartbeat",e=>new sI(e),"PRIVATE")),Kr(Jm,fE,i),Kr(Jm,fE,"esm2017"),Kr("fire-js","")}uI("");function Up(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cI=C0,I0=new pu("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Vp("@firebase/auth");function hI(i,...e){wh.logLevel<=Ve.WARN&&wh.warn(`Auth (${Eo}): ${i}`,...e)}function lh(i,...e){wh.logLevel<=Ve.ERROR&&wh.error(`Auth (${Eo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw jp(i,...e)}function gi(i,...e){return jp(i,...e)}function O0(i,e,t){const s=Object.assign(Object.assign({},cI()),{[e]:t});return new pu("auth","Firebase",s).create(e,{appName:i.name})}function er(i){return O0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return I0.create(i,...e)}function Te(i,e,...t){if(!i)throw jp(e,...t)}function Wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lh(e),new Error(e)}function sr(i,e){i||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function fI(){return yE()==="http:"||yE()==="https:"}function yE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fI()||H1()||"connection"in navigator)?navigator.onLine:!0}function mI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,sr(t>e,"Short delay should be less than long delay!"),this.isMobile=z1()||F1()}get(){return dI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i,e){sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new yu(3e4,6e4);function ns(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function is(i,e,t,s,o={}){return N0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return q1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&mu(i.emulatorConfig.host)&&(g.credentials="include"),D0.fetch()(await x0(i,i.config.apiHost,t,m),g)})}async function N0(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},pI),e);try{const o=new vI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw O0(i,_,g);Kn(i,_)}}catch(o){if(o instanceof lr)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function _u(i,e,t,s,o={}){const u=await is(i,e,t,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function x0(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?zp(i.config,o):`${i.config.apiScheme}://${o}`;return gI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function _I(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),yI.get())})}}function eh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=gi(i,e,s);return o.customData._tokenResponse=t,o}function _E(i){return i!==void 0&&i.enterprise!==void 0}class EI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _I(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TI(i,e){return is(i,"GET","/v2/recaptchaConfig",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(i,e){return is(i,"POST","/v1/accounts:delete",e)}async function bh(i,e){return is(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SI(i,e=!1){const t=Gt(i),s=await t.getIdToken(e),o=Bp(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(jm(o.auth_time)),issuedAtTime:Yl(jm(o.iat)),expirationTime:Yl(jm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jm(i){return Number(i)*1e3}function Bp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=g0(t);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vE(i){const e=Bp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof lr&&wI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function wI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await iu(i,bh(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?M0(u.providerUserInfo):[],m=CI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new np(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function RI(i){const e=Gt(i);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function M0(i){return i.map(e=>{var{providerId:t}=e,s=Up(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e){const t=await N0(i,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await x0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",D0.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OI(i,e){return is(i,"POST","/v2/accounts:revokeToken",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=vE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await II(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new io;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new np(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await iu(this,AI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,N=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,b=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(m=t.tenantId)!==null&&m!==void 0?m:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,W=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:ce,isAnonymous:oe,providerData:ye,stsTokenManager:x}=t;Te(X&&x,e,"internal-error");const R=io.fromJSON(this.name,x);Te(typeof X=="string",e,"internal-error"),Ur(A,e.name),Ur(S,e.name),Te(typeof ce=="boolean",e,"internal-error"),Te(typeof oe=="boolean",e,"internal-error"),Ur(N,e.name),Ur(b,e.name),Ur(U,e.name),Ur(D,e.name),Ur(Q,e.name),Ur(W,e.name);const C=new Gn({uid:X,auth:e,email:S,emailVerified:ce,displayName:A,isAnonymous:oe,photoURL:b,phoneNumber:N,tenantId:U,stsTokenManager:R,createdAt:Q,lastLoginAt:W});return ye&&Array.isArray(ye)&&(C.providerData=ye.map(P=>Object.assign({},P))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new io;o.updateFromServerResponse(t);const u=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?M0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new io;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function Ji(i){sr(i instanceof Function,"Expected a class definition");let e=EE.get(i);return e?(sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,EE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}P0.type="NONE";const TE=P0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(i,e,t){return`firebase:${i}:${e}:${t}`}class ro{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bh(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ro(Ji(TE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(TE);const h=uh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let A;if(typeof _=="string"){const S=await bh(e,{idToken:_}).catch(()=>{});if(!S)break;A=await Gn._fromGetAccountInfoResponse(e,S,_)}else A=Gn._fromJSON(e,_);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z0(e))return"Blackberry";if(B0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(j0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V0(i=en()){return/firefox\//i.test(i)}function k0(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(i=en()){return/crios\//i.test(i)}function U0(i=en()){return/iemobile/i.test(i)}function j0(i=en()){return/android/i.test(i)}function z0(i=en()){return/blackberry/i.test(i)}function B0(i=en()){return/webos/i.test(i)}function qp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function DI(i=en()){var e;return qp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NI(){return G1()&&document.documentMode===10}function q0(i=en()){return qp(i)||j0(i)||B0(i)||z0(i)||/windows phone/i.test(i)||U0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i,e=[]){let t;switch(i){case"Browser":t=AE(en());break;case"Worker":t=`${AE(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e={}){return is(i,"GET","/v2/passwordPolicy",ns(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=6;class VI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:PI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new xI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bh(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ln(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(er(this));const t=e?Gt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MI(this),t=new VI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await OI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ji(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[Ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&hI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ea(i){return Gt(i)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z1(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LI(i){Qh=i}function F0(i){return Qh.loadJS(i)}function UI(){return Qh.recaptchaEnterpriseScript}function jI(){return Qh.gapiScript}function zI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class BI{constructor(){this.enterprise=new qI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HI="recaptcha-enterprise",G0="NO_RECAPTCHA";class FI{constructor(e){this.type=HI,this.auth=ea(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{TI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new EI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(G0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&_E(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UI();p.length!==0&&(p+=m),F0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function wE(i,e,t,s=!1,o=!1){const u=new FI(i);let h;if(o)h=G0;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ip(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await wE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await wE(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i,e){const t=Lp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ir(u,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function GI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ji);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function KI(i,e,t){const s=ea(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Q0(e),{host:h,port:m}=QI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ir(g,s.config.emulator)&&ir(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,mu(h)?(Kh("Auth",!0),E0(`${u}//${h}${p}`)):$I()}function Q0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function QI(i){const e=Q0(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:bE(h)}}}function bE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $I(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function YI(i,e){return is(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,e){return _u(i,"POST","/v1/accounts:signInWithPassword",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e){return _u(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}async function JI(i,e){return _u(i,"POST","/v1/accounts:signInWithEmailLink",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Hp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ru(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ru(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,t,"signInWithPassword",XI);case"emailLink":return WI(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,s,"signUpPassword",YI);case"emailLink":return JI(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(i,e){return _u(i,"POST","/v1/accounts:signInWithIdp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="http://localhost";class $s extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Up(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new $s(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return so(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,so(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,so(e,t)}buildRequest(){const e={requestUri:ZI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t2(i){const e=ql(Hl(i)).link,t=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(i)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||t||e||i}class Fp{constructor(e){var t,s,o,u,h,m;const p=ql(Hl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,A=e2((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&_&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=t2(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,t){return ru._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Fp.parseLink(t);return Te(s,"argument-error"),ru._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends $0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends vu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends vu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends vu{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return qr.credential(t,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(i,e){return _u(i,"POST","/v1/accounts:signUp",ns(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),h=RE(s);return new Ys({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=RE(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function RE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends lr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ch(e,t,s,o)}}function Y0(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(i,u,e,s):u})}async function i2(i,e,t=!1){const s=await iu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ys._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(i,e,t=!1){const{auth:s}=i;if(Ln(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await iu(i,Y0(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=Bp(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),Ys._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(i,e,t=!1){if(Ln(i.app))return Promise.reject(er(i));const s="signIn",o=await Y0(i,s,e),u=await Ys._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function s2(i,e){return X0(ea(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(i){const e=ea(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a2(i,e,t){if(Ln(i.app))return Promise.reject(er(i));const s=ea(i),h=await ip(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&W0(i),p}),m=await Ys._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function o2(i,e,t){return Ln(i.app)?Promise.reject(er(i)):s2(Gt(i),To.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&W0(i),s})}function l2(i,e,t,s){return Gt(i).onIdTokenChanged(e,t,s)}function u2(i,e,t){return Gt(i).beforeAuthStateChanged(e,t)}function c2(i,e,t,s){return Gt(i).onAuthStateChanged(e,t,s)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,f2=10;class Z0 extends J0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);NI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,f2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const d2=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends J0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eA.type="SESSION";const tA=eA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await m2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Gp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function g2(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function v2(){return nA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="firebaseLocalStorageDb",E2=1,Oh="firebaseLocalStorage",rA="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function T2(){const i=indexedDB.deleteDatabase(iA);return new Eu(i).toPromise()}function rp(){const i=indexedDB.open(iA,E2);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:rA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await T2(),e(await rp()))})})}async function CE(i,e,t){const s=Yh(i,!0).put({[rA]:e,value:t});return new Eu(s).toPromise()}async function A2(i,e){const t=Yh(i,!1).get(e),s=await new Eu(t).toPromise();return s===void 0?null:s.value}function IE(i,e){const t=Yh(i,!0).delete(e);return new Eu(t).toPromise()}const S2=800,w2=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await CE(e,Ih,"1"),await IE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>CE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>A2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new Eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const aA=sA;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(i,e){return e?Ji(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,t){return so(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function R2(i){return X0(i.auth,new Kp(i),i.bypassAuthState)}function C2(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),r2(t,new Kp(i),i.bypassAuthState)}async function I2(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),i2(t,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:Kn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new yu(2e3,1e4);class no extends oA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O2.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="pendingRedirect",ch=new Map;class N2 extends oA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(i,e){const t=V2(e),s=P2(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function M2(i,e){ch.set(i._key(),e)}function P2(i){return Ji(i._redirectPersistence)}function V2(i){return uh(D2,i.config.apiKey,i.name)}async function k2(i,e,t=!1){if(Ln(i.app))return Promise.reject(er(i));const s=ea(i),o=b2(s,e),h=await new N2(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=10*60*1e3;class U2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!lA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(gi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function lA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(i,e={}){return is(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q2=/^https?/;async function H2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await z2(i);for(const t of e)try{if(F2(t))return}catch{}Kn(i,"unauthorized-domain")}function F2(i){const e=tp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!q2.test(t))return!1;if(B2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new yu(3e4,6e4);function DE(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function K2(i){return new Promise((e,t)=>{var s,o,u;function h(){DE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DE(),t(gi(i,"network-request-failed"))},timeout:G2.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)h();else{const m=zI("iframefcb");return yi()[m]=()=>{gapi.load?h():t(gi(i,"network-request-failed"))},F0(`${jI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw hh=null,e})}let hh=null;function Q2(i){return hh=hh||K2(i),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new yu(5e3,15e3),Y2="__/auth/iframe",X2="emulator/auth/iframe",W2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z2(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?zp(e,X2):`https://${i.config.authDomain}/${Y2}`,s={apiKey:e.apiKey,appName:i.name,v:Eo},o=J2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${gu(s).slice(1)}`}async function eO(i){const e=await Q2(i),t=yi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:Z2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=gi(i,"network-request-failed"),m=yi().setTimeout(()=>{u(h)},$2.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nO=500,iO=600,rO="_blank",sO="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aO(i,e,t,s=nO,o=iO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},tO),{width:s.toString(),height:o.toString(),top:u,left:h}),g=en().toLowerCase();t&&(m=L0(g)?rO:t),V0(g)&&(e=e||sO,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[N,b])=>`${S}${N}=${b},`,"");if(DI(g)&&m!=="_self")return oO(e||"",m),new NE(null);const A=window.open(e||"",m,_);Te(A,i,"popup-blocked");try{A.focus()}catch{}return new NE(A)}function oO(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="__/auth/handler",uO="emulator/auth/handler",cO=encodeURIComponent("fac");async function xE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Eo,eventId:o};if(e instanceof $0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",J1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof vu){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${cO}=${encodeURIComponent(p)}`:"";return`${hO(i)}?${gu(m).slice(1)}${g}`}function hO({config:i}){return i.emulator?zp(i,uO):`https://${i.authDomain}/${lO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class fO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tA,this._completeRedirectFn=k2,this._overrideRedirectResult=M2}async _openPopup(e,t,s,o){var u;sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await xE(e,t,s,tp(),o);return aO(e,h,Gp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await xE(e,t,s,tp(),o);return g2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await eO(e),s=new U2(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[zm];h!==void 0&&t(!!h),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q0()||k0()||qp()}}const dO=fO;var ME="@firebase/auth",PE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gO(i){oo(new Qs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(i)},g=new kI(s,o,u,p);return GI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Qs("auth-internal",e=>{const t=ea(e.getProvider("auth").getImmediate());return(s=>new mO(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(ME,PE,pO(i)),Kr(ME,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=5*60,_O=v0("authIdTokenMaxAge")||yO;let VE=null;const vO=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>_O)return;const o=t==null?void 0:t.token;VE!==o&&(VE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yr(i=w0()){const e=Lp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=K0(i,{popupRedirectResolver:dO,persistence:[aA,d2,tA]}),s=v0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=vO(u.toString());u2(t,h,()=>h(t.currentUser)),l2(t,m=>h(m))}}const o=y0("auth");return o?KI(t,`http://${o}`):Kh("Auth",!1),t}function EO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}LI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",EO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gO("Browser");function uA(i,e){return function(){return i.apply(e,arguments)}}const{toString:TO}=Object.prototype,{getPrototypeOf:Qp}=Object,{iterator:Xh,toStringTag:cA}=Symbol,Wh=(i=>e=>{const t=TO.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=i=>(i=i.toLowerCase(),e=>Wh(e)===i),Jh=i=>e=>typeof e===i,{isArray:Ao}=Array,su=Jh("undefined");function AO(i){return i!==null&&!su(i)&&i.constructor!==null&&!su(i.constructor)&&fn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const hA=Yn("ArrayBuffer");function SO(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&hA(i.buffer),e}const wO=Jh("string"),fn=Jh("function"),fA=Jh("number"),Zh=i=>i!==null&&typeof i=="object",bO=i=>i===!0||i===!1,fh=i=>{if(Wh(i)!=="object")return!1;const e=Qp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cA in i)&&!(Xh in i)},RO=Yn("Date"),CO=Yn("File"),IO=Yn("Blob"),OO=Yn("FileList"),DO=i=>Zh(i)&&fn(i.pipe),NO=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||fn(i.append)&&((e=Wh(i))==="formdata"||e==="object"&&fn(i.toString)&&i.toString()==="[object FormData]"))},xO=Yn("URLSearchParams"),[MO,PO,VO,kO]=["ReadableStream","Request","Response","Headers"].map(Yn),LO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Ao(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function dA(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mA=i=>!su(i)&&i!==Fs;function sp(){const{caseless:i}=mA(this)&&this||{},e={},t=(s,o)=>{const u=i&&dA(e,o)||o;fh(e[u])&&fh(s)?e[u]=sp(e[u],s):fh(s)?e[u]=sp({},s):Ao(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Tu(arguments[s],t);return e}const UO=(i,e,t,{allOwnKeys:s}={})=>(Tu(e,(o,u)=>{t&&fn(o)?i[u]=uA(o,t):i[u]=o},{allOwnKeys:s}),i),jO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),zO=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},BO=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Qp(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},qO=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},HO=i=>{if(!i)return null;if(Ao(i))return i;let e=i.length;if(!fA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},FO=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Qp(Uint8Array)),GO=(i,e)=>{const s=(i&&i[Xh]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},KO=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},QO=Yn("HTMLFormElement"),$O=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),kE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),YO=Yn("RegExp"),pA=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Tu(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},XO=i=>{pA(i,(e,t)=>{if(fn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(fn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},WO=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Ao(i)?s(i):s(String(i).split(e)),t},JO=()=>{},ZO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function eD(i){return!!(i&&fn(i.append)&&i[cA]==="FormData"&&i[Xh])}const tD=i=>{const e=new Array(10),t=(s,o)=>{if(Zh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Ao(s)?[]:{};return Tu(s,(h,m)=>{const p=t(h,o+1);!su(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(i,0)},nD=Yn("AsyncFunction"),iD=i=>i&&(Zh(i)||fn(i))&&fn(i.then)&&fn(i.catch),gA=((i,e)=>i?setImmediate:e?((t,s)=>(Fs.addEventListener("message",({source:o,data:u})=>{o===Fs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Fs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",fn(Fs.postMessage)),rD=typeof queueMicrotask<"u"?queueMicrotask.bind(Fs):typeof process<"u"&&process.nextTick||gA,sD=i=>i!=null&&fn(i[Xh]),Y={isArray:Ao,isArrayBuffer:hA,isBuffer:AO,isFormData:NO,isArrayBufferView:SO,isString:wO,isNumber:fA,isBoolean:bO,isObject:Zh,isPlainObject:fh,isReadableStream:MO,isRequest:PO,isResponse:VO,isHeaders:kO,isUndefined:su,isDate:RO,isFile:CO,isBlob:IO,isRegExp:YO,isFunction:fn,isStream:DO,isURLSearchParams:xO,isTypedArray:FO,isFileList:OO,forEach:Tu,merge:sp,extend:UO,trim:LO,stripBOM:jO,inherits:zO,toFlatObject:BO,kindOf:Wh,kindOfTest:Yn,endsWith:qO,toArray:HO,forEachEntry:GO,matchAll:KO,isHTMLForm:QO,hasOwnProperty:kE,hasOwnProp:kE,reduceDescriptors:pA,freezeMethods:XO,toObjectSet:WO,toCamelCase:$O,noop:JO,toFiniteNumber:ZO,findKey:dA,global:Fs,isContextDefined:mA,isSpecCompliantForm:eD,toJSONObject:tD,isAsyncFn:nD,isThenable:iD,setImmediate:gA,asap:rD,isIterable:sD};function Ce(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const yA=Ce.prototype,_A={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{_A[i]={value:i}});Object.defineProperties(Ce,_A);Object.defineProperty(yA,"isAxiosError",{value:!0});Ce.from=(i,e,t,s,o,u)=>{const h=Object.create(yA);return Y.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const aD=null;function ap(i){return Y.isPlainObject(i)||Y.isArray(i)}function vA(i){return Y.endsWith(i,"[]")?i.slice(0,-2):i}function LE(i,e,t){return i?i.concat(e).map(function(o,u){return o=vA(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function oD(i){return Y.isArray(i)&&!i.some(ap)}const lD=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function ef(i,e,t){if(!Y.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,D){return!Y.isUndefined(D[U])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function g(b){if(b===null)return"";if(Y.isDate(b))return b.toISOString();if(!p&&Y.isBlob(b))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(b)||Y.isTypedArray(b)?p&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function _(b,U,D){let Q=b;if(b&&!D&&typeof b=="object"){if(Y.endsWith(U,"{}"))U=s?U:U.slice(0,-2),b=JSON.stringify(b);else if(Y.isArray(b)&&oD(b)||(Y.isFileList(b)||Y.endsWith(U,"[]"))&&(Q=Y.toArray(b)))return U=vA(U),Q.forEach(function(X,ce){!(Y.isUndefined(X)||X===null)&&e.append(h===!0?LE([U],ce,u):h===null?U:U+"[]",g(X))}),!1}return ap(b)?!0:(e.append(LE(D,U,u),g(b)),!1)}const A=[],S=Object.assign(lD,{defaultVisitor:_,convertValue:g,isVisitable:ap});function N(b,U){if(!Y.isUndefined(b)){if(A.indexOf(b)!==-1)throw Error("Circular reference detected in "+U.join("."));A.push(b),Y.forEach(b,function(Q,W){(!(Y.isUndefined(Q)||Q===null)&&o.call(e,Q,Y.isString(W)?W.trim():W,U,S))===!0&&N(Q,U?U.concat(W):[W])}),A.pop()}}if(!Y.isObject(i))throw new TypeError("data must be an object");return N(i),e}function UE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function $p(i,e){this._pairs=[],i&&ef(i,this,e)}const EA=$p.prototype;EA.append=function(e,t){this._pairs.push([e,t])};EA.toString=function(e){const t=e?function(s){return e.call(this,s,UE)}:UE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function uD(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TA(i,e,t){if(!e)return i;const s=t&&t.encode||uD;Y.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Y.isURLSearchParams(e)?e.toString():new $p(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class jE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const AA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cD=typeof URLSearchParams<"u"?URLSearchParams:$p,hD=typeof FormData<"u"?FormData:null,fD=typeof Blob<"u"?Blob:null,dD={isBrowser:!0,classes:{URLSearchParams:cD,FormData:hD,Blob:fD},protocols:["http","https","file","blob","url","data"]},Yp=typeof window<"u"&&typeof document<"u",op=typeof navigator=="object"&&navigator||void 0,mD=Yp&&(!op||["ReactNative","NativeScript","NS"].indexOf(op.product)<0),pD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gD=Yp&&window.location.href||"http://localhost",yD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yp,hasStandardBrowserEnv:mD,hasStandardBrowserWebWorkerEnv:pD,navigator:op,origin:gD},Symbol.toStringTag,{value:"Module"})),Zt={...yD,...dD};function _D(i,e){return ef(i,new Zt.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return Zt.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function vD(i){return Y.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ED(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function SA(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&Y.isArray(o)?o.length:h,p?(Y.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Y.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Y.isArray(o[h])&&(o[h]=ED(o[h])),!m)}if(Y.isFormData(i)&&Y.isFunction(i.entries)){const t={};return Y.forEachEntry(i,(s,o)=>{e(vD(s),o,t,0)}),t}return null}function TD(i,e,t){if(Y.isString(i))try{return(e||JSON.parse)(i),Y.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Au={transitional:AA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Y.isObject(e);if(u&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return o?JSON.stringify(SA(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return _D(e,this.formSerializer).toString();if((m=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ef(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),TD(e)):e}],transformResponse:[function(e){const t=this.transitional||Au.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],i=>{Au.headers[i]={}});const AD=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SD=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&AD[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},zE=Symbol("internals");function Bl(i){return i&&String(i).trim().toLowerCase()}function dh(i){return i===!1||i==null?i:Y.isArray(i)?i.map(dh):String(i)}function wD(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const bD=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Bm(i,e,t,s,o){if(Y.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function RD(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function CD(i,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let dn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const _=Bl(p);if(!_)throw new Error("header name must be a non-empty string");const A=Y.findKey(o,_);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=dh(m))}const h=(m,p)=>Y.forEach(m,(g,_)=>u(g,_,p));if(Y.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Y.isString(e)&&(e=e.trim())&&!bD(e))h(SD(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let m={},p,g;for(const _ of e){if(!Y.isArray(_))throw TypeError("Object iterator must return a key-value pair");m[g=_[0]]=(p=m[g])?Y.isArray(p)?[...p,_[1]]:[p,_[1]]:_[1]}h(m,t)}else e!=null&&u(t,e,s);return this}get(e,t){if(e=Bl(e),e){const s=Y.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return wD(o);if(Y.isFunction(t))return t.call(this,o,s);if(Y.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Bm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Bl(h),h){const m=Y.findKey(s,h);m&&(!t||Bm(s,s[m],m,t))&&(delete s[m],o=!0)}}return Y.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||Bm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Y.forEach(this,(o,u)=>{const h=Y.findKey(s,u);if(h){t[h]=dh(o),delete t[u];return}const m=e?RD(u):String(u).trim();m!==u&&delete t[u],t[m]=dh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[zE]=this[zE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Bl(h);s[m]||(CD(o,h),s[m]=!0)}return Y.isArray(e)?e.forEach(u):u(e),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(dn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Y.freezeMethods(dn);function qm(i,e){const t=this||Au,s=e||t,o=dn.from(s.headers);let u=s.data;return Y.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function wA(i){return!!(i&&i.__CANCEL__)}function So(i,e,t){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(So,Ce,{__CANCEL__:!0});function bA(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ID(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function OD(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[u];h||(h=g),t[o]=p,s[o]=g;let A=u,S=0;for(;A!==o;)S+=t[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const N=_&&g-_;return N?Math.round(S*1e3/N):void 0}}function DD(i,e){let t=0,s=1e3/e,o,u;const h=(g,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const _=Date.now(),A=_-t;A>=s?h(g,_):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const Dh=(i,e,t=3)=>{let s=0;const o=OD(50,250);return DD(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),_=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&_?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(A)},t)},BE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},qE=i=>(...e)=>Y.asap(()=>i(...e)),ND=Zt.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Zt.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,xD=Zt.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Y.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&h.push("path="+s),Y.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function MD(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function PD(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function RA(i,e,t){let s=!MD(e);return i&&(s||t==!1)?PD(i,e):e}const HE=i=>i instanceof dn?{...i}:i;function Xs(i,e){e=e||{};const t={};function s(g,_,A,S){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:S},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function o(g,_,A,S){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g,A,S)}else return s(g,_,A,S)}function u(g,_){if(!Y.isUndefined(_))return s(void 0,_)}function h(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function m(g,_,A){if(A in e)return s(g,_);if(A in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,_,A)=>o(HE(g),HE(_),A,!0)};return Y.forEach(Object.keys(Object.assign({},i,e)),function(_){const A=p[_]||o,S=A(i[_],e[_],_);Y.isUndefined(S)&&A!==m||(t[_]=S)}),t}const CA=i=>{const e=Xs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=dn.from(h),e.url=TA(RA(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(Y.isFormData(t)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,..._]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",..._].join("; "))}}if(Zt.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&ND(e.url))){const g=o&&u&&xD.read(u);g&&h.set(o,g)}return e},VD=typeof XMLHttpRequest<"u",kD=VD&&function(i){return new Promise(function(t,s){const o=CA(i);let u=o.data;const h=dn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,_,A,S,N,b;function U(){N&&N(),b&&b(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let D=new XMLHttpRequest;D.open(o.method.toUpperCase(),o.url,!0),D.timeout=o.timeout;function Q(){if(!D)return;const X=dn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),oe={data:!m||m==="text"||m==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:X,config:i,request:D};bA(function(x){t(x),U()},function(x){s(x),U()},oe),D=null}"onloadend"in D?D.onloadend=Q:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(Q)},D.onabort=function(){D&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,D)),D=null)},D.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,D)),D=null},D.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const oe=o.transitional||AA;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),s(new Ce(ce,oe.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,D)),D=null},u===void 0&&h.setContentType(null),"setRequestHeader"in D&&Y.forEach(h.toJSON(),function(ce,oe){D.setRequestHeader(oe,ce)}),Y.isUndefined(o.withCredentials)||(D.withCredentials=!!o.withCredentials),m&&m!=="json"&&(D.responseType=o.responseType),g&&([S,b]=Dh(g,!0),D.addEventListener("progress",S)),p&&D.upload&&([A,N]=Dh(p),D.upload.addEventListener("progress",A),D.upload.addEventListener("loadend",N)),(o.cancelToken||o.signal)&&(_=X=>{D&&(s(!X||X.type?new So(null,i,D):X),D.abort(),D=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const W=ID(o.url);if(W&&Zt.protocols.indexOf(W)===-1){s(new Ce("Unsupported protocol "+W+":",Ce.ERR_BAD_REQUEST,i));return}D.send(u||null)})},LD=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof Ce?_:new So(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Y.asap(m),p}},UD=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},jD=async function*(i,e){for await(const t of zD(i))yield*UD(t,e)},zD=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},FE=(i,e,t,s)=>{const o=jD(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){m(),p.close();return}let A=_.byteLength;if(t){let S=u+=A;t(S)}p.enqueue(new Uint8Array(_))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},tf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",IA=tf&&typeof ReadableStream=="function",BD=tf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),OA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},qD=IA&&OA(()=>{let i=!1;const e=new Request(Zt.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),GE=64*1024,lp=IA&&OA(()=>Y.isReadableStream(new Response("").body)),Nh={stream:lp&&(i=>i.body)};tf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Nh[e]&&(Nh[e]=Y.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const HD=async i=>{if(i==null)return 0;if(Y.isBlob(i))return i.size;if(Y.isSpecCompliantForm(i))return(await new Request(Zt.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(i)||Y.isArrayBuffer(i))return i.byteLength;if(Y.isURLSearchParams(i)&&(i=i+""),Y.isString(i))return(await BD(i)).byteLength},FD=async(i,e)=>{const t=Y.toFiniteNumber(i.getContentLength());return t??HD(e)},GD=tf&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:_,withCredentials:A="same-origin",fetchOptions:S}=CA(i);g=g?(g+"").toLowerCase():"text";let N=LD([o,u&&u.toAbortSignal()],h),b;const U=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let D;try{if(p&&qD&&t!=="get"&&t!=="head"&&(D=await FD(_,s))!==0){let oe=new Request(e,{method:"POST",body:s,duplex:"half"}),ye;if(Y.isFormData(s)&&(ye=oe.headers.get("content-type"))&&_.setContentType(ye),oe.body){const[x,R]=BE(D,Dh(qE(p)));s=FE(oe.body,GE,x,R)}}Y.isString(A)||(A=A?"include":"omit");const Q="credentials"in Request.prototype;b=new Request(e,{...S,signal:N,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:Q?A:void 0});let W=await fetch(b);const X=lp&&(g==="stream"||g==="response");if(lp&&(m||X&&U)){const oe={};["status","statusText","headers"].forEach(C=>{oe[C]=W[C]});const ye=Y.toFiniteNumber(W.headers.get("content-length")),[x,R]=m&&BE(ye,Dh(qE(m),!0))||[];W=new Response(FE(W.body,GE,x,()=>{R&&R(),U&&U()}),oe)}g=g||"text";let ce=await Nh[Y.findKey(Nh,g)||"text"](W,i);return!X&&U&&U(),await new Promise((oe,ye)=>{bA(oe,ye,{data:ce,headers:dn.from(W.headers),status:W.status,statusText:W.statusText,config:i,request:b})})}catch(Q){throw U&&U(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,b),{cause:Q.cause||Q}):Ce.from(Q,Q&&Q.code,i,b)}}),up={http:aD,xhr:kD,fetch:GD};Y.forEach(up,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const KE=i=>`- ${i}`,KD=i=>Y.isFunction(i)||i===null||i===!1,DA={getAdapter:i=>{i=Y.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!KD(t)&&(s=up[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(KE).join(`
`):" "+KE(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:up};function Hm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new So(null,i)}function QE(i){return Hm(i),i.headers=dn.from(i.headers),i.data=qm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),DA.getAdapter(i.adapter||Au.adapter)(i).then(function(s){return Hm(i),s.data=qm.call(i,i.transformResponse,s),s.headers=dn.from(s.headers),s},function(s){return wA(s)||(Hm(i),s&&s.response&&(s.response.data=qm.call(i,i.transformResponse,s.response),s.response.headers=dn.from(s.response.headers))),Promise.reject(s)})}const NA="1.9.0",nf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{nf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const $E={};nf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+NA+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!$E[h]&&($E[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};nf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function QD(i,e,t){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Ce("option "+u+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const mh={assertOptions:QD,validators:nf},di=mh.validators;let Ks=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jE,response:new jE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&mh.assertOptions(s,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),o!=null&&(Y.isFunction(o)?t.paramsSerializer={serialize:o}:mh.assertOptions(o,{encode:di.function,serialize:di.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),mh.assertOptions(t,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Y.merge(u.common,u[t.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],b=>{delete u[b]}),t.headers=dn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(t)===!1||(p=p&&U.synchronous,m.unshift(U.fulfilled,U.rejected))});const g=[];this.interceptors.response.forEach(function(U){g.push(U.fulfilled,U.rejected)});let _,A=0,S;if(!p){const b=[QE.bind(this),void 0];for(b.unshift.apply(b,m),b.push.apply(b,g),S=b.length,_=Promise.resolve(t);A<S;)_=_.then(b[A++],b[A++]);return _}S=m.length;let N=t;for(A=0;A<S;){const b=m[A++],U=m[A++];try{N=b(N)}catch(D){U.call(this,D);break}}try{_=QE.call(this,N)}catch(b){return Promise.reject(b)}for(A=0,S=g.length;A<S;)_=_.then(g[A++],g[A++]);return _}getUri(e){e=Xs(this.defaults,e);const t=RA(e.baseURL,e.url,e.allowAbsoluteUrls);return TA(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Ks.prototype[e]=function(t,s){return this.request(Xs(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(Xs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ks.prototype[e]=t(),Ks.prototype[e+"Form"]=t(!0)});let $D=class xA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new So(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xA(function(o){e=o}),cancel:e}}};function YD(i){return function(t){return i.apply(null,t)}}function XD(i){return Y.isObject(i)&&i.isAxiosError===!0}const cp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cp).forEach(([i,e])=>{cp[e]=i});function MA(i){const e=new Ks(i),t=uA(Ks.prototype.request,e);return Y.extend(t,Ks.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return MA(Xs(i,o))},t}const lt=MA(Au);lt.Axios=Ks;lt.CanceledError=So;lt.CancelToken=$D;lt.isCancel=wA;lt.VERSION=NA;lt.toFormData=ef;lt.AxiosError=Ce;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=YD;lt.isAxiosError=XD;lt.mergeConfig=Xs;lt.AxiosHeaders=dn;lt.formToJSON=i=>SA(Y.isHTMLForm(i)?new FormData(i):i);lt.getAdapter=DA.getAdapter;lt.HttpStatusCode=cp;lt.default=lt;const{Axios:MP,AxiosError:PP,CanceledError:VP,isCancel:kP,CancelToken:LP,VERSION:UP,all:jP,Cancel:zP,isAxiosError:BP,spread:qP,toFormData:HP,AxiosHeaders:FP,HttpStatusCode:GP,formToJSON:KP,getAdapter:QP,mergeConfig:$P}=lt,PA="https://restcountries.com/v3.1",Xp=async()=>{try{return(await lt.get(`${PA}/all?fields=name,cca3,flags,population,region,capital`)).data}catch(i){throw console.error("Error fetching all countries summary:",i),i}},WD=async i=>{var e;try{return(await lt.get(`${PA}/alpha/${i}`)).data[0]||null}catch(t){if(console.error(`Error fetching country by cca3 code ${i}:`,t),lt.isAxiosError(t)&&((e=t.response)==null?void 0:e.status)===404)return null;throw t}},YE=()=>{const[i,e]=K.useState([]),[t,s]=K.useState([]),[o,u]=K.useState(!0),[h,m]=K.useState(null),[p,g]=K.useState(""),[_,A]=K.useState("");K.useEffect(()=>{(async()=>{try{u(!0);const D=[...await Xp()].sort((Q,W)=>Q.name.common.localeCompare(W.name.common));e(D),s(D),m(null)}catch(U){m("Maiden tietoja ei voitu ladata. Yritä myöhemmin uudelleen."),console.error(U)}finally{u(!1)}})()},[]);const S=K.useMemo(()=>{const b=new Set(i.map(U=>U.region).sort());return Array.from(b)},[i]),N=async b=>{if(b.preventDefault(),!p&&!_){s(i);return}u(!0),m(null);try{let U=[];p?U=i.filter(D=>D.name.common.toLowerCase().includes(p.toLowerCase())||D.capital&&D.capital.join(", ").toLowerCase().includes(p.toLowerCase())):U=[...i],_&&(U=U.filter(D=>D.region===_)),U=U.sort((D,Q)=>D.name.common.localeCompare(Q.name.common)),s(U)}catch(U){m("Haussa tapahtui virhe."),console.error(U),s([])}finally{u(!1)}};return o&&t.length===0?B.jsx("p",{children:"Ladataan maita..."}):h?B.jsx("p",{role:"alert",style:{color:"red"},children:h}):B.jsxs("div",{className:"country-list-container",children:[B.jsx("h1",{children:"Tutustu Maailman Maihin"}),B.jsxs("form",{onSubmit:N,className:"filter-form",children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"search-term",children:"Hae maan tai pääkaupungin nimellä:"}),B.jsx("input",{id:"search-term",type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Hae englannin kielisillä nimillä, esim. Finland tai London"})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{htmlFor:"region-select",children:"Suodata maanosan mukaan:"}),B.jsxs("select",{id:"region-select",value:_,onChange:b=>A(b.target.value),children:[B.jsx("option",{value:"",children:"Kaikki maanosat"}),S.map(b=>B.jsx("option",{value:b,children:b},b))]})]}),B.jsx("button",{type:"submit",disabled:o,children:o?"Haetaan...":"Hae / Suodata"})]}),t.length===0&&!o&&B.jsx("p",{children:"Ei hakutuloksia."}),B.jsx("div",{className:"country-grid","aria-live":"polite",children:t.map(b=>{var U;return B.jsxs(pi,{to:`/country/${b.cca3}`,className:"country-card",children:[B.jsx("img",{src:b.flags.svg,alt:`Lippu: ${b.name.common}`,loading:"lazy"}),B.jsxs("div",{className:"card-content",children:[B.jsx("h2",{children:b.name.common}),B.jsxs("p",{children:["Pääkaupunki: ",((U=b.capital)==null?void 0:U[0])||"Ei tietoa"]}),B.jsxs("p",{children:["Väkiluku: ",b.population.toLocaleString("fi-FI")]}),B.jsxs("p",{children:["Maanosa: ",b.region]})]})]},b.cca3)})})]})};var JD="firebase",ZD="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(JD,ZD,"app");var XE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,VA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(P,L,V){for(var O=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)O[wt-2]=arguments[wt];return R.prototype[L].apply(P,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)P[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],L=x.g[2];var V=x.g[3],O=R+(V^C&(L^V))+P[0]+3614090360&4294967295;R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+P[1]+3905402710&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+P[2]+606105819&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+P[3]+3250441966&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+P[4]+4118548399&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+P[5]+1200080426&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+P[6]+2821735955&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+P[7]+4249261313&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+P[8]+1770035416&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+P[9]+2336552879&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+P[10]+4294925233&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+P[11]+2304563134&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(V^C&(L^V))+P[12]+1804603682&4294967295,R=C+(O<<7&4294967295|O>>>25),O=V+(L^R&(C^L))+P[13]+4254626195&4294967295,V=R+(O<<12&4294967295|O>>>20),O=L+(C^V&(R^C))+P[14]+2792965006&4294967295,L=V+(O<<17&4294967295|O>>>15),O=C+(R^L&(V^R))+P[15]+1236535329&4294967295,C=L+(O<<22&4294967295|O>>>10),O=R+(L^V&(C^L))+P[1]+4129170786&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+P[6]+3225465664&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+P[11]+643717713&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+P[0]+3921069994&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+P[5]+3593408605&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+P[10]+38016083&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+P[15]+3634488961&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+P[4]+3889429448&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+P[9]+568446438&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+P[14]+3275163606&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+P[3]+4107603335&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+P[8]+1163531501&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(L^V&(C^L))+P[13]+2850285829&4294967295,R=C+(O<<5&4294967295|O>>>27),O=V+(C^L&(R^C))+P[2]+4243563512&4294967295,V=R+(O<<9&4294967295|O>>>23),O=L+(R^C&(V^R))+P[7]+1735328473&4294967295,L=V+(O<<14&4294967295|O>>>18),O=C+(V^R&(L^V))+P[12]+2368359562&4294967295,C=L+(O<<20&4294967295|O>>>12),O=R+(C^L^V)+P[5]+4294588738&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+P[8]+2272392833&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+P[11]+1839030562&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+P[14]+4259657740&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+P[1]+2763975236&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+P[4]+1272893353&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+P[7]+4139469664&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+P[10]+3200236656&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+P[13]+681279174&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+P[0]+3936430074&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+P[3]+3572445317&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+P[6]+76029189&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(C^L^V)+P[9]+3654602809&4294967295,R=C+(O<<4&4294967295|O>>>28),O=V+(R^C^L)+P[12]+3873151461&4294967295,V=R+(O<<11&4294967295|O>>>21),O=L+(V^R^C)+P[15]+530742520&4294967295,L=V+(O<<16&4294967295|O>>>16),O=C+(L^V^R)+P[2]+3299628645&4294967295,C=L+(O<<23&4294967295|O>>>9),O=R+(L^(C|~V))+P[0]+4096336452&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+P[7]+1126891415&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+P[14]+2878612391&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+P[5]+4237533241&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+P[12]+1700485571&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+P[3]+2399980690&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+P[10]+4293915773&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+P[1]+2240044497&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+P[8]+1873313359&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+P[15]+4264355552&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+P[6]+2734768916&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+P[13]+1309151649&4294967295,C=L+(O<<21&4294967295|O>>>11),O=R+(L^(C|~V))+P[4]+4149444226&4294967295,R=C+(O<<6&4294967295|O>>>26),O=V+(C^(R|~L))+P[11]+3174756917&4294967295,V=R+(O<<10&4294967295|O>>>22),O=L+(R^(V|~C))+P[2]+718787259&4294967295,L=V+(O<<15&4294967295|O>>>17),O=C+(V^(L|~R))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,P=this.B,L=this.h,V=0;V<R;){if(L==0)for(;V<=C;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<R;)if(P[L++]=x.charCodeAt(V++),L==this.blockSize){o(this,P),L=0;break}}else for(;V<R;)if(P[L++]=x[V++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var P=0;32>P;P+=8)x[C++]=this.g[R]>>>P&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;for(var C=[],P=!0,L=x.length-1;0<=L;L--){var V=x[L]|0;P&&V==R||(C[L]=V,P=!1)}this.g=C}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new h([R|0],0>R?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return D(g(-x));for(var R=[],C=1,P=0;x>=C;P++)R[P]=x/C|0,C*=4294967296;return new h(R,0)}function _(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return D(_(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),P=A,L=0;L<x.length;L+=8){var V=Math.min(8,x.length-L),O=parseInt(x.substring(L,L+V),R);8>V?(V=g(Math.pow(R,V)),P=P.j(V).add(g(O))):(P=P.j(C),P=P.add(g(O)))}return P}var A=p(0),S=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(U(this))return-D(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var P=this.i(C);x+=(0<=P?P:4294967296+P)*R,R*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(U(this))return"-"+D(this).toString(x);for(var R=g(Math.pow(x,6)),C=this,P="";;){var L=ce(C,R).g;C=Q(C,L.j(R));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=L,b(C))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function U(x){return x.h==-1}i.l=function(x){return x=Q(this,x),U(x)?-1:b(x)?0:1};function D(x){for(var R=x.g.length,C=[],P=0;P<R;P++)C[P]=~x.g[P];return new h(C,~x.h).add(S)}i.abs=function(){return U(this)?D(this):this},i.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],P=0,L=0;L<=R;L++){var V=P+(this.i(L)&65535)+(x.i(L)&65535),O=(V>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);P=O>>>16,V&=65535,O&=65535,C[L]=O<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Q(x,R){return x.add(D(R))}i.j=function(x){if(b(this)||b(x))return A;if(U(this))return U(x)?D(this).j(D(x)):D(D(this).j(x));if(U(x))return D(this.j(D(x)));if(0>this.l(N)&&0>x.l(N))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<x.g.length;L++){var V=this.i(P)>>>16,O=this.i(P)&65535,wt=x.i(L)>>>16,it=x.i(L)&65535;C[2*P+2*L]+=O*it,W(C,2*P+2*L),C[2*P+2*L+1]+=V*it,W(C,2*P+2*L+1),C[2*P+2*L+1]+=O*wt,W(C,2*P+2*L+1),C[2*P+2*L+2]+=V*wt,W(C,2*P+2*L+2)}for(P=0;P<R;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=R;P<2*R;P++)C[P]=0;return new h(C,0)};function W(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function X(x,R){this.g=x,this.h=R}function ce(x,R){if(b(R))throw Error("division by zero");if(b(x))return new X(A,A);if(U(x))return R=ce(D(x),R),new X(D(R.g),D(R.h));if(U(R))return R=ce(x,D(R)),new X(D(R.g),R.h);if(30<x.g.length){if(U(x)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,P=R;0>=P.l(x);)C=oe(C),P=oe(P);var L=ye(C,1),V=ye(P,1);for(P=ye(P,2),C=ye(C,2);!b(P);){var O=V.add(P);0>=O.l(x)&&(L=L.add(C),V=O),P=ye(P,1),C=ye(C,1)}return R=Q(x,L.j(R)),new X(L,R)}for(L=A;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=g(C),O=V.j(R);U(O)||0<O.l(x);)C-=P,V=g(C),O=V.j(R);b(V)&&(V=S),L=L.add(V),x=Q(x,O)}return new X(L,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)&x.i(P);return new h(C,this.h&x.h)},i.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)|x.i(P);return new h(C,this.h|x.h)},i.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)^x.i(P);return new h(C,this.h^x.h)};function oe(x){for(var R=x.g.length+1,C=[],P=0;P<R;P++)C[P]=x.i(P)<<1|x.i(P-1)>>>31;return new h(C,x.h)}function ye(x,R){var C=R>>5;R%=32;for(var P=x.g.length-C,L=[],V=0;V<P;V++)L[V]=0<R?x.i(V+C)>>>R|x.i(V+C+1)<<32-R:x.i(V+C);return new h(L,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,VA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Qr=h}).apply(typeof XE<"u"?XE:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kA,Fl,LA,ph,hp,UA,jA,zA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break e;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var $=v++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,S.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,$){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return y.prototype[z].apply(w,ae)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function D(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,$=w.length||0;c.length=z+$;for(let ae=0;ae<$;ae++)c[z+ae]=w[ae]}else c.push(w)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var oe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ye(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let $=0;$<C.length;$++)v=C[$],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function O(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class wt{constructor(){this.h=this.g=null}add(y,v){const w=it.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var it=new Q(()=>new J,c=>c.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,qe=new wt,M=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(re)}};var re=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){V(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ce(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}b(Ne,se);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Xn(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++et,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wi(c){this.src=c,this.g={},this.h=0}wi.prototype.add=function(c,y,v,w,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=os(c,y,w,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new Xn(y,this.src,$,!!w,z),y.fa=v,c.push(y)),y};function as(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(w,z,1),$&&(ur(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function os(c,y,v,w){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==w)return z}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Oo={};function Ou(c,y,v,w,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Ou(c,y[$],v,w,z);return null}return v=Du(v),c&&c[Nt]?c.K(y,v,g(w)?!!w.capture:!1,z):wn(c,y,v,!1,w,z)}function wn(c,y,v,w,z,$){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Le=oa(c);if(Le||(c[ls]=Le=new wi(c)),v=Le.add(y,v,w,ae,$),v.proxy)return v;if(w=Rf(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)_e||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(us(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Rf(){function c(v){return y.call(c.src,c.listener,v)}const y=Cf;return c}function Do(c,y,v,w,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Do(c,y[$],v,w,z);else w=g(w)?!!w.capture:!!w,v=Du(v),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],v=os($,v,w,z),-1<v&&(ur($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,v,w,z)),(v=-1<c?y[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])as(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(us(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=oa(y))?(as(v,c),v.h==0&&(v.src=null,y[ls]=null)):ur(c)}}}function us(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function Cf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&aa(c),c=v.call(w,y)}return c}function oa(c){return c=c[ls],c instanceof wi?c:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(c){return typeof c=="function"?c:(c[No]||(c[No]=function(y){return c.handleEvent(y)}),c[No])}function ct(){ue.call(this),this.i=new wi(this),this.M=this,this.F=null}b(ct,ue),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,y,v,w){Do(this,c,y,v,w)};function Ke(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(w,c),P(y,z)}if(z=!0,v)for(var $=v.length-1;0<=$;$--){var ae=y.g=v[$];z=mn(ae,w,!0,y)&&z}if(ae=y.g=c,z=mn(ae,w,!0,y)&&z,z=mn(ae,w,!1,y)&&z,v)for($=0;$<v.length;$++)ae=y.g=v[$],z=mn(ae,w,!1,y)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)ur(v[w]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ct.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function mn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==v){var Le=ae.listener,Rt=ae.ha||ae.src;ae.fa&&as(c.i,ae),z=Le.call(Rt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Qt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Nu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class If extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){ue.call(this),this.h=c,this.g={}}b(cs,ue);var hs=[];function fs(c){ye(c.g,function(y,v){this.g.hasOwnProperty(v)&&aa(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,la=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function Po(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){se.call(this,"d")}b(Ri,se);function Vo(){se.call(this,"c")}b(Vo,se);var Wn={},ko=null;function cr(){return ko=ko||new ct}Wn.La="serverreachability";function ua(c){se.call(this,Wn.La,c)}b(ua,se);function hr(c){const y=cr();Ke(y,new ua(y))}Wn.STAT_EVENT="statevent";function xu(c,y){se.call(this,Wn.STAT_EVENT,c),this.stat=y}b(xu,se);function rt(c){const y=cr();Ke(y,new xu(y,c))}Wn.Ma="timingevent";function bt(c,y){se.call(this,Wn.Ma,c),this.size=y}b(bt,se);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Lo(c,y,v,w,z,$){c.info(function(){if(c.g)if($)for(var ae="",Le=$.split("&"),Rt=0;Rt<Le.length;Rt++){var Ue=Le[Rt].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Ct=Mt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(Mt+"="+Ue+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Of(c,y,v,w,z,$,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+$+" "+ae})}function fr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,v)+(w?" "+w:"")})}function Mu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return jn(v)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Zn(){}b(Zn,xo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Jn=new Zn;function tn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Uo={},ca={};function zn(c,y,v){c.L=1,c.v=vs(pn(y)),c.m=v,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),ps(c),c.A=pn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Fo(v.i,"t",w),c.C=0,v=c.j.J,c.h=new dt,c.g=Yu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new If(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(hs[0]=z.toString()),z=hs);for(var $=0;$<z.length;$++){var ae=Ou(v,z[$],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=On(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=ki?hr(3):hr(2)),mr(this);var v=this.g.Z();this.X=v;t:if(Pu(this)){var w=Bu(this.g);c="";var z=w.length,$=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ei(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Of(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Rt=this.g;if((Le=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)fr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,v);else{this.o=!1,this.s=3,rt(12),Ut(this),ei(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<ae.length;)if(jt=Vu(this,ae),jt==ca){Ct==4&&(this.s=4,rt(14),v=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Uo){this.s=4,rt(15),fr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else fr(this.i,this.l,jt,null),gs(this,jt);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),v=!1),this.o=this.o&&v,!v)fr(this.i,this.l,ae,"[Invalid Chunked Response]"),Ut(this),ei(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Cs(Mt),Mt.M=!0,rt(11))}}else fr(this.i,this.l,ae,null),gs(this,ae);Ct==4&&Ut(this),this.o&&!this.J&&(Ct==4?Ku(this.j,this):(this.o=!1,ps(this)))}else Pf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Ut(this),ei(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?ca:(v=Number(y.substring(v,w)),isNaN(v)?Uo:(w+=1,w+v>y.length?ca:(y=y.slice(w,w+v),c.C=w+v,y)))}tn.prototype.cancel=function(){this.J=!0,Ut(this)};function ps(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(S(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mu(this.i,this.A),this.L!=2&&(hr(),rt(17)),Ut(this),this.s=2,ei(this)):ku(this,this.S-c)};function ei(c){c.j.G==0||c.J||Ku(c.j,c)}function Ut(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||jo(v.h,c))){if(!c.K&&jo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Aa(v),Ea(v);else break e;Yo(v),rt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(S(v.Za,v),6e3));if(1>=fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vi(v,11)}else if((c.K||v.g==c)&&Aa(v),!W(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Ue=z[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const Ct=Ue[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const ki=Ue[5];ki!=null&&typeof ki=="number"&&0<ki&&(w=1.5*ki,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const jt=c.g;if(jt){const oi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var $=w.h;$.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(da($,$.h),$.h=null))}if(w.D){const Wo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(w.ya=Wo,Ye(w.I,w.D,Wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ae=c;if(w.qa=$u(w,w.J?w.ia:null,w.W),ae.K){nn(w.h,ae);var Le=ae,Rt=w.L;Rt&&(Le.I=Rt),Le.B&&(mr(Le),ps(Le)),w.g=ae}else Fu(w);0<v.i.length&&Ta(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Vi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Vi(v,7):Qo(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}hr(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Oi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Oi.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ma(c),w=Df(c),z=w.length,$=0;$<z;$++)y.call(void 0,w[$],v&&v[$],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var $=c[v].substring(0,w);z=c[v].substring(w+1)}else $=c[v];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,v=new Ni;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Di(this,v),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),pr(this,y[4]),this.l=Rn(y[5]||"",!0),Di(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,qo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,qo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?xf:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,pa)),c.join("")};function pn(c){return new _t(c)}function _s(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Di(c,y,v){y instanceof Ni?(c.i=y,ju(c.i,c.h)):(v||(y=Es(y,Mf)),c.i=new Ni(y,c.h))}function Ye(c,y,v){c.i.set(y,v)}function vs(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,xf=/[#\?]/g,Mf=/[#\?@]/g,pa=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ni.prototype,i.add=function(c,y){Cn(this),this.i=null,c=ti(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function xi(c,y){Cn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return Cn(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let $=0;$<z.length;$++)v.push(y[w])}return v},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=ti(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,v){xi(c,y),0<v.length&&(c.i=null,c.g.set(ti(c,y),U(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const $=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var z=$;ae[w]!==""&&(z+="="+encodeURIComponent(String(ae[w]))),c.push(z)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(xi(this,w),Fo(this,z,v))},c)),c.j=y}function Ts(c,y){const v=new bn;if(m.Image){const w=new Image;w.onload=N(In,v,"TestLoadImage: loaded",!0,y,w),w.onerror=N(In,v,"TestLoadImage: error",!1,y,w),w.onabort=N(In,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(In,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Bn(c,y){const v=new bn,w=new AbortController,z=setTimeout(()=>{w.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(z),$.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function As(){this.g=new ds}function ni(c,y,v){const w=v||"";try{Bo(c,function(z,$){let ae=z;g(z)&&(ae=jn(z)),y.push(w+$+"="+encodeURIComponent(ae))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}b(gr,xo),gr.prototype.g=function(){return new Pi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Pi,ct),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return ye(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function xt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Ko(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,y,v))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Fe,ct);var ga=/^https?$/i,Ss=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Mo(this.o):Mo(Jn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){zu(this,$);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch($){zu(this,$)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),si(c)}function ya(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},i.bb=function(){_a(this)};function _a(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Qt(c.Ea,0,c);else if(Ke(c,"readystatechange"),On(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ae===0){var z=String(c.D).match(ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!ga.test(z?z.toLowerCase():"")}v=w}if(v)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var $=2<On(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",ya(c)}}finally{si(c)}}}}function si(c,y){if(c.g){ws(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{v.onreadystatechange=w}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(W(c[w]))continue;var v=L(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[z]||[];y[z]=$,$.push(v)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=va.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){rt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=$u(this,null,this.W),Ta(this)};function Qo(c){if(qu(c),c.G==3){var y=c.U++,v=pn(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Rs(c,v),y=new tn(c,c.j,y),y.L=2,y.v=vs(pn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Qu(c)}function Ea(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function qu(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||M(),pe||(le(),pe=!0),qe.add(y,c),c.B=0}}function Vf(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(S(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new tn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),P($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,z,y),v=pn(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Rs(this,v),$&&(this.O?y="headers="+encodeURIComponent(String(Ko($)))+"&"+y:this.m&&xt(v,this.m,$)),da(this.h,z),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",y),Ye(v,"SID","null"),z.T=!0,zn(z,v,null)):zn(z,v,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||ha(this.h)||$o(this))};function $o(c,y){var v;y?v=y.l:v=c.U++;const w=pn(c.I);Ye(w,"SID",c.K),Ye(w,"RID",v),Ye(w,"AID",c.T),Rs(c,w),c.m&&c.o&&xt(w,c.m,c.o),v=new tn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,v),zn(v,w,y)}function Rs(c,y){c.H&&ye(c.H,function(v,w){Ye(y,w,v)}),c.l&&Bo({},function(v,w){Ye(y,w,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=z[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Le=!0;for(let Rt=0;Rt<v;Rt++){let Ue=z[Rt].g;const Mt=z[Rt].map;if(Ue-=$,0>Ue)$=Math.max(0,z[Rt].g-100),Le=!1;else try{ni(Mt,ae,"req"+Ue+"_")}catch{w&&w(Mt)}}if(Le){w=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||M(),pe||(le(),pe=!0),qe.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(S(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ea(this),Gu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=vs(pn(y)),v.m=null,v.P=!0,Ii(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),Yo(this),rt(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){Aa(c),Cs(c),c.g=null;var w=2}else if(jo(c.h,y))v=y.D,nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=cr(),Ke(w,new bt(w,v)),Ta(c)}else Fu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Vf(c,y)||w==2&&Yo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Xo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const z=!w;w=new _t(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(w,"https"),vs(w),z?Ts(w.toString(),v):Bn(w.toString(),v)}else rt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),qu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ka,y),D(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function $u(c,y,v){var w=v instanceof _t?pn(v):new _t(v);if(w.g!="")y&&(w.g=y+"."+w.g),pr(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new _t(null);w&&_s($,w),y&&($.g=y),z&&pr($,z),v&&($.l=v),w=$}return v=c.D,y=c.ya,v&&y&&Ye(w,v,y),Ye(w,"VER",c.la),Rs(c,w),w}function Yu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new gr({eb:v})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}i=Xu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ct.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}b(rn,ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Qo(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&Ta(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,rn.aa.N.call(this)};function Wu(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Wu,Ri);function Ju(){Vo.call(this),this.status=1}b(Ju,Vo);function ai(c){this.g=c}b(ai,Xu),ai.prototype.ua=function(){Ke(this.g,"a")},ai.prototype.ta=function(c){Ke(this.g,new Wu(c))},ai.prototype.sa=function(c){Ke(this.g,new Ju)},ai.prototype.ra=function(){Ke(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,zA=function(){return new Sa},jA=function(){return cr()},UA=Wn,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,ph=dr,Ci.COMPLETE="complete",LA=Ci,Po.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Fl=Po,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,kA=Fe}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",JE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Vp("@firebase/firestore");function Ja(){return Ws.logLevel}function he(i,...e){if(Ws.logLevel<=Ve.DEBUG){const t=e.map(Wp);Ws.debug(`Firestore (${wo}): ${i}`,...t)}}function ar(i,...e){if(Ws.logLevel<=Ve.ERROR){const t=e.map(Wp);Ws.error(`Firestore (${wo}): ${i}`,...t)}}function lo(i,...e){if(Ws.logLevel<=Ve.WARN){const t=e.map(Wp);Ws.warn(`Firestore (${wo}): ${i}`,...t)}}function Wp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,BA(i,s,t)}function BA(i,e,t){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ar(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||BA(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class tN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new qA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class iN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new iN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ZE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function fp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=HA(),h=oN(u.encode(eT(i,t)),u.encode(eT(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function eT(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function oN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function uo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=-62135596800,nT=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*nT);return new St(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tT)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new St(0,0))}static max(){return new be(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__name__";class mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return De(e.length,t.length)}static compareSegments(e,t){const s=mi.isNumericId(e),o=mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(t)):fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class nt extends mi{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return lN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iT}static keyField(){return new Ft([iT])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function uN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new St(t+1,0):new St(t,s));return new Xr(o,ge.empty(),e)}function cN(i){return new Xr(i.readTime,i.key,au)}class Xr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xr(be.min(),ge.empty(),au)}static max(){return new Xr(be.max(),ge.empty(),au)}}function hN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==fN)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,s)=>{t(e)})}static reject(e){return new ie((t,s)=>{s(e)})}static waitFor(e){return new ie((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next(o=>o?ie.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ie((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ie((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function mN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function sf(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function pN(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="";function gN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=rT(e)),e=yN(i.get(t),e);return rT(e)}function yN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case GA:t+="";break;default:t+=u}}return t}function rT(i){return i+GA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function rs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function KA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aT(this.data.getIterator())}getIteratorFrom(e){return new aT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class aT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Dt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new QA("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const _N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=_N.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="server_timestamp",YA="__type__",XA="__previous_value__",WA="__local_write_time__";function Zp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[YA])===null||t===void 0?void 0:t.stringValue)===$A}function af(i){const e=i.mapValue.fields[XA];return Zp(e)?af(e):e}function ou(i){const e=Wr(i.mapValue.fields[WA].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Mh="(default)";class lu{constructor(e,t){this.projectId=e,this.database=t||Mh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="__type__",EN="__max__",ih={mapValue:{}},ZA="__vector__",Ph="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zp(i)?4:AN(i)?9007199254740991:TN(i)?10:11:Ae(28295,{value:i})}function Ti(i,e){if(i===e)return!0;const t=Zr(i);if(t!==Zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Wr(o.timestampValue),m=Wr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?xh(h)===xh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(sT(h)!==sT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ti(h[p],m[p])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function uu(i,e){return(i.values||[]).find(t=>Ti(t,e))!==void 0}function co(i,e){if(i===e)return 0;const t=Zr(i),s=Zr(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return oT(i.timestampValue,e.timestampValue);case 4:return oT(ou(i),ou(e));case 5:return fp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Jr(u),p=Jr(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=De(m[g],p[g]);if(_!==0)return _}return De(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=De(gt(u.latitude),gt(h.latitude));return m!==0?m:De(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return lT(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const A=u.fields||{},S=h.fields||{},N=(m=A[Ph])===null||m===void 0?void 0:m.arrayValue,b=(p=S[Ph])===null||p===void 0?void 0:p.arrayValue,U=De(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:lT(N,b)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===ih.mapValue&&h===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const S=fp(p[A],_[A]);if(S!==0)return S;const N=co(m[p[A]],g[_[A]]);if(N!==0)return N}return De(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function oT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=Wr(i),s=Wr(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function lT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=co(t[o],s[o]);if(u)return u}return De(t.length,s.length)}function ho(i){return dp(i)}function dp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=dp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${dp(t.fields[h])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function gh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(i);return e?16+gh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+gh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(u,h)=>{o+=u.length+gh(h)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function uT(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function mp(i){return!!i&&"integerValue"in i}function eg(i){return!!i&&"arrayValue"in i}function cT(i){return!!i&&"nullValue"in i}function hT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yh(i){return!!i&&"mapValue"in i}function TN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[JA])===null||t===void 0?void 0:t.stringValue)===ZA}function Xl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return rs(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Xl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function AN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===EN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){rs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Xl(this.value))}}function eS(i){const e=[];return rs(i.fields,(t,s)=>{const o=new Ft([t]);if(yh(s)){const u=eS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,be.min(),be.min(),be.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,be.min(),be.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,be.min(),be.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function fT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=co(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function SN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{}class At extends tS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new bN(e,t,s):t==="array-contains"?new IN(e,s):t==="in"?new ON(e,s):t==="not-in"?new DN(e,s):t==="array-contains-any"?new NN(e,s):new At(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RN(e,s):new CN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(co(t,this.value)):t!==null&&Zr(this.value)===Zr(t)&&this.matchesComparison(co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends tS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Qn(e,t)}matches(e){return nS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nS(i){return i.op==="and"}function iS(i){return wN(i)&&nS(i)}function wN(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function pp(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(iS(i))return i.filters.map(e=>pp(e)).join(",");{const e=i.filters.map(t=>pp(t)).join(",");return`${i.op}(${e})`}}function rS(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(i,e):i instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&rS(h,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function sS(i){return i instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ho(t.value)}`}(i):i instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map(sS).join(" ,")+"}"}(i):"Filter"}class bN extends At{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class RN extends At{constructor(e,t){super(e,"in",t),this.keys=aS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CN extends At{constructor(e,t){super(e,"not-in",t),this.keys=aS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ge.fromName(s.referenceValue))}class IN extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&uu(t.arrayValue,this.value)}}class ON extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uu(this.value.arrayValue,t)}}class DN extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uu(this.value.arrayValue,t)}}class NN extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>uu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function mT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new xN(i,e,t,s,o,u,h)}function tg(i){const e=Re(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>pp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ho(s)).join(",")),e.Ie=t}return e.Ie}function ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!SN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!rS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!dT(i.startAt,e.startAt)&&dT(i.endAt,e.endAt)}function gp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function MN(i,e,t,s,o,u,h,m){return new Co(i,e,t,s,o,u,h,m)}function ig(i){return new Co(i)}function pT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function oS(i){return i.collectionGroup!==null}function Wl(i){const e=Re(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new cu(u,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new cu(Ft.keyField(),s))}return e.Ee}function _i(i){const e=Re(i);return e.de||(e.de=PN(e,Wl(i))),e.de}function PN(i,e){if(i.limitType==="F")return mT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)});const t=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return mT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function yp(i,e){const t=i.filters.concat([e]);return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function _p(i,e,t){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function of(i,e){return ng(_i(i),_i(e))&&i.limitType===e.limitType}function lS(i){return`${tg(_i(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>sS(o)).join(", ")}]`),sf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ho(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=fT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Wl(s),o)||s.endAt&&!function(h,m,p){const g=fT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Wl(s),o))}(i,e)}function VN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uS(i){return(e,t)=>{let s=!1;for(const o of Wl(i)){const u=kN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kN(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new ut(ge.comparator);function or(){return LN}const cS=new ut(ge.comparator);function Gl(...i){let e=cS;for(const t of i)e=e.insert(t.key,t);return e}function hS(i){let e=cS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Gs(){return Jl()}function fS(){return Jl()}function Jl(){return new ta(i=>i.toString(),(i,e)=>i.isEqual(e))}const UN=new ut(ge.comparator),jN=new Dt(ge.comparator);function ke(...i){let e=jN;for(const t of i)e=e.add(t);return e}const zN=new Dt(De);function BN(){return zN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function dS(i){return{integerValue:""+i}}function qN(i,e){return pN(e)?dS(e):rg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function HN(i,e,t){return i instanceof kh?function(o,u){const h={fields:{[YA]:{stringValue:$A},[WA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zp(u)&&(u=af(u)),u&&(h.fields[XA]=u),{mapValue:h}}(t,e):i instanceof fo?pS(i,e):i instanceof mo?gS(i,e):function(o,u){const h=mS(o,u),m=gT(h)+gT(o.Re);return mp(h)&&mp(o.Re)?dS(m):rg(o.serializer,m)}(i,e)}function FN(i,e,t){return i instanceof fo?pS(i,e):i instanceof mo?gS(i,e):t}function mS(i,e){return i instanceof Lh?function(s){return mp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class kh extends uf{}class fo extends uf{constructor(e){super(),this.elements=e}}function pS(i,e){const t=yS(e);for(const s of i.elements)t.some(o=>Ti(o,s))||t.push(s);return{arrayValue:{values:t}}}class mo extends uf{constructor(e){super(),this.elements=e}}function gS(i,e){let t=yS(e);for(const s of i.elements)t=t.filter(o=>!Ti(o,s));return{arrayValue:{values:t}}}class Lh extends uf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function gT(i){return gt(i.integerValue||i.doubleValue)}function yS(i){return eg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.field=e,this.transform=t}}function GN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fo&&o instanceof fo||s instanceof mo&&o instanceof mo?uo(s.elements,o.elements,Ti):s instanceof Lh&&o instanceof Lh?Ti(s.Re,o.Re):s instanceof kh&&o instanceof kh}(i.transform,e.transform)}class KN{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cf{}function vS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sg(i.key,Un.none()):new Su(i.key,i.data,Un.none());{const t=i.data,s=hn.empty();let o=new Dt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ss(i.key,s,new Sn(o.toArray()),Un.none())}}function QN(i,e,t){i instanceof Su?function(o,u,h){const m=o.value.clone(),p=_T(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ss?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=_T(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(ES(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Zl(i,e,t,s){return i instanceof Su?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=u.value.clone(),_=vT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ss?function(u,h,m,p){if(!_h(u.precondition,h))return m;const g=vT(u.fieldTransforms,p,h),_=h.data;return _.setAll(ES(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function $N(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=mS(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function yT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,h)=>GN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends cf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends cf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ES(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function _T(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,FN(h,m,t[o]))}return s}function vT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,HN(u,h,e))}return s}class sg extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YN extends cf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Zl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Zl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=fS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=vS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(t,s)=>yT(t,s))&&uo(this.baseMutations,e.baseMutations,(t,s)=>yT(t,s))}}class ag{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return UN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ag(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function ZN(i){switch(i){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function TS(i){if(i===void 0)return ar("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Tt.OK:return ne.OK;case Tt.CANCELLED:return ne.CANCELLED;case Tt.UNKNOWN:return ne.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ne.INTERNAL;case Tt.UNAVAILABLE:return ne.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ne.NOT_FOUND;case Tt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tt.ABORTED:return ne.ABORTED;case Tt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:i})}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Qr([4294967295,4294967295],0);function ET(i){const e=HA().encode(i),t=new VA;return t.update(e),new Uint8Array(t.digest())}function TT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([t,s],0),new Qr([o,u],0)]}class og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Qr.fromNumber(s)));return o.compare(ex)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ET(e),[s,o]=TT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new og(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=ET(e),[s,o]=TT(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new hf(be.min(),o,new ut(De),or(),ke())}}class wu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new wu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class AS{constructor(e,t){this.targetId=e,this.Ce=t}}class SS{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class AT{constructor(){this.Fe=0,this.Me=ST(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),t=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new wu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=ST()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tx{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=rh(),this.Ye=rh(),this.Ze=new ut(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(gp(u))if(s===0){const h=new ge(u.path);this.tt(t,h,Jt.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Jr(s).toUint8Array()}catch(p){if(p instanceof QA)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(h,o,u)}catch(p){return lo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&gp(m.target)){const p=new ge(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Jt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new hf(e,t,this.Ze,this.He,s);return this.He=or(),this.Je=rh(),this.Ye=rh(),this.Ze=new ut(De),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new AT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function rh(){return new ut(ge.comparator)}function ST(){return new ut(ge.comparator)}const nx={asc:"ASCENDING",desc:"DESCENDING"},ix={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rx={and:"AND",or:"OR"};class sx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(i,e){return i.useProto3Json||sf(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ax(i,e){return Uh(i,e.toTimestamp())}function vi(i){return Ge(!!i,49232),be.fromTimestamp(function(t){const s=Wr(t);return new St(s.seconds,s.nanos)}(i))}function lg(i,e){return Ep(i,e).canonicalString()}function Ep(i,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function bS(i){const e=nt.fromString(i);return Ge(DS(e),10190,{key:e.toString()}),e}function Tp(i,e){return lg(i.databaseId,e.path)}function Fm(i,e){const t=bS(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(CS(t))}function RS(i,e){return lg(i.databaseId,e)}function ox(i){const e=bS(i);return e.length===4?nt.emptyPath():CS(e)}function Ap(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function CS(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function wT(i,e,t){return{name:Tp(i,e),fields:t.value.mapValue.fields}}function lx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Kt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ne.UNKNOWN:TS(g.code);return new fe(_,g.message||"")}(h);t=new SS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(i,s.document.name),u=vi(s.document.updateTime),h=s.document.createTime?vi(s.document.createTime):be.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new vh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(i,s.document),u=s.readTime?vi(s.readTime):be.min(),h=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new vh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(i,s.document),u=s.removedTargetIds||[];t=new vh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new JN(o,u),m=s.targetId;t=new AS(m,h)}}return t}function ux(i,e){let t;if(e instanceof Su)t={update:wT(i,e.key,e.value)};else if(e instanceof sg)t={delete:Tp(i,e.key)};else if(e instanceof ss)t={update:wT(i,e.key,e.data),updateMask:_x(e.fieldMask)};else{if(!(e instanceof YN))return Ae(16599,{ft:e.type});t={verify:Tp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ax(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),t}function cx(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?vi(o.updateTime):vi(u);return h.isEqual(be.min())&&(h=vi(u)),new KN(h,o.transformResults||[])}(t,e))):[]}function hx(i,e){return{documents:[RS(i,e.path)]}}function fx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=RS(i,o);const u=function(g){if(g.length!==0)return OS(Qn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(S){return{field:eo(S.field),direction:px(S.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=vp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function dx(i){let e=ox(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const S=IS(A);return S instanceof Qn&&iS(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(S=>function(b){return new cu(to(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,sf(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(A){const S=!!A.before,N=A.values||[];return new Vh(N,S)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const S=!A.before,N=A.values||[];return new Vh(N,S)}(t.endAt)),MN(e,o,h,u,m,"F",p,g)}function mx(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=to(t.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(t.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(t.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(t.unaryFilter.field);return At.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return At.create(to(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(s=>IS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function px(i){return nx[i]}function gx(i){return ix[i]}function yx(i){return rx[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Ft.fromServerFormat(i.fieldPath)}function OS(i){return i instanceof At?function(t){if(t.op==="=="){if(hT(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NAN"}};if(cT(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hT(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NAN"}};if(cT(t.value))return{unaryFilter:{field:eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(t.field),op:gx(t.op),value:t.value}}}(i):i instanceof Qn?function(t){const s=t.getFilters().map(o=>OS(o));return s.length===1?s[0]:{compositeFilter:{op:yx(t.op),filters:s}}}(i):Ae(54877,{filter:i})}function _x(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,s,o,u=be.min(),h=be.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.wt=e}}function Ex(i){const e=dx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.yn=new Ax}addToCollectionParentIndex(e,t){return this.yn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Xr.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Ax{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(NS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new po(0)}static ir(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="LruGarbageCollector",Sx=1048576;function CT([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class wx{constructor(e){this.cr=e,this.buffer=new Dt(CT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();CT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(RT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ro(t)?he(RT,"Ignoring IndexedDB error during garbage collection: ",t):await bo(t)}await this.Ir(3e5)})}}class Rx{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(rf.le);const s=new wx(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(bT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ja()<=Ve.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function Cx(i,e){return new Rx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Zl(s.mutation,o,Sn.empty(),St.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Gl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Gs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=or();const h=Jl(),m=function(){return Jl()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ss)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Zl(_.mutation,g,_.mutation.getFieldMask(),St.now())):h.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var A;return m.set(g,new Ox(_,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Jl();let o=new ut((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||Sn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const A=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,A=fS();_.forEach(S=>{if(!u.has(S)){const N=vS(t.get(S),s.get(S));N!==null&&A.set(S,N),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ie.resolve(Gs());let m=au,p=u;return h.next(g=>ie.forEach(g,(_,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(_=>({batchId:m,changes:hS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(A,S){return new Co(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((A,S)=>{h=h.insert(A,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Jt.newInvalidDocument(_)))});let m=Gl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Zl(_.mutation,g,Sn.empty(),St.now()),lf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:Ex(o.bundledQuery),readTime:vi(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.overlays=new ut(ge.comparator),this.Or=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Gs();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=Gs(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ut((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Gs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WN(t,s));let u=this.Or.get(t);u===void 0&&(u=ke(),this.Or.set(t,u)),this.Or.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Nr=new Dt(Lt.Br),this.Lr=new Dt(Lt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new Lt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new ge(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),u.push(h.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ge(new nt([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.Lr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ge.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Dt(Lt.Br)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.zr=this.zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.Jn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],h=>{const m=this.jr(h.Gr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(De);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,h],m=>{s=s.add(m.Gr)})}),ie.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let m=new Dt(De);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},h),ie.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ie.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new Lt(t,0),o=this.zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.Zr=e,this.docs=function(){return new ut(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=or();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=or();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||hN(cN(_),s)<=0||(o.has(_.key)||lf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}Xr(e,t){return ie.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new kx(this)}getSize(e){return ie.resolve(this.size)}}class kx extends Ix{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ie.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.persistence=e,this.ei=new ta(t=>tg(t),ng),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ti=0,this.ni=new ug,this.targetCount=0,this.ri=po.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),ie.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new po(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.ar(t),ie.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.ii={},this.overlays={},this.si=new rf(0),this.oi=!1,this.oi=!0,this._i=new Mx,this.referenceDelegate=e(this),this.ai=new Lx(this),this.indexManager=new Tx,this.remoteDocumentCache=function(o){return new Vx(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new vx(t),this.ci=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new Px(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new Ux(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return ie.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class Ux extends dN{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ti=new ug,this.Ii=null}static Ei(e){return new cg(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,s=>{const o=ge.fromPath(s);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ie.or([()=>ie.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class jh{constructor(e,t){this.persistence=e,this.Ri=new ta(s=>gN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Cx(this,t)}static Ei(e,t){return new jh(e,t)}li(){}hi(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return ie.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ie.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}gr(e,t,s){return ie.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return K1()?8:mN(en())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Vs(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new jx;return this.fs(e,t,h).next(m=>{if(u.result=m,this.Is)return this.gs(e,t,h,m.size)})}).next(()=>u.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Ja()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ie.resolve()):(Ja()<=Ve.DEBUG&&he("QueryEngine","Query:",Za(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ja()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ie.resolve())}Rs(e,t){if(pT(t))return ie.resolve(null);let s=_i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=_p(t,null,"F"),s=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(t,m);return this.ys(t,g,h,p.readTime)?this.Rs(e,_p(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,s,o){return pT(t)||o.isEqual(be.min())?ie.resolve(null):this.As.getDocuments(e,s).next(u=>{const h=this.ps(t,u);return this.ys(t,h,s,o)?ie.resolve(null):(Ja()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(t)),this.ws(e,h,t,uN(o,au)).next(m=>m))})}ps(e,t){let s=new Dt(uS(e));return t.forEach((o,u)=>{lf(e,u)&&(s=s.add(u))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,s){return Ja()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Za(t)),this.As.getDocumentsMatchingQuery(e,t,Xr.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",Bx=3e8;class qx{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new ut(De),this.Ds=new ta(u=>tg(u),ng),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Hx(i,e,t,s){return new qx(i,e,t,s)}async function MS(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:h,addedBatchIds:m}))})})}function Fx(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const A=g.batch,S=A.keys();let N=ie.resolve();return S.forEach(b=>{N=N.next(()=>_.getEntry(p,b)).next(U=>{const D=g.docVersions.get(b);Ge(D!==null,48541),U.version.compareTo(D)<0&&(A.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function PS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Gx(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((_,A)=>{const S=o.get(A);if(!S)return;m.push(t.ai.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.ai.addMatchingKeys(u,_.addedDocuments,A)));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(Kt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,s)),o=o.insert(A,N),function(U,D,Q){return U.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=Bx?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,N,_)&&m.push(t.ai.updateTargetData(u,N))});let p=or(),g=ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(Kx(u,h,e.documentUpdates).next(_=>{p=_.xs,g=_.Os})),!s.isEqual(be.min())){const _=t.ai.getLastRemoteSnapshotVersion(u).next(A=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ie.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=o,u))}function Kx(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=or();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(fg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:h,Os:o}})}function Qx(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $x(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):t.ai.allocateTargetId(s).next(h=>(o=new Hr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function Sp(i,e,t){const s=Re(i),o=s.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ro(h))throw h;he(fg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function IT(i,e,t){const s=Re(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=Re(p),S=A.Ds.get(_);return S!==void 0?ie.resolve(A.Ss.get(S)):A.ai.getTargetData(g,_)}(s,h,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:ke())).next(m=>(Yx(s,VN(e),m),{documents:m,Ns:u})))}function Yx(i,e,t){let s=i.vs.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class OT{constructor(){this.activeTargetIds=BN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xx{constructor(){this.So=new OT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new OT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="ConnectivityMonitor";class NT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(DT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(DT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function wp(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",Jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,u){const h=wp(),m=this.$o(e,t.toUriEncodedString());he(Gm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),_=mu(g);return this.Ko(e,m,p,s,_).then(A=>(he(Gm,`Received RPC '${e}' ${h}: `,A),A),A=>{throw lo(Gm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Wo(e,t,s,o,u,h){return this.Qo(e,t,s,o,u)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const s=Jx[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class tM extends Zx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,u){const h=wp();return new Promise((m,p)=>{const g=new kA;g.setWithCredentials(!0),g.listenOnce(LA.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ph.NO_ERROR:const A=g.getResponseJson();he(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case ph.TIMEOUT:he(Xt,`RPC '${e}' ${h} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const S=g.getStatus();if(he(Xt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const b=N==null?void 0:N.error;if(b&&b.status&&b.message){const U=function(Q){const W=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN}(b.status);p(new fe(U,b.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:h,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{he(Xt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);he(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}a_(e,t,s){const o=wp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=zA(),m=jA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);let S=!1,N=!1;const b=new eM({Go:D=>{N?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(S||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,D),A.send(D))},zo:()=>A.close()}),U=(D,Q,W)=>{D.listen(Q,X=>{try{W(X)}catch(ce){setTimeout(()=>{throw ce},0)}})};return U(A,Fl.EventType.OPEN,()=>{N||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),b.t_())}),U(A,Fl.EventType.CLOSE,()=>{N||(N=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),b.r_())}),U(A,Fl.EventType.ERROR,D=>{N||(N=!0,lo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),b.r_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),U(A,Fl.EventType.MESSAGE,D=>{var Q;if(!N){const W=D.data[0];Ge(!!W,16349);const X=W,ce=(X==null?void 0:X.error)||((Q=X[0])===null||Q===void 0?void 0:Q.error);if(ce){he(Xt,`RPC '${e}' stream ${o} received error:`,ce);const oe=ce.status;let ye=function(C){const P=Tt[C];if(P!==void 0)return TS(P)}(oe),x=ce.message;ye===void 0&&(ye=ne.INTERNAL,x="Unknown error status: "+oe+" with message "+ce.message),N=!0,b.r_(new fe(ye,x)),A.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,W),b.i_(W)}}),U(m,UA.STAT_EVENT,D=>{D.stat===hp.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===hp.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){return new sx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="PersistentStream";class kS{constructor(e,t,s,o,u,h,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new VS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(xT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(he(xT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nM extends kS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=lx(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?vi(h.readTime):be.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=Ap(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=gp(p)?{documents:hx(u,p)}:{query:fx(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wS(u,h.resumeToken);const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=vp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=mx(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=Ap(this.serializer),t.removeTarget=e,this.F_(t)}}class iM extends kS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=cx(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=Ap(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ux(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{}class sM extends rM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Qo(e,Ep(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())})}Wo(e,t,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,Ep(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ne.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ar(t),this.ea=!1):he("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class oM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(h=>{s.enqueueAndForget(async()=>{na(this)&&(he(Js,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.aa.add(4),await bu(g),g.la.set("Unknown"),g.aa.delete(4),await df(g)}(this))})}),this.la=new aM(s,o)}}async function df(i){if(na(i))for(const e of i.ua)await e(!0)}async function bu(i){for(const e of i.ua)await e(!1)}function LS(i,e){const t=Re(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),gg(t)?pg(t):Io(t).b_()&&mg(t,e))}function dg(i,e){const t=Re(i),s=Io(t);t._a.delete(e),s.b_()&&US(t,e),t._a.size===0&&(s.b_()?s.v_():na(t)&&t.la.set("Unknown"))}function mg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Io(i).U_(e)}function US(i,e){i.ha.Ke(e),Io(i).K_(e)}function pg(i){i.ha=new tx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.la.ta()}function gg(i){return na(i)&&!Io(i).w_()&&i._a.size>0}function na(i){return Re(i).aa.size===0}function jS(i){i.ha=void 0}async function lM(i){i.la.set("Online")}async function uM(i){i._a.forEach((e,t)=>{mg(i,e)})}async function cM(i,e){jS(i),gg(i)?(i.la.ia(e),pg(i)):i.la.set("Unknown")}async function hM(i,e,t){if(i.la.set("Online"),e instanceof SS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){he(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(i,s)}else if(e instanceof vh?i.ha.Xe(e):e instanceof AS?i.ha.ot(e):i.ha.nt(e),!t.isEqual(be.min()))try{const s=await PS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.ha.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u._a.get(g);_&&u._a.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u._a.get(p);if(!_)return;u._a.set(p,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),US(u,p);const A=new Hr(_.target,p,g,_.sequenceNumber);mg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(Js,"Failed to raise snapshot:",s),await zh(i,s)}}async function zh(i,e,t){if(!Ro(e))throw e;i.aa.add(1),await bu(i),i.la.set("Offline"),t||(t=()=>PS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Js,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await df(i)})}function zS(i,e){return e().catch(t=>zh(i,t,e))}async function mf(i){const e=Re(i),t=es(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Jp;for(;fM(e);)try{const o=await Qx(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,dM(e,o)}catch(o){await zh(e,o)}BS(e)&&qS(e)}function fM(i){return na(i)&&i.oa.length<10}function dM(i,e){i.oa.push(e);const t=es(i);t.b_()&&t.W_&&t.G_(e.mutations)}function BS(i){return na(i)&&!es(i).w_()&&i.oa.length>0}function qS(i){es(i).start()}async function mM(i){es(i).H_()}async function pM(i){const e=es(i);for(const t of i.oa)e.G_(t.mutations)}async function gM(i,e,t){const s=i.oa.shift(),o=ag.from(s,e,t);await zS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await mf(i)}async function yM(i,e){e&&es(i).W_&&await async function(s,o){if(function(h){return ZN(h)&&h!==ne.ABORTED}(o.code)){const u=s.oa.shift();es(s).D_(),await zS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await mf(s)}}(i,e),BS(i)&&qS(i)}async function MT(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),he(Js,"RemoteStore received new credentials");const s=na(t);t.aa.add(3),await bu(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await df(t)}async function _M(i,e){const t=Re(i);e?(t.aa.delete(2),await df(t)):e||(t.aa.add(2),await bu(t),t.la.set("Unknown"))}function Io(i){return i.Pa||(i.Pa=function(t,s,o){const u=Re(t);return u.Y_(),new nM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:lM.bind(null,i),Jo:uM.bind(null,i),Zo:cM.bind(null,i),Q_:hM.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),gg(i)?pg(i):i.la.set("Unknown")):(await i.Pa.stop(),jS(i))})),i.Pa}function es(i){return i.Ta||(i.Ta=function(t,s,o){const u=Re(t);return u.Y_(),new iM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:mM.bind(null,i),Zo:yM.bind(null,i),z_:pM.bind(null,i),j_:gM.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await mf(i)):(await i.Ta.stop(),i.oa.length>0&&(he(Js,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new yg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(i,e){if(ar("AsyncQueue",`${e}: ${i}`),Ro(i))return new fe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.Ia=new ut(ge.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class go{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new go(e,t,ao.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class EM{constructor(){this.queries=VT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=VT(),u.forEach((h,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function VT(){return new ta(i=>lS(i),of)}async function HS(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new vM,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=_g(h,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&vg(t)}async function FS(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Ra.indexOf(e);h>=0&&(u.Ra.splice(h,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function TM(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Ra)m.pa(o)&&(s=!0);h.Aa=o}}s&&vg(t)}function AM(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);s.queries.delete(e)}function vg(i){i.fa.forEach(e=>{e.next()})}var bp,kT;(kT=bp||(bp={})).ya="default",kT.Cache="cache";class GS{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class SM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=uS(e),this.Ka=new ao(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new PT,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const S=o.get(_),N=lf(this.query,A)?A:null,b=!!S&&this.mutatedKeys.has(S.key),U=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let D=!1;S&&N?S.data.isEqual(N.data)?b!==U&&(s.track({type:3,doc:N}),D=!0):this.ja(S,N)||(s.track({type:2,doc:N}),D=!0,(p&&this.Ua(N,p)>0||g&&this.Ua(N,g)<0)&&(m=!0)):!S&&N?(s.track({type:0,doc:N}),D=!0):S&&!N&&(s.track({type:1,doc:S}),D=!0,(p||g)&&(m=!0)),D&&(N?(h=h.add(N),u=U?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Ka:h,za:s,ys:m,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((_,A)=>function(N,b){const U=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:D})}};return U(N)-U(b)}(_.type,A.type)||this.Ua(_.doc,A.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,h.length!==0||g?{snapshot:new go(this.query,e.Ka,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new PT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new QS(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new KS(s))}),t}Xa(e){this.qa=e.Ns,this.$a=ke();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return go.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Eg="SyncEngine";class wM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bM{constructor(e){this.key=e,this.tu=!1}}class RM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new ta(m=>lS(m),of),this.iu=new Map,this.su=new Set,this.ou=new ut(ge.comparator),this._u=new Map,this.au=new ug,this.uu={},this.cu=new Map,this.lu=po.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function CM(i,e,t=!0){const s=ZS(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await $S(s,e,t,!0),o}async function IM(i,e){const t=ZS(i);await $S(t,e,!0,!1)}async function $S(i,e,t,s){const o=await $x(i.localStore,_i(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await OM(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&LS(i.remoteStore,o),m}async function OM(i,e,t,s,o){i.Pu=(A,S,N)=>async function(U,D,Q,W){let X=D.view.Ga(Q);X.ys&&(X=await IT(U.localStore,D.query,!1).then(({documents:x})=>D.view.Ga(x,X)));const ce=W&&W.targetChanges.get(D.targetId),oe=W&&W.targetMismatches.get(D.targetId)!=null,ye=D.view.applyChanges(X,U.isPrimaryClient,ce,oe);return UT(U,D.targetId,ye.Ya),ye.snapshot}(i,A,S,N);const u=await IT(i.localStore,e,!0),h=new SM(e,u.Ns),m=h.Ga(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);UT(i,t,g.Ya);const _=new wM(e,t,h);return i.ru.set(e,_),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),g.snapshot}async function DM(i,e,t){const s=Re(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(h=>!of(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&dg(s.remoteStore,o.targetId),Rp(s,o.targetId)}).catch(bo)):(Rp(s,o.targetId),await Sp(s.localStore,o.targetId,!0))}async function NM(i,e){const t=Re(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),dg(t.remoteStore,s.targetId))}async function xM(i,e,t){const s=jM(i);try{const o=await function(h,m){const p=Re(h),g=St.now(),_=m.reduce((N,b)=>N.add(b.key),ke());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let b=or(),U=ke();return p.Cs.getEntries(N,_).next(D=>{b=D,b.forEach((Q,W)=>{W.isValidDocument()||(U=U.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,b)).next(D=>{A=D;const Q=[];for(const W of m){const X=$N(W,A.get(W.key).overlayedDocument);X!=null&&Q.push(new ss(W.key,X,eS(X.value.mapValue),Un.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,Q,m)}).next(D=>{S=D;const Q=D.applyToLocalDocumentSet(A,U);return p.documentOverlayCache.saveOverlays(N,D.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:hS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.uu[h.currentUser.toKey()];g||(g=new ut(De)),g=g.insert(m,p),h.uu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Ru(s,o.changes),await mf(s.remoteStore)}catch(o){const u=_g(o,"Failed to persist write");t.reject(u)}}async function YS(i,e){const t=Re(i);try{const s=await Gx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t._u.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?Ge(h.tu,14607):o.removedDocuments.size>0&&(Ge(h.tu,42227),h.tu=!1))}),await Ru(t,s,e)}catch(s){await bo(s)}}function LT(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((u,h)=>{const m=h.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((_,A)=>{for(const S of A.Ra)S.ga(m)&&(g=!0)}),g&&vg(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MM(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),u=o&&o.key;if(u){let h=new ut(ge.comparator);h=h.insert(u,Jt.newNoDocument(u,be.min()));const m=ke().add(u),p=new hf(be.min(),new Map,new ut(De),h,m);await YS(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Tg(s)}else await Sp(s.localStore,e,!1).then(()=>Rp(s,e,t)).catch(bo)}async function PM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await Fx(t.localStore,e);WS(t,s,null),XS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(t,o)}catch(o){await bo(o)}}async function VM(i,e,t){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null,37113),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);WS(s,e,t),XS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ru(s,o)}catch(o){await bo(o)}}function XS(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function WS(i,e,t){const s=Re(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Rp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||JS(i,s)})}function JS(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(dg(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),Tg(i))}function UT(i,e,t){for(const s of t)s instanceof KS?(i.au.addReference(s.key,e),kM(i,s)):s instanceof QS?(he(Eg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||JS(i,s.key)):Ae(19791,{Iu:s})}function kM(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(he(Eg,"New document in limbo: "+t),i.su.add(s),Tg(i))}function Tg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new ge(nt.fromString(e)),s=i.lu.next();i._u.set(s,new bM(t)),i.ou=i.ou.insert(t,s),LS(i.remoteStore,new Hr(_i(ig(t.path)),s,"TargetPurposeLimboResolution",rf.le))}}async function Ru(i,e,t){const s=Re(i),o=[],u=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{h.push(s.Pu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=hg.Ps(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(p,g){const _=Re(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ie.forEach(g,S=>ie.forEach(S.ls,N=>_.persistence.referenceDelegate.addReference(A,S.targetId,N)).next(()=>ie.forEach(S.hs,N=>_.persistence.referenceDelegate.removeReference(A,S.targetId,N)))))}catch(A){if(!Ro(A))throw A;he(fg,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const N=_.Ss.get(S),b=N.snapshotVersion,U=N.withLastLimboFreeSnapshotVersion(b);_.Ss=_.Ss.insert(S,U)}}}(s.localStore,u))}async function LM(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){he(Eg,"User change. New user:",e.toKey());const s=await MS(t.localStore,e);t.currentUser=e,function(u,h){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new fe(ne.CANCELLED,h))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(t,s.Ms)}}function UM(i,e){const t=Re(i),s=t._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=t.iu.get(e);if(!u)return o;for(const h of u){const m=t.ru.get(h);o=o.unionWith(m.view.Wa)}return o}}function ZS(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MM.bind(null,e),e.nu.Q_=TM.bind(null,e.eventManager),e.nu.Tu=AM.bind(null,e.eventManager),e}function jM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VM.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Hx(this.persistence,new zx,e.initialUser,this.serializer)}Ru(e){return new xS(cg.Ei,this.serializer)}Au(e){return new Xx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class zM extends Bh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bx(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new xS(s=>jh.Ei(s,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const t=ff(e.databaseInfo.databaseId),s=function(u){return new tM(u)}(e.databaseInfo);return function(u,h,m,p){return new sM(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new oM(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>LT(this.syncEngine,t,0),function(){return NT.C()?new NT:new Wx}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const A=new RM(o,u,h,m,p,g);return _&&(A.hu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);he(Js,"RemoteStore shutting down."),u.aa.add(5),await bu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class BM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=FA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=_g(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(i,e){i.asyncQueue.verifyOperationInProgress(),he(ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await MS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function jT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await qM(i);he(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>MT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>MT(e.remoteStore,o)),i._onlineComponents=e}async function qM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ts,"Using user provided OfflineComponentProvider");try{await Qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),await Qm(i,new Bh)}}else he(ts,"Using default OfflineComponentProvider"),await Qm(i,new zM(void 0));return i._offlineComponents}async function tw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ts,"Using user provided OnlineComponentProvider"),await jT(i,i._uninitializedComponentsProvider._online)):(he(ts,"Using default OnlineComponentProvider"),await jT(i,new Cp))),i._onlineComponents}function HM(i){return tw(i).then(e=>e.syncEngine)}async function nw(i){const e=await tw(i),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),t}function FM(i,e,t={}){const s=new tr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new ew({next:S=>{_.yu(),h.enqueueAndForget(()=>FS(u,A));const N=S.docs.has(m);!N&&S.fromCache?g.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new GS(ig(m.path),_,{includeMetadataChanges:!0,Fa:!0});return HS(u,A)}(await nw(i),i.asyncQueue,e,t,s)),s.promise}function GM(i,e,t={}){const s=new tr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new ew({next:S=>{_.yu(),h.enqueueAndForget(()=>FS(u,A)),S.fromCache&&p.source==="server"?g.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new GS(m,_,{includeMetadataChanges:!0,Fa:!0});return HS(u,A)}(await nw(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KM(i,e,t,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function BT(i){if(!ge.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qT(i){if(ge.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function $n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pf(i);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="firestore.googleapis.com",HT=!0;class FT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sw,this.ssl=HT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:HT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sx)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eN;switch(s.type){case"firstParty":return new rN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Kh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=zT.get(t);s&&(he("ComponentProvider","Removing Datastore"),zT.delete(t),s.terminate())}(this),Promise.resolve()}}function QM(i,e,t,s={}){var o;i=$n(i,gf);const u=mu(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;h.host!==sw&&h.host!==p&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ir(g,m)&&(i._setSettings(g),u&&(E0(`https://${p}`),Kh("Firestore",!0)),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Wt.MOCK_USER;else{_=L1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Wt(S)}i._authCredentials=new tN(new qA(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class an{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class $r extends ia{constructor(e,t,s){super(e,t,ig(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ge(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function aw(i,e,...t){if(i=Gt(i),rw("collection","path",e),i instanceof gf){const s=nt.fromString(e,...t);return qT(s),new $r(i,null,s)}{if(!(i instanceof an||i instanceof $r))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return qT(s),new $r(i.firestore,null,s)}}function yf(i,e,...t){if(i=Gt(i),arguments.length===1&&(e=FA.newId()),rw("doc","path",e),i instanceof gf){const s=nt.fromString(e,...t);return BT(s),new an(i,null,new ge(s))}{if(!(i instanceof an||i instanceof $r))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return BT(s),new an(i.firestore,i instanceof $r?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class KT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new VS(this,"async_queue_retry"),this.ju=()=>{const s=Km();s&&he(GT,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new tr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ro(e))throw e;he(GT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ar("INTERNAL UNHANDLED ERROR: ",QT(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Ae(47125,{ec:QT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function QT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ra extends gf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new KT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KT(e),this._firestoreClient=void 0,await e}}}function $M(i,e){const t=typeof i=="object"?i:w0(),s=typeof i=="string"?i:Mh,o=Lp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=V1("firestore");u&&QM(o,...u)}return o}function Ag(i){if(i._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YM(i),i._firestoreClient}function YM(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,_){return new vN(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,iw(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new BM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Kt.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=/^__.*__$/;class WM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}class ow{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:i})}}class vf{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return qh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(lw(this.oc)&&XM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class JM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ff(e)}dc(e,t,s,o=!1){return new vf({oc:e,methodName:t,Ec:s,path:Ft.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ef(i){const e=i._freezeSettings(),t=ff(i._databaseId);return new JM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function uw(i,e,t,s,o,u={}){const h=i.dc(u.merge||u.mergeFields?2:0,e,t,o);Cg("Data must be an object, but it was:",h,s);const m=hw(s,h);let p,g;if(u.merge)p=new Sn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const S=Ip(e,A,t);if(!h.contains(S))throw new fe(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);dw(_,S)||_.push(S)}p=new Sn(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new WM(new hn(m),p,g)}class Tf extends Cu{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tf}}function cw(i,e,t){return new vf({oc:3,Ec:e.settings.Ec,methodName:i._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bg extends Cu{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=cw(this,e,!0),s=this.Ac.map(u=>sa(u,t)),o=new fo(s);return new _S(e.path,o)}isEqual(e){return e instanceof bg&&ir(this.Ac,e.Ac)}}class Rg extends Cu{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=cw(this,e,!0),s=this.Ac.map(u=>sa(u,t)),o=new mo(s);return new _S(e.path,o)}isEqual(e){return e instanceof Rg&&ir(this.Ac,e.Ac)}}function ZM(i,e,t,s){const o=i.dc(1,e,t);Cg("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();rs(s,(p,g)=>{const _=Ig(e,p,t);g=Gt(g);const A=o.hc(_);if(g instanceof Tf)u.push(_);else{const S=sa(g,A);S!=null&&(u.push(_),h.set(_,S))}});const m=new Sn(u);return new ow(h,m,o.fieldTransforms)}function eP(i,e,t,s,o,u){const h=i.dc(1,e,t),m=[Ip(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Ip(e,u[S])),p.push(u[S+1]);const g=[],_=hn.empty();for(let S=m.length-1;S>=0;--S)if(!dw(g,m[S])){const N=m[S];let b=p[S];b=Gt(b);const U=h.hc(N);if(b instanceof Tf)g.push(N);else{const D=sa(b,U);D!=null&&(g.push(N),_.set(N,D))}}const A=new Sn(g);return new ow(_,A,h.fieldTransforms)}function tP(i,e,t,s=!1){return sa(t,i.dc(s?4:3,e))}function sa(i,e){if(fw(i=Gt(i)))return Cg("Unsupported field value:",e,i),hw(i,e);if(i instanceof Cu)return function(s,o){if(!lw(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=sa(m,o.Pc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=St.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof St){const u=new St(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Sg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yo)return{bytesValue:wS(o.serializer,s._byteString)};if(s instanceof an){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wg)return function(h,m){return{mapValue:{fields:{[JA]:{stringValue:ZA},[Ph]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return rg(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${pf(s)}`)}(i,e)}function hw(i,e){const t={};return KA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(i,(s,o)=>{const u=sa(o,e.uc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function fw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof St||i instanceof Sg||i instanceof yo||i instanceof an||i instanceof Cu||i instanceof wg)}function Cg(i,e,t){if(!fw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=pf(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Ip(i,e,t){if((e=Gt(e))instanceof _f)return e._internalPath;if(typeof e=="string")return Ig(i,e);throw qh("Field path arguments must be of type string or ",i,!1,void 0,t)}const nP=new RegExp("[~\\*/\\[\\]]");function Ig(i,e,t){if(e.search(nP)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new _f(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function qh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(ne.INVALID_ARGUMENT,m+i+p)}function dw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Af("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class iP extends mw{data(){return super.data()}}function Af(i,e){return typeof e=="string"?Ig(i,e):e instanceof _f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class pw extends Og{}function sP(i,e,...t){let s=[];e instanceof Og&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Dg).length,m=u.filter(p=>p instanceof Sf).length;if(h>1||h>0&&m>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Sf extends pw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Sf(e,t,s)}_apply(e){const t=this._parse(e);return gw(e._query,t),new ia(e.firestore,e.converter,yp(e._query,t))}_parse(e){const t=Ef(e.firestore);return function(u,h,m,p,g,_,A){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){YT(A,_);const b=[];for(const U of A)b.push($T(p,u,U));S={arrayValue:{values:b}}}else S=$T(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||YT(A,_),S=tP(m,h,A,_==="in"||_==="not-in");return At.create(g,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function aP(i,e,t){const s=e,o=Af("where",i);return Sf._create(o,s,t)}class Dg extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)gw(h,p),h=yp(h,p)}(e._query,t),new ia(e.firestore,e.converter,yp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends pw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ng(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,h)}(e._query,this._field,this._direction);return new ia(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function oP(i,e="asc"){const t=e,s=Af("orderBy",i);return Ng._create(s,t)}function $T(i,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ge.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uT(i,new ge(s))}if(t instanceof an)return uT(i,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(t)}.`)}function YT(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gw(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lP{convertValue(e,t="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return rs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ph].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new wg(u)}convertGeoPoint(e){return new Sg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=af(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(DS(s),9688,{name:e});const o=new lu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends mw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Af("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Eh extends _w{data(e={}){return super.data(e)}}class uP{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Eh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:cP(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(i){i=$n(i,an);const e=$n(i.firestore,ra);return FM(Ag(e),i._key).then(t=>gP(e,i,t))}class vw extends lP{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,t)}}function fP(i){i=$n(i,ia);const e=$n(i.firestore,ra),t=Ag(e),s=new vw(e);return rP(i._query),GM(t,i._query).then(o=>new uP(e,s,i,o))}function dP(i,e,t){i=$n(i,an);const s=$n(i.firestore,ra),o=yw(i.converter,e,t);return wf(s,[uw(Ef(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Un.none())])}function Ew(i,e,t,...s){i=$n(i,an);const o=$n(i.firestore,ra),u=Ef(o);let h;return h=typeof(e=Gt(e))=="string"||e instanceof _f?eP(u,"updateDoc",i._key,e,t,s):ZM(u,"updateDoc",i._key,e),wf(o,[h.toMutation(i._key,Un.exists(!0))])}function mP(i){return wf($n(i.firestore,ra),[new sg(i._key,Un.none())])}function pP(i,e){const t=$n(i.firestore,ra),s=yf(i),o=yw(i.converter,e);return wf(t,[uw(Ef(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function wf(i,e){return function(s,o){const u=new tr;return s.asyncQueue.enqueueAndForget(async()=>xM(await HM(s),o,u)),u.promise}(Ag(i),e)}function gP(i,e,t){const s=t.docs.get(e._key),o=new vw(i);return new _w(i,o,e._key,s,new Ql(t.hasPendingWrites,t.fromCache),e.converter)}function yP(...i){return new bg("arrayUnion",i)}function _P(...i){return new Rg("arrayRemove",i)}(function(e,t=!0){(function(o){wo=o})(Eo),oo(new Qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ra(new nN(s.getProvider("auth-internal")),new sN(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kr(WE,JE,e),Kr(WE,JE,"esm2017")})();const vP={apiKey:"AIzaSyAu5doRHONhFnxVGRQL8V2G7qA1Rtza7vo",authDomain:"kirjahylly-96b27.firebaseapp.com",projectId:"kirjahylly-96b27",storageBucket:"kirjahylly-96b27.firebasestorage.app",messagingSenderId:"278354228484",appId:"1:278354228484:web:174dc5edfbabb843f14c51"},Tw=S0(vP),Iu=$M(Tw),Aw=K0(Tw,{persistence:[aA]}),EP=()=>{const[i,e]=K.useState(""),[t,s]=K.useState(""),[o,u]=K.useState(null),[h,m]=K.useState(!1),p=async g=>{g.preventDefault(),u(null),m(!1);try{await a2(Aw,i,t),m(!0),e(""),s("")}catch(_){u(_.message||"Rekisteröityminen epäonnistui.")}};return B.jsxs("div",{className:"register-container",children:[B.jsx("p",{style:{color:"blue"},children:"Valmistellaan rekisteröitymistä!"}),B.jsx("h2",{children:"Luo uusi käyttäjä"}),B.jsxs("form",{onSubmit:p,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",children:"Sähköposti:"}),B.jsx("input",{id:"email",type:"email",value:i,onChange:g=>e(g.target.value),required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",children:"Salasana:"}),B.jsx("input",{id:"password",type:"password",value:t,onChange:g=>s(g.target.value),required:!0,minLength:6})]}),B.jsx("button",{type:"submit",children:"Rekisteröidy"})]}),o&&B.jsx("p",{style:{color:"red"},children:o}),h&&B.jsx("p",{style:{color:"green"},children:"Rekisteröityminen onnistui!"})]})},XT=()=>{const[i,e]=K.useState(""),[t,s]=K.useState(""),[o,u]=K.useState(null),h=a0(),m=async p=>{p.preventDefault(),u(null);try{await o2(Aw,i,t),h("/countries")}catch{u("Kirjautuminen epäonnistui. Tarkista sähköposti ja salasana.")}};return B.jsxs("div",{className:"login-container",children:[B.jsx("h1",{children:"Tervetuloa Reissulokiin!"}),B.jsx("h2",{children:"Kirjaudu sisään"}),B.jsxs("form",{onSubmit:m,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"login-email",children:"Sähköposti:"}),B.jsx("input",{id:"login-email",type:"email",value:i,onChange:p=>e(p.target.value),required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"login-password",children:"Salasana:"}),B.jsx("input",{id:"login-password",type:"password",value:t,onChange:p=>s(p.target.value),required:!0})]}),B.jsx("button",{type:"submit",children:"Kirjaudu"})]}),o&&B.jsx("p",{style:{color:"red"},children:o}),B.jsxs("p",{children:["Ei tiliä? ",B.jsx(pi,{to:"/register",children:"Rekisteröidy tästä"})]})]})},xg=i=>yf(Iu,"users",i.uid),TP=async(i,e,t)=>{const s=xg(i);await dP(s,{[e]:yP(t)},{merge:!0})},AP=async(i,e,t)=>{const s=xg(i);await Ew(s,{[e]:_P(t)})},eu=async i=>{const e=xg(i),t=await hP(e);if(!t.exists())return{visited:[],wishlist:[]};const s=t.data();return{visited:s.visited||[],wishlist:s.wishlist||[]}},bf="countryComments",SP=async(i,e)=>{const s=Yr().currentUser;if(!s)throw new Error("Kirjautuminen vaaditaan");await pP(aw(Iu,bf),{countryCca3:i,userId:s.uid,userEmail:s.email||"",text:e,createdAt:St.now()})},wP=async i=>{const e=sP(aw(Iu,bf),aP("countryCca3","==",i),oP("createdAt","asc"));return(await fP(e)).docs.map(s=>({id:s.id,...s.data()}))},bP=async(i,e)=>{if(!Yr().currentUser)throw new Error("Kirjautuminen vaaditaan");const o=yf(Iu,bf,i);await Ew(o,{text:e})},RP=async i=>{if(!Yr().currentUser)throw new Error("Kirjautuminen vaaditaan");const s=yf(Iu,bf,i);await mP(s)},CP=()=>{var C,P,L;const{cca3:i}=MR(),[e,t]=K.useState(null),[s,o]=K.useState(!0),[u,h]=K.useState(null),[m,p]=K.useState({visited:[],wishlist:[]}),[g,_]=K.useState([]),[A,S]=K.useState(""),[N,b]=K.useState(null),[U,D]=K.useState(""),W=Yr().currentUser;K.useEffect(()=>{(async()=>{o(!0),h(null);try{if(i){const O=await WD(i);t(O)}}catch{h("Maan tietoja ei voitu hakea.")}finally{o(!1)}})()},[i]),K.useEffect(()=>{W&&i&&eu(W).then(p)},[W,i]);const X=async()=>{if(i){const O=[...await wP(i)].sort((wt,it)=>wt.createdAt.toMillis()-it.createdAt.toMillis());_(O)}};K.useEffect(()=>{X()},[i]);const ce=async V=>{W&&i&&(await TP(W,V,i),eu(W).then(p))},oe=async V=>{W&&i&&(await AP(W,V,i),eu(W).then(p))},ye=async V=>{V.preventDefault(),!(!W||!A.trim()||!i)&&(await SP(i,A.trim()),S(""),await X())},x=async V=>{!W||!U.trim()||(await bP(V,U.trim()),b(null),D(""),await X())},R=async V=>{W&&(await RP(V),await X())};return s?B.jsx("p",{children:"Ladataan tietoja..."}):u?B.jsx("p",{style:{color:"red"},children:u}):e?B.jsxs("div",{className:"country-detail-layout",children:[B.jsxs("div",{className:"country-detail-main",children:[B.jsx(pi,{to:"/countries",children:"← Takaisin listaan"}),B.jsx("h1",{children:e.name.common}),B.jsx("img",{src:e.flags.svg,alt:`Lippu: ${e.name.common}`,style:{maxWidth:200}}),((C=e.coatOfArms)==null?void 0:C.svg)&&B.jsxs("div",{children:[B.jsx("h3",{children:"Vaakuna"}),B.jsx("img",{src:e.coatOfArms.svg,alt:`Vaakuna: ${e.name.common}`,style:{maxWidth:150}})]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Pääkaupunki:"})," ",((P=e.capital)==null?void 0:P.join(", "))||"Ei tietoa"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Väkiluku:"})," ",e.population.toLocaleString("fi-FI")]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Pinta-ala:"})," ",e.area.toLocaleString("fi-FI")," km²"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Maanosa:"})," ",e.region," (",e.subregion,")"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Valuutat:"})," ",e.currencies?Object.values(e.currencies).map(V=>V.name+(V.symbol?` (${V.symbol})`:"")).join(", "):"Ei tietoa"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Kielet:"})," ",e.languages?Object.values(e.languages).join(", "):"Ei tietoa"]}),B.jsxs("p",{children:[B.jsx("strong",{children:"Rajanaapurit:"})," ",(L=e.borders)!=null&&L.length?e.borders.join(", "):"Ei"]}),B.jsx("p",{children:B.jsx("a",{href:e.maps.googleMaps,target:"_blank",rel:"noopener noreferrer",children:"Avaa Google Mapsissa"})}),W&&i&&B.jsx("div",{style:{marginTop:32},children:B.jsxs("div",{style:{display:"flex",gap:16},children:[m.visited.includes(i)?B.jsx("button",{onClick:()=>oe("visited"),style:{background:"#e74c3c",color:"white"},children:"Poista merkintä käynnistäni"}):B.jsx("button",{onClick:()=>ce("visited"),style:{background:"#27ae60",color:"white"},children:"Olen käynyt täällä!"}),m.wishlist.includes(i)?B.jsx("button",{onClick:()=>oe("wishlist"),style:{background:"#e74c3c",color:"white"},children:"Poista matka toivelistaltani!"}):B.jsx("button",{onClick:()=>ce("wishlist"),style:{background:"#2980ef",color:"white"},children:"Haluan matkustaa tänne!"})]})})]}),B.jsx("div",{className:"country-detail-side",children:B.jsxs("div",{className:"comment-section",style:{marginTop:40},children:[B.jsx("h3",{children:"Kommentit"}),W&&i&&B.jsxs("form",{onSubmit:ye,style:{marginBottom:16},children:[B.jsx("textarea",{value:A,onChange:V=>S(V.target.value),rows:2,style:{width:"100%",maxWidth:400},placeholder:"Jätä julkinen kommentti..."}),B.jsx("button",{type:"submit",style:{marginTop:8},children:"Lähetä"})]}),g.length===0&&B.jsx("p",{children:"Ei kommentteja vielä."}),B.jsx("ul",{style:{listStyle:"none",padding:0},children:g.map(V=>B.jsxs("li",{style:{marginBottom:16,background:"#f3f7fa",borderRadius:8,padding:12},children:[B.jsx("div",{style:{fontWeight:500,color:"#185a9d",marginBottom:4},children:V.userEmail||"Tuntematon käyttäjä"}),N===V.id?B.jsxs(B.Fragment,{children:[B.jsx("textarea",{value:U,onChange:O=>D(O.target.value),rows:2,style:{width:"100%",maxWidth:400}}),B.jsxs("div",{style:{marginTop:4},children:[B.jsx("button",{onClick:()=>x(V.id),style:{marginRight:8},children:"Tallenna"}),B.jsx("button",{onClick:()=>{b(null),D("")},children:"Peruuta"})]})]}):B.jsxs(B.Fragment,{children:[B.jsx("div",{style:{marginBottom:4},children:V.text}),W&&W.uid===V.userId&&B.jsxs("div",{children:[B.jsx("button",{onClick:()=>{b(V.id),D(V.text)},style:{marginRight:8,background:"#2980ef",color:"white"},children:"Muokkaa"}),B.jsx("button",{onClick:()=>R(V.id),style:{background:"#e74c3c",color:"white"},children:"Poista"})]})]}),B.jsx("div",{style:{fontSize:12,color:"#888",marginTop:4},children:V.createdAt.toDate().toLocaleString("fi-FI")})]},V.id))})]})})]}):B.jsx("p",{children:"Maatietoja ei löytynyt."})},IP=()=>{const[i,e]=K.useState([]),[t,s]=K.useState(!0),[o,u]=K.useState(null),m=Yr().currentUser;return K.useEffect(()=>{(async()=>{s(!0),u(null);try{if(m){const g=await eu(m),A=(await Xp()).filter(S=>g.visited.includes(S.cca3));e(A.sort((S,N)=>S.name.common.localeCompare(N.name.common)))}}catch{u("Käytyjen maiden hakeminen epäonnistui.")}finally{s(!1)}})()},[m]),m?t?B.jsx("p",{children:"Ladataan käytyjä maita..."}):o?B.jsx("p",{style:{color:"red"},children:o}):B.jsxs("div",{className:"country-list-container",children:[B.jsx("h1",{children:"Käymäni maat"}),i.length===0?B.jsx("p",{children:"Et ole vielä merkinnyt käytyjä maita."}):B.jsx("div",{className:"country-grid",children:i.map(p=>{var g;return B.jsxs(pi,{to:`/country/${p.cca3}`,className:"country-card",children:[B.jsx("img",{src:p.flags.svg,alt:`Lippu: ${p.name.common}`,loading:"lazy"}),B.jsxs("div",{className:"card-content",children:[B.jsx("h2",{children:p.name.common}),B.jsxs("p",{children:["Pääkaupunki: ",((g=p.capital)==null?void 0:g[0])||"Ei tietoa"]}),B.jsxs("p",{children:["Väkiluku: ",p.population.toLocaleString("fi-FI")]}),B.jsxs("p",{children:["Maanosa: ",p.region]})]})]},p.cca3)})})]}):B.jsx("p",{children:"Kirjaudu sisään nähdäksesi käydyt maat."})},OP=()=>{const[i,e]=K.useState([]),[t,s]=K.useState(!0),[o,u]=K.useState(null),m=Yr().currentUser;return K.useEffect(()=>{(async()=>{s(!0),u(null);try{if(m){const g=await eu(m),A=(await Xp()).filter(S=>g.wishlist.includes(S.cca3));e(A.sort((S,N)=>S.name.common.localeCompare(N.name.common)))}}catch{u("Toivelistan hakeminen epäonnistui.")}finally{s(!1)}})()},[m]),m?t?B.jsx("p",{children:"Ladataan toivelistan maita..."}):o?B.jsx("p",{style:{color:"red"},children:o}):B.jsxs("div",{className:"country-list-container",children:[B.jsx("h1",{children:"Haluan matkustaa tänne"}),i.length===0?B.jsx("p",{children:"Et ole vielä lisännyt maita toivelistalle."}):B.jsx("div",{className:"country-grid",children:i.map(p=>{var g;return B.jsxs(pi,{to:`/country/${p.cca3}`,className:"country-card",children:[B.jsx("img",{src:p.flags.svg,alt:`Lippu: ${p.name.common}`,loading:"lazy"}),B.jsxs("div",{className:"card-content",children:[B.jsx("h2",{children:p.name.common}),B.jsxs("p",{children:["Pääkaupunki: ",((g=p.capital)==null?void 0:g[0])||"Ei tietoa"]}),B.jsxs("p",{children:["Väkiluku: ",p.population.toLocaleString("fi-FI")]}),B.jsxs("p",{children:["Maanosa: ",p.region]})]})]},p.cca3)})})]}):B.jsx("p",{children:"Kirjaudu sisään nähdäksesi toivelistan maat."})};function DP(){const[i,e]=K.useState(null),[t,s]=K.useState(!1);return K.useEffect(()=>{const o=Yr(),u=c2(o,h=>{e(h),s(!0)});return()=>u()},[]),t?B.jsx(y1,{children:i?B.jsxs(B.Fragment,{children:[B.jsxs("nav",{style:{position:"fixed",top:0,left:0,width:"100%",background:"#185a9d",color:"white",zIndex:1e3,padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.07)",display:"flex",gap:"1rem",alignItems:"center",fontWeight:500},children:[B.jsx(pi,{to:"/countries",style:{color:"white",textDecoration:"none",fontSize:18},children:"Maat"}),B.jsx(pi,{to:"/visited",style:{color:"white",textDecoration:"none",fontSize:18},children:"Käydyt maat"}),B.jsx(pi,{to:"/wishlist",style:{color:"white",textDecoration:"none",fontSize:18},children:"Toivelista"}),B.jsx("div",{className:"nav-spacer",style:{width:32}}),B.jsx("button",{onClick:()=>Yr().signOut(),style:{background:"#e74c3c",color:"white",marginRight:20},children:"Kirjaudu ulos"})]}),B.jsx("div",{style:{height:68}}),B.jsxs(rE,{children:[B.jsx(Xi,{path:"/countries",element:B.jsx(YE,{})}),B.jsx(Xi,{path:"/country/:cca3",element:B.jsx(CP,{})}),B.jsx(Xi,{path:"/visited",element:B.jsx(IP,{})}),B.jsx(Xi,{path:"/wishlist",element:B.jsx(OP,{})}),B.jsx(Xi,{path:"*",element:B.jsx(YE,{})})]})]}):B.jsxs(rE,{children:[B.jsx(Xi,{path:"/",element:B.jsx(XT,{})}),B.jsx(Xi,{path:"/register",element:B.jsx(EP,{})}),B.jsx(Xi,{path:"*",element:B.jsx(XT,{})})]})}):B.jsx("div",{children:"Ladataan..."})}nR.createRoot(document.getElementById("root")).render(B.jsx(K.StrictMode,{children:B.jsx(DP,{})}));
