const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CountryList-CmipyOk7.js","assets/countryService-BphEq_ek.js","assets/CountryList-CZK0tK_7.css","assets/Login-BeRyUt49.js","assets/Login-BVbmnBX3.css","assets/CountryDetail-BdBuW9J1.js","assets/userCountryService-DUWLmqOo.js","assets/VisitedCountries-CobMbDhk.js","assets/WishlistCountries-DSAl4Xmr.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function vS(){if(R_)return cl;R_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var C_;function ES(){return C_||(C_=1,Dd.exports=vS()),Dd.exports}var Mt=ES(),Od={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function TS(){if(I_)return bt;I_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,K={};function H(D,et,st){this.props=D,this.context=et,this.refs=K,this.updater=st||P}H.prototype.isReactComponent={},H.prototype.setState=function(D,et){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,et,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=H.prototype;function it(D,et,st){this.props=D,this.context=et,this.refs=K,this.updater=st||P}var tt=it.prototype=new $;tt.constructor=it,x(tt,H.prototype),tt.isPureReactComponent=!0;var ht=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function V(D,et,st,nt,pt,Ct){return st=Ct.ref,{$$typeof:r,type:D,key:et,ref:st!==void 0?st:null,props:Ct}}function w(D,et){return V(D.type,et,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var et={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return et[st]})}var M=/\/+/g;function U(D,et){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):et.toString(36)}function I(){}function xe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(et){D.status==="pending"&&(D.status="fulfilled",D.value=et)},function(et){D.status==="pending"&&(D.status="rejected",D.reason=et)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function se(D,et,st,nt,pt){var Ct=typeof D;(Ct==="undefined"||Ct==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(Ct){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case t:Et=!0;break;case E:return Et=D._init,se(Et(D._payload),et,st,nt,pt)}}if(Et)return pt=pt(D),Et=nt===""?"."+U(D,0):nt,ht(pt)?(st="",Et!=null&&(st=Et.replace(M,"$&/")+"/"),se(pt,et,st,"",function(qn){return qn})):pt!=null&&(R(pt)&&(pt=w(pt,st+(pt.key==null||D&&D.key===pt.key?"":(""+pt.key).replace(M,"$&/")+"/")+Et)),et.push(pt)),1;Et=0;var Ce=nt===""?".":nt+":";if(ht(D))for(var Wt=0;Wt<D.length;Wt++)nt=D[Wt],Ct=Ce+U(nt,Wt),Et+=se(nt,et,st,Ct,pt);else if(Wt=S(D),typeof Wt=="function")for(D=Wt.call(D),Wt=0;!(nt=D.next()).done;)nt=nt.value,Ct=Ce+U(nt,Wt++),Et+=se(nt,et,st,Ct,pt);else if(Ct==="object"){if(typeof D.then=="function")return se(xe(D),et,st,nt,pt);throw et=String(D),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Et}function G(D,et,st){if(D==null)return D;var nt=[],pt=0;return se(D,nt,"","",function(Ct){return et.call(st,Ct,pt++)}),nt}function at(D){if(D._status===-1){var et=D._result;et=et(),et.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=et)}if(D._status===1)return D._result.default;throw D._result}var dt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return bt.Children={map:G,forEach:function(D,et,st){G(D,function(){et.apply(this,arguments)},st)},count:function(D){var et=0;return G(D,function(){et++}),et},toArray:function(D){return G(D,function(et){return et})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},bt.Component=H,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=it,bt.StrictMode=a,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,bt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},bt.cache=function(D){return function(){return D.apply(null,arguments)}},bt.cloneElement=function(D,et,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var nt=x({},D.props),pt=D.key,Ct=void 0;if(et!=null)for(Et in et.ref!==void 0&&(Ct=void 0),et.key!==void 0&&(pt=""+et.key),et)!St.call(et,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&et.ref===void 0||(nt[Et]=et[Et]);var Et=arguments.length-2;if(Et===1)nt.children=st;else if(1<Et){for(var Ce=Array(Et),Wt=0;Wt<Et;Wt++)Ce[Wt]=arguments[Wt+2];nt.children=Ce}return V(D.type,pt,void 0,void 0,Ct,nt)},bt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},bt.createElement=function(D,et,st){var nt,pt={},Ct=null;if(et!=null)for(nt in et.key!==void 0&&(Ct=""+et.key),et)St.call(et,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=et[nt]);var Et=arguments.length-2;if(Et===1)pt.children=st;else if(1<Et){for(var Ce=Array(Et),Wt=0;Wt<Et;Wt++)Ce[Wt]=arguments[Wt+2];pt.children=Ce}if(D&&D.defaultProps)for(nt in Et=D.defaultProps,Et)pt[nt]===void 0&&(pt[nt]=Et[nt]);return V(D,Ct,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(D){return{$$typeof:m,render:D}},bt.isValidElement=R,bt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:at}},bt.memo=function(D,et){return{$$typeof:y,type:D,compare:et===void 0?null:et}},bt.startTransition=function(D){var et=ct.T,st={};ct.T=st;try{var nt=D(),pt=ct.S;pt!==null&&pt(st,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Bt,dt)}catch(Ct){dt(Ct)}finally{ct.T=et}},bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},bt.use=function(D){return ct.H.use(D)},bt.useActionState=function(D,et,st){return ct.H.useActionState(D,et,st)},bt.useCallback=function(D,et){return ct.H.useCallback(D,et)},bt.useContext=function(D){return ct.H.useContext(D)},bt.useDebugValue=function(){},bt.useDeferredValue=function(D,et){return ct.H.useDeferredValue(D,et)},bt.useEffect=function(D,et,st){var nt=ct.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(D,et)},bt.useId=function(){return ct.H.useId()},bt.useImperativeHandle=function(D,et,st){return ct.H.useImperativeHandle(D,et,st)},bt.useInsertionEffect=function(D,et){return ct.H.useInsertionEffect(D,et)},bt.useLayoutEffect=function(D,et){return ct.H.useLayoutEffect(D,et)},bt.useMemo=function(D,et){return ct.H.useMemo(D,et)},bt.useOptimistic=function(D,et){return ct.H.useOptimistic(D,et)},bt.useReducer=function(D,et,st){return ct.H.useReducer(D,et,st)},bt.useRef=function(D){return ct.H.useRef(D)},bt.useState=function(D){return ct.H.useState(D)},bt.useSyncExternalStore=function(D,et,st){return ct.H.useSyncExternalStore(D,et,st)},bt.useTransition=function(){return ct.H.useTransition()},bt.version="19.1.0",bt}var D_;function Sm(){return D_||(D_=1,Od.exports=TS()),Od.exports}var Y=Sm(),Nd={exports:{}},hl={},Vd={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function AS(){return O_||(O_=1,function(r){function t(G,at){var dt=G.length;G.push(at);t:for(;0<dt;){var Bt=dt-1>>>1,D=G[Bt];if(0<o(D,at))G[Bt]=at,G[dt]=D,dt=Bt;else break t}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var at=G[0],dt=G.pop();if(dt!==at){G[0]=dt;t:for(var Bt=0,D=G.length,et=D>>>1;Bt<et;){var st=2*(Bt+1)-1,nt=G[st],pt=st+1,Ct=G[pt];if(0>o(nt,dt))pt<D&&0>o(Ct,nt)?(G[Bt]=Ct,G[pt]=dt,Bt=pt):(G[Bt]=nt,G[st]=dt,Bt=st);else if(pt<D&&0>o(Ct,dt))G[Bt]=Ct,G[pt]=dt,Bt=pt;else break t}}return at}function o(G,at){var dt=G.sortIndex-at.sortIndex;return dt!==0?dt:G.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,P=!1,x=!1,K=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ht(G){for(var at=n(y);at!==null;){if(at.callback===null)a(y);else if(at.startTime<=G)a(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(y)}}function ct(G){if(K=!1,ht(G),!x)if(n(p)!==null)x=!0,St||(St=!0,U());else{var at=n(y);at!==null&&se(ct,at.startTime-G)}}var St=!1,V=-1,w=5,R=-1;function O(){return H?!0:!(r.unstable_now()-R<w)}function M(){if(H=!1,St){var G=r.unstable_now();R=G;var at=!0;try{t:{x=!1,K&&(K=!1,it(V),V=-1),P=!0;var dt=S;try{e:{for(ht(G),b=n(p);b!==null&&!(b.expirationTime>G&&O());){var Bt=b.callback;if(typeof Bt=="function"){b.callback=null,S=b.priorityLevel;var D=Bt(b.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){b.callback=D,ht(G),at=!0;break e}b===n(p)&&a(p),ht(G)}else a(p);b=n(p)}if(b!==null)at=!0;else{var et=n(y);et!==null&&se(ct,et.startTime-G),at=!1}}break t}finally{b=null,S=dt,P=!1}at=void 0}}finally{at?U():St=!1}}}var U;if(typeof tt=="function")U=function(){tt(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,xe=I.port2;I.port1.onmessage=M,U=function(){xe.postMessage(null)}}else U=function(){$(M,0)};function se(G,at){V=$(function(){G(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(G){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var dt=S;S=at;try{return G()}finally{S=dt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,at){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=S;S=G;try{return at()}finally{S=dt}},r.unstable_scheduleCallback=function(G,at,dt){var Bt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=dt+D,G={id:E++,callback:at,priorityLevel:G,startTime:dt,expirationTime:D,sortIndex:-1},dt>Bt?(G.sortIndex=dt,t(y,G),n(p)===null&&G===n(y)&&(K?(it(V),V=-1):K=!0,se(ct,dt-Bt))):(G.sortIndex=D,t(p,G),x||P||(x=!0,St||(St=!0,U()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var at=S;return function(){var dt=S;S=at;try{return G.apply(this,arguments)}finally{S=dt}}}}(Md)),Md}var N_;function SS(){return N_||(N_=1,Vd.exports=AS()),Vd.exports}var xd={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function bS(){if(V_)return Ge;V_=1;var r=Sm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Ge.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:P}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Ge.requestFormReset=function(p){a.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var M_;function wS(){if(M_)return xd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=bS(),xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function RS(){if(x_)return hl;x_=1;var r=SS(),t=Sm(),n=wS();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(a(188));return i!==e?null:e}for(var s=e,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case H:return"Profiler";case K:return"StrictMode";case ct:return"Suspense";case St:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case tt:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:xe(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return xe(e(i))}catch{}}return null}var se=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function et(e){return{current:e}}function st(e){0>D||(e.current=Bt[D],Bt[D]=null,D--)}function nt(e,i){D++,Bt[D]=e.current,e.current=i}var pt=et(null),Ct=et(null),Et=et(null),Ce=et(null);function Wt(e,i){switch(nt(Et,i),nt(Ct,e),nt(pt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=t_(i),e=e_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(pt),nt(pt,e)}function qn(){st(pt),st(Ct),st(Et)}function Ki(e){e.memoizedState!==null&&nt(Ce,e);var i=pt.current,s=e_(i,e.type);i!==s&&(nt(Ct,e),nt(pt,s))}function fi(e){Ct.current===e&&(st(pt),st(Ct)),Ce.current===e&&(st(Ce),al._currentValue=dt)}var Ur=Object.prototype.hasOwnProperty,kr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,eo=r.unstable_shouldYield,Yl=r.unstable_requestPaint,yn=r.unstable_now,Ih=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,La=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Ua=r.unstable_IdlePriority,io=r.log,Xl=r.unstable_setDisableYieldValue,oe=null,Ft=null;function on(e){if(typeof io=="function"&&Xl(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var He=Math.clz32?Math.clz32:qr,$l=Math.log,Oh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-($l(e)/Oh|0)|0}var jr=256,Hr=4194304;function Nn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ka(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Nn(l):(v&=T,v!==0?h=Nn(v):s||(s=T&~e,s!==0&&(h=Nn(s))))):(T=l&~d,T!==0?h=Nn(T):v!==0?h=Nn(v):s||(s=l&~e,s!==0&&(h=Nn(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Fr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ro(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function so(){var e=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),e}function di(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function mi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oo(e,i,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(s=v&~s;0<s;){var Q=31-He(s),Z=1<<Q;T[Q]=0,C[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var j=q[Q];j!==null&&(j.lane&=-536870913)}s&=~Z}l!==0&&jn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function jn(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-He(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function lo(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-He(s),h=1<<l;h&i|e[l]&i&&(e[l]|=i),s&=~h}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function za(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:E_(e.type))}function Zl(e,i){var s=at.p;try{return at.p=e,i()}finally{at.p=s}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,_n="__reactContainer$"+ee,uo="__reactEvents$"+ee,Nh="__reactListeners$"+ee,$i="__reactHandles$"+ee,Wl="__reactResources$"+ee,Gr="__reactMarker$"+ee;function Zi(e){delete e[Ee],delete e[me],delete e[uo],delete e[Nh],delete e[$i]}function pi(e){var i=e[Ee];if(i)return i;for(var s=e.parentNode;s;){if(i=s[_n]||s[Ee]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Ee])return s;e=a_(e)}return i}e=s,s=e.parentNode}return null}function Hn(e){if(e=e[Ee]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Xe(e){var i=e[Wl];return i||(i=e[Wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[Gr]=!0}var co=new Set,Ba={};function Vn(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Ba[e]=i,e=0;e<i.length;e++)co.add(i[e])}var Jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},Qr={};function eu(e){return Ur.call(Qr,e)?!0:Ur.call(tu,e)?!1:Jl.test(e)?Qr[e]=!0:(tu[e]=!0,!1)}function Wi(e,i,s){if(eu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Gn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Pe(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var Kr,nu;function yi(e){if(Kr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Kr=i&&i[1]||"",nu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+nu}var qa=!1;function ja(e,i){if(!e||qa)return"";qa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var q=j}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(j){q=j}e.call(Z.prototype)}}else{try{throw Error()}catch(j){q=j}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&q&&typeof j.stack=="string")return[j.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),B=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===B.length)for(l=C.length-1,h=B.length-1;1<=l&&0<=h&&C[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==B[h]){var Q=`
`+C[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{qa=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?yi(s):""}function ho(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return ja(e.type,!1);case 11:return ja(e.type.render,!1);case 1:return ja(e.type,!0);case 31:return yi("Activity");default:return""}}function Ha(e){try{var i="";do i+=ho(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vh(e){var i=fo(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Fa(e){e._valueTracker||(e._valueTracker=Vh(e))}function mo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=fo(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mh=/[\n"\\]/g;function pe(e){return e.replace(Mh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,s,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Ji(e,v,$e(i)):s!=null?Ji(e,v,$e(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function Xr(e,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+$e(s):"",i=i!=null?""+$e(i):s,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ji(e,i,s){i==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _i(e,i,s,l){if(e=e.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=i.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+$e(s),i=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,s){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+$e(s):""}function $r(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(se(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=$e(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function vn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||Zr.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function po(e,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&iu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&iu(e,d,i[d])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ph=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(e){return Ph.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function yo(e){var i=Hn(e);if(i&&(e=i.stateNode)){var s=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(a(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&mo(l)}break t;case"textarea":Kt(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&_i(e,!!s.multiple,i,!1)}}}var Qn=!1;function ru(e,i,s){if(Qn)return e(i,s);Qn=!0;try{var l=e(i);return l}finally{if(Qn=!1,(Ei!==null||Ti!==null)&&(Zu(),Ei&&(i=Ei,e=Ti,Ti=Ei=null,yo(i),e)))for(i=0;i<e.length;i++)yo(e[i])}}function Wr(e,i){var s=e.stateNode;if(s===null)return null;var l=s[me]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(Mn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Tn=!1}var Kn=null,tr=null,Ai=null;function _o(){if(Ai)return Ai;var e,i=tr,s=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<s&&i[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Ai=h.slice(e,1<l?1-l:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function vo(){return!1}function Ie(e){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:vo,this.isPropagationStopped=vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Ie(jt),ta=E({},jt,{view:0,detail:0}),au=Ie(ta),Ka,Ya,$n,ea=E({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Ka=e.screenX-$n.screenX,Ya=e.screenY-$n.screenY):Ya=Ka=0,$n=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),An=Ie(ea),su=E({},ea,{dataTransfer:0}),Lh=Ie(su),na=E({},ta,{relatedTarget:0}),Xa=Ie(na),Eo=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Ie(Eo),ou=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Za=Ie(ou),Uh=E({},jt,{data:0}),To=Ie(Uh),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ao(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uu[e])?!!i[e]:!1}function ra(){return Ao}var cu=E({},ta,{key:function(e){if(e.key){var i=ia[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wa=Ie(cu),hu=E({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Ie(hu),Si=E({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),fu=Ie(Si),du=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Ie(du),pu=E({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Ie(pu),Ze=E({},jt,{newState:0,oldState:0}),gu=Ie(Ze),yu=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var g=Mn&&"TextEvent"in window&&!c,_=Mn&&(!Zn||c&&8<c&&11>=c),A=" ",k=!1;function F(e,i){switch(e){case"keyup":return yu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Te(e,i){switch(e){case"compositionend":return rt(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function Pt(e,i){if(xt)return e==="compositionend"||!Zn&&F(e,i)?(e=_o(),Ai=tr=Kn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function bi(e,i,s,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,i=ic(i,"onChange"),0<i.length&&(s=new Qa("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Le=null,Wn=null;function bo(e){Xy(e,0)}function _u(e){var i=Fn(e);if(mo(i))return e}function gp(e,i){if(e==="change")return i}var yp=!1;if(Mn){var kh;if(Mn){var zh="oninput"in document;if(!zh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),zh=typeof _p.oninput=="function"}kh=zh}else kh=!1;yp=kh&&(!document.documentMode||9<document.documentMode)}function vp(){Le&&(Le.detachEvent("onpropertychange",Ep),Wn=Le=null)}function Ep(e){if(e.propertyName==="value"&&_u(Wn)){var i=[];bi(i,Wn,e,En(e)),ru(bo,i)}}function XT(e,i,s){e==="focusin"?(vp(),Le=i,Wn=s,Le.attachEvent("onpropertychange",Ep)):e==="focusout"&&vp()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Wn)}function ZT(e,i){if(e==="click")return _u(i)}function WT(e,i){if(e==="input"||e==="change")return _u(i)}function JT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:JT;function wo(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ur.call(i,h)||!un(e[h],i[h]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,i){var s=Tp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Tp(s)}}function Sp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Sp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Yr(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Yr(e.document)}return i}function Bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var tA=Mn&&"documentMode"in document&&11>=document.documentMode,ts=null,qh=null,Ro=null,jh=!1;function wp(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ts==null||ts!==Yr(l)||(l=ts,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&wo(Ro,l)||(Ro=l,l=ic(qh,"onSelect"),0<l.length&&(i=new Qa("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=ts)))}function aa(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var es={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Hh={},Rp={};Mn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function sa(e){if(Hh[e])return Hh[e];if(!es[e])return e;var i=es[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Rp)return Hh[e]=i[s];return e}var Cp=sa("animationend"),Ip=sa("animationiteration"),Dp=sa("animationstart"),eA=sa("transitionrun"),nA=sa("transitionstart"),iA=sa("transitioncancel"),Op=sa("transitionend"),Np=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function xn(e,i){Np.set(e,i),Vn(i,[e])}var Vp=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var s=Vp.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Ha(i)},Vp.set(e,i),i)}return{value:e,source:i,stack:Ha(i)}}var bn=[],ns=0,Gh=0;function vu(){for(var e=ns,i=Gh=ns=0;i<e;){var s=bn[i];bn[i++]=null;var l=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Mp(s,h,d)}}function Eu(e,i,s,l){bn[ns++]=e,bn[ns++]=i,bn[ns++]=s,bn[ns++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Qh(e,i,s,l){return Eu(e,i,s,l),Tu(e)}function is(e,i){return Eu(e,null,null,i),Tu(e)}function Mp(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-He(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function Tu(e){if(50<Zo)throw Zo=0,Jf=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var rs={};function rA(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,s,l){return new rA(e,i,s,l)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var s=e.alternate;return s===null?(s=cn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xp(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Au(e,i,s,l,h,d){var v=0;if(l=e,typeof e=="function")Kh(e)&&(v=1);else if(typeof e=="string")v=sS(e,s,pt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=cn(31,s,i,h),e.elementType=R,e.lanes=d,e;case x:return oa(s.children,h,d,i);case K:v=8,h|=24;break;case H:return e=cn(12,s,i,h|2),e.elementType=H,e.lanes=d,e;case ct:return e=cn(13,s,i,h),e.elementType=ct,e.lanes=d,e;case St:return e=cn(19,s,i,h),e.elementType=St,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:case tt:v=10;break t;case it:v=9;break t;case ht:v=11;break t;case V:v=14;break t;case w:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return i=cn(v,s,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function oa(e,i,s,l){return e=cn(7,e,l,i),e.lanes=s,e}function Yh(e,i,s){return e=cn(6,e,null,i),e.lanes=s,e}function Xh(e,i,s){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var as=[],ss=0,Su=null,bu=0,wn=[],Rn=0,la=null,Ri=1,Ci="";function ua(e,i){as[ss++]=bu,as[ss++]=Su,Su=e,bu=i}function Pp(e,i,s){wn[Rn++]=Ri,wn[Rn++]=Ci,wn[Rn++]=la,la=e;var l=Ri;e=Ci;var h=32-He(l)-1;l&=~(1<<h),s+=1;var d=32-He(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-He(i)+h|s<<h|l,Ci=d+e}else Ri=1<<d|s<<h|l,Ci=e}function $h(e){e.return!==null&&(ua(e,1),Pp(e,1,0))}function Zh(e){for(;e===Su;)Su=as[--ss],as[ss]=null,bu=as[--ss],as[ss]=null;for(;e===la;)la=wn[--Rn],wn[Rn]=null,Ci=wn[--Rn],wn[Rn]=null,Ri=wn[--Rn],wn[Rn]=null}var We=null,le=null,qt=!1,ca=null,Jn=!1,Wh=Error(a(519));function ha(e){var i=Error(a(418,""));throw Do(Sn(i,e)),Wh}function Lp(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[me]=l,s){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(s=0;s<Jo.length;s++)Ot(Jo[s],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Xr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fa(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),$r(i,l.value,l.defaultValue,l.children),Fa(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Jy(i.textContent,s)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||ha(e)}function Up(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:We=We.return}}function Co(e){if(e!==We)return!1;if(!qt)return Up(e),qt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&le&&ha(e),Up(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){le=Ln(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,gr(e.type)?(e=vd,vd=null,le=e):le=i):le=We?Ln(e.stateNode.nextSibling):null;return!0}function Io(){le=We=null,qt=!1}function kp(){var e=ca;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ca=null),e}function Do(e){ca===null?ca=[e]:ca.push(e)}var Jh=et(null),fa=null,Ii=null;function er(e,i,s){nt(Jh,i._currentValue),i._currentValue=s}function Di(e){e._currentValue=Jh.current,st(Jh)}function tf(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function ef(e,i,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),tf(d.return,s,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),tf(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(e,i,s,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&ef(i,e,s,l),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function da(e){fa=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return zp(fa,e)}function Ru(e,i){return fa===null&&da(e),zp(e,i)}function zp(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ii===null){if(e===null)throw Error(a(308));Ii=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ii=Ii.next=i;return s}var aA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},sA=r.unstable_scheduleCallback,oA=r.unstable_NormalPriority,Se={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new aA,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&sA(oA,function(){e.controller.abort()})}var Vo=null,rf=0,os=0,ls=null;function lA(e,i){if(Vo===null){var s=Vo=[];rf=0,os=sd(),ls={status:"pending",value:void 0,then:function(l){s.push(l)}}}return rf++,i.then(Bp,Bp),i}function Bp(){if(--rf===0&&Vo!==null){ls!==null&&(ls.status="fulfilled");var e=Vo;Vo=null,os=0,ls=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function uA(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var qp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&lA(e,i),qp!==null&&qp(e,i)};var ma=et(null);function af(){var e=ma.current;return e!==null?e:Jt.pooledCache}function Cu(e,i){i===null?nt(ma,ma.current):nt(ma,i.pool)}function jp(){var e=af();return e===null?null:{parent:Se._currentValue,pool:e}}var Mo=Error(a(460)),Hp=Error(a(474)),Iu=Error(a(542)),sf={then:function(){}};function Fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Gp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Du,Du),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kp(e),e;default:if(typeof i.status=="string")i.then(Du,Du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Kp(e),e}throw xo=i,Mo}}var xo=null;function Qp(){if(xo===null)throw Error(a(459));var e=xo;return xo=null,e}function Kp(e){if(e===Mo||e===Iu)throw Error(a(483))}var nr=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Tu(e),Mp(e,null,s),i}return Eu(e,l,i,s),Tu(e)}function Po(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,lo(e,s)}}function uf(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var cf=!1;function Lo(){if(cf){var e=ls;if(e!==null)throw e}}function Uo(e,i,s,l){cf=!1;var h=e.updateQueue;nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,B=C.next;C.next=null,v===null?d=B:v.next=B,v=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=B:T.next=B,Q.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,Q=B=C=null,T=d;do{var q=T.lane&-536870913,j=q!==T.lane;if(j?(Lt&q)===q:(l&q)===q){q!==0&&q===os&&(cf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,gt=T;q=i;var $t=s;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){Z=vt.call($t,Z,q);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,q=typeof vt=="function"?vt.call($t,Z,q):vt,q==null)break t;Z=E({},Z,q);break t;case 2:nr=!0}}q=T.callback,q!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[q]:j.push(q))}else j={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(B=Q=j,C=Z):Q=Q.next=j,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Q===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=Z}}function Yp(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Xp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yp(s[e],i)}var us=et(null),Ou=et(0);function $p(e,i){e=Li,nt(Ou,e),nt(us,i),Li=e|i.baseLanes}function hf(){nt(Ou,Li),nt(us,us.current)}function ff(){Li=Ou.current,st(us),st(Ou)}var ar=0,wt=null,Yt=null,ge=null,Nu=!1,cs=!1,pa=!1,Vu=0,ko=0,hs=null,cA=0;function he(){throw Error(a(321))}function df(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!un(e[s],i[s]))return!1;return!0}function mf(e,i,s,l,h,d){return ar=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Mg:xg,pa=!1,d=s(l,h),pa=!1,cs&&(d=Wp(i,s,l,h)),Zp(e),d}function Zp(e){G.H=ku;var i=Yt!==null&&Yt.next!==null;if(ar=0,ge=Yt=wt=null,Nu=!1,ko=0,hs=null,i)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&wu(e)&&(Oe=!0))}function Wp(e,i,s,l){wt=e;var h=0;do{if(cs&&(hs=null),ko=0,cs=!1,25<=h)throw Error(a(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=yA,d=i(s,l)}while(cs);return d}function hA(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?zo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(wt.flags|=1024),i}function pf(){var e=Vu!==0;return Vu=0,e}function gf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function yf(e){if(Nu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Nu=!1}ar=0,ge=Yt=wt=null,cs=!1,ko=Vu=0,hs=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Yt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?wt.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?wt.memoizedState=ge=e:ge=ge.next=e}return ge}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var i=ko;return ko+=1,hs===null&&(hs=[]),e=Gp(hs,e,i),i=wt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Mg:xg),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===tt)return Fe(e)}throw Error(a(438,String(e)))}function vf(e){var i=null,s=wt.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=_f(),wt.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=O;return i.index++,s}function Oi(e,i){return typeof i=="function"?i(e):i}function xu(e){var i=ye();return Ef(i,Yt,e)}function Ef(e,i,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,C=null,B=i,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Lt&Z)===Z:(ar&Z)===Z){var q=B.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===os&&(Q=!0);else if((ar&q)===q){B=B.next,q===os&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=Z,v=d):C=C.next=Z,wt.lanes|=q,fr|=q;Z=B.action,pa&&s(d,Z),d=B.hasEagerState?B.eagerState:s(d,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=q,v=d):C=C.next=q,wt.lanes|=Z,fr|=Z;B=B.next}while(B!==null&&B!==i);if(C===null?v=d:C.next=T,!un(d,e.memoizedState)&&(Oe=!0,Q&&(s=ls,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tf(e){var i=ye(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Jp(e,i,s){var l=wt,h=ye(),d=qt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!un((Yt||h).memoizedState,s);v&&(h.memoizedState=s,Oe=!0),h=h.queue;var T=ng.bind(null,l,h,e);if(Bo(2048,8,T,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,fs(9,Pu(),eg.bind(null,l,h,s,i),null),Jt===null)throw Error(a(349));d||(ar&124)!==0||tg(l,i,s)}return s}function tg(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=wt.updateQueue,i===null?(i=_f(),wt.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function eg(e,i,s,l){i.value=s,i.getSnapshot=l,ig(i)&&rg(e)}function ng(e,i,s){return s(function(){ig(i)&&rg(e)})}function ig(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!un(e,s)}catch{return!0}}function rg(e){var i=is(e,2);i!==null&&pn(i,e,2)}function Af(e){var i=en();if(typeof e=="function"){var s=e;if(e=s(),pa){on(!0);try{s()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function ag(e,i,s,l){return e.baseState=s,Ef(e,Yt,typeof l=="function"?l:Oi)}function fA(e,i,s,l,h){if(Uu(e))throw Error(a(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,sg(i,d)):(d.next=s.next,i.pending=s.next=d)}}function sg(e,i){var s=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=s(h,l),C=G.S;C!==null&&C(v,T),og(e,i,T)}catch(B){Sf(e,i,B)}finally{G.T=d}}else try{d=s(h,l),og(e,i,d)}catch(B){Sf(e,i,B)}}function og(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lg(e,i,l)},function(l){return Sf(e,i,l)}):lg(e,i,s)}function lg(e,i,s){i.status="fulfilled",i.value=s,ug(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,sg(e,s)))}function Sf(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,ug(i),i=i.next;while(i!==l)}e.action=null}function ug(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function cg(e,i){return i}function hg(e,i){if(qt){var s=Jt.formState;if(s!==null){t:{var l=wt;if(qt){if(le){e:{for(var h=le,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Ln(h.nextSibling),l=h.data==="F!";break t}}ha(l)}l=!1}l&&(i=s[0])}}return s=en(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:i},s.queue=l,s=Og.bind(null,wt,l),l.dispatch=s,l=Af(!1),d=If.bind(null,wt,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,s=fA.bind(null,wt,h,d,s),h.dispatch=s,l.memoizedState=e,[i,s,!1]}function fg(e){var i=ye();return dg(i,Yt,e)}function dg(e,i,s){if(i=Ef(e,i,cg)[0],e=xu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zo(i)}catch(v){throw v===Mo?Iu:v}else l=i;i=ye();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(wt.flags|=2048,fs(9,Pu(),dA.bind(null,h,s),null)),[l,d,e]}function dA(e,i){e.action=i}function mg(e){var i=ye(),s=Yt;if(s!==null)return dg(i,s,e);ye(),i=i.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function fs(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=_f(),wt.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Pu(){return{destroy:void 0,resource:void 0}}function pg(){return ye().memoizedState}function Lu(e,i,s,l){var h=en();l=l===void 0?null:l,wt.flags|=e,h.memoizedState=fs(1|i,Pu(),s,l)}function Bo(e,i,s,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&df(l,Yt.memoizedState.deps)?h.memoizedState=fs(i,d,s,l):(wt.flags|=e,h.memoizedState=fs(1|i,d,s,l))}function gg(e,i){Lu(8390656,8,e,i)}function yg(e,i){Bo(2048,8,e,i)}function _g(e,i){return Bo(4,2,e,i)}function vg(e,i){return Bo(4,4,e,i)}function Eg(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Tg(e,i,s){s=s!=null?s.concat([e]):null,Bo(4,4,Eg.bind(null,i,e),s)}function bf(){}function Ag(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&df(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function Sg(e,i){var s=ye();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=e(),pa){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[l,i],l}function wf(e,i,s){return s===void 0||(ar&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=Ry(),wt.lanes|=e,fr|=e,s)}function bg(e,i,s,l){return un(s,i)?s:us.current!==null?(e=wf(e,s,l),un(e,i)||(Oe=!0),e):(ar&42)===0?(Oe=!0,e.memoizedState=s):(e=Ry(),wt.lanes|=e,fr|=e,i)}function wg(e,i,s,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,If(e,!1,i,s);try{var C=h(),B=G.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=uA(C,l);qo(e,i,Q,mn(e))}else qo(e,i,l,mn(e))}catch(Z){qo(e,i,{then:function(){},status:"rejected",reason:Z},mn())}finally{at.p=d,G.T=v}}function mA(){}function Rf(e,i,s,l){if(e.tag!==5)throw Error(a(476));var h=Rg(e).queue;wg(e,h,i,dt,s===null?mA:function(){return Cg(e),s(l)})}function Rg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:dt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Cg(e){var i=Rg(e).next.queue;qo(e,i,{},mn())}function Cf(){return Fe(al)}function Ig(){return ye().memoizedState}function Dg(){return ye().memoizedState}function pA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=mn();e=ir(s);var l=rr(i,e,s);l!==null&&(pn(l,i,s),Po(l,i,s)),i={cache:nf()},e.payload=i;return}i=i.return}}function gA(e,i,s){var l=mn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Uu(e)?Ng(i,s):(s=Qh(e,i,s,l),s!==null&&(pn(s,e,l),Vg(s,i,l)))}function Og(e,i,s){var l=mn();qo(e,i,s,l)}function qo(e,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))Ng(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return Eu(e,i,h,0),Jt===null&&vu(),!1}catch{}finally{}if(s=Qh(e,i,h,l),s!==null)return pn(s,e,l),Vg(s,i,l),!0}return!1}function If(e,i,s,l){if(l={lane:2,revertLane:sd(),action:l,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(i)throw Error(a(479))}else i=Qh(e,s,l,2),i!==null&&pn(i,e,2)}function Uu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function Ng(e,i){cs=Nu=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Vg(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,lo(e,s)}}var ku={readContext:Fe,use:Mu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Mg={readContext:Fe,use:Mu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:gg,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,Eg.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Lu(4194308,4,e,i)},useInsertionEffect:function(e,i){Lu(4,2,e,i)},useMemo:function(e,i){var s=en();i=i===void 0?null:i;var l=e();if(pa){on(!0);try{e()}finally{on(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=en();if(s!==void 0){var h=s(i);if(pa){on(!0);try{s(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=gA.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Af(e);var i=e.queue,s=Og.bind(null,wt,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,i){var s=en();return wf(s,e,i)},useTransition:function(){var e=Af(!1);return e=wg.bind(null,wt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=wt,h=en();if(qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Jt===null)throw Error(a(349));(Lt&124)!==0||tg(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,gg(ng.bind(null,l,d,e),[e]),l.flags|=2048,fs(9,Pu(),eg.bind(null,l,d,s,i),null),s},useId:function(){var e=en(),i=Jt.identifierPrefix;if(qt){var s=Ci,l=Ri;s=(l&~(1<<32-He(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Vu++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=cA++,i=""+i+"r"+s.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Cf,useFormState:hg,useActionState:hg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=If.bind(null,wt,!0,s),s.dispatch=i,[e,i]},useMemoCache:vf,useCacheRefresh:function(){return en().memoizedState=pA.bind(null,wt)}},xg={readContext:Fe,use:Mu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:xu,useRef:pg,useState:function(){return xu(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var s=ye();return bg(s,Yt.memoizedState,e,i)},useTransition:function(){var e=xu(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Jp,useId:Ig,useHostTransitionStatus:Cf,useFormState:fg,useActionState:fg,useOptimistic:function(e,i){var s=ye();return ag(s,Yt,e,i)},useMemoCache:vf,useCacheRefresh:Dg},yA={readContext:Fe,use:Mu,useCallback:Ag,useContext:Fe,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:vg,useMemo:Sg,useReducer:Tf,useRef:pg,useState:function(){return Tf(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var s=ye();return Yt===null?wf(s,e,i):bg(s,Yt.memoizedState,e,i)},useTransition:function(){var e=Tf(Oi)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Jp,useId:Ig,useHostTransitionStatus:Cf,useFormState:mg,useActionState:mg,useOptimistic:function(e,i){var s=ye();return Yt!==null?ag(s,Yt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Dg},ds=null,jo=0;function zu(e){var i=jo;return jo+=1,ds===null&&(ds=[]),Gp(ds,e,i)}function Ho(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Pg(e){var i=e._init;return i(e._payload)}function Lg(e){function i(L,N){if(e){var z=L.deletions;z===null?(L.deletions=[N],L.flags|=16):z.push(N)}}function s(L,N){if(!e)return null;for(;N!==null;)i(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=wi(L,N),L.index=0,L.sibling=null,L}function d(L,N,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<N?(L.flags|=67108866,N):z):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,N,z,X){return N===null||N.tag!==6?(N=Yh(z,L.mode,X),N.return=L,N):(N=h(N,z),N.return=L,N)}function C(L,N,z,X){var ut=z.type;return ut===x?Q(L,N,z.props.children,X,z.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Pg(ut)===N.type)?(N=h(N,z.props),Ho(N,z),N.return=L,N):(N=Au(z.type,z.key,z.props,null,L.mode,X),Ho(N,z),N.return=L,N)}function B(L,N,z,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Xh(z,L.mode,X),N.return=L,N):(N=h(N,z.children||[]),N.return=L,N)}function Q(L,N,z,X,ut){return N===null||N.tag!==7?(N=oa(z,L.mode,X,ut),N.return=L,N):(N=h(N,z),N.return=L,N)}function Z(L,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,L.mode,z),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return z=Au(N.type,N.key,N.props,null,L.mode,z),Ho(z,N),z.return=L,z;case P:return N=Xh(N,L.mode,z),N.return=L,N;case w:var X=N._init;return N=X(N._payload),Z(L,N,z)}if(se(N)||U(N))return N=oa(N,L.mode,z,null),N.return=L,N;if(typeof N.then=="function")return Z(L,zu(N),z);if(N.$$typeof===tt)return Z(L,Ru(L,N),z);Bu(L,N)}return null}function q(L,N,z,X){var ut=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ut!==null?null:T(L,N,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ut?C(L,N,z,X):null;case P:return z.key===ut?B(L,N,z,X):null;case w:return ut=z._init,z=ut(z._payload),q(L,N,z,X)}if(se(z)||U(z))return ut!==null?null:Q(L,N,z,X,null);if(typeof z.then=="function")return q(L,N,zu(z),X);if(z.$$typeof===tt)return q(L,N,Ru(L,z),X);Bu(L,z)}return null}function j(L,N,z,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,T(N,L,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?z:X.key)||null,C(N,L,X,ut);case P:return L=L.get(X.key===null?z:X.key)||null,B(N,L,X,ut);case w:var It=X._init;return X=It(X._payload),j(L,N,z,X,ut)}if(se(X)||U(X))return L=L.get(z)||null,Q(N,L,X,ut,null);if(typeof X.then=="function")return j(L,N,z,zu(X),ut);if(X.$$typeof===tt)return j(L,N,z,Ru(N,X),ut);Bu(N,X)}return null}function vt(L,N,z,X){for(var ut=null,It=null,ft=N,yt=N=0,Ve=null;ft!==null&&yt<z.length;yt++){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var zt=q(L,ft,z[yt],X);if(zt===null){ft===null&&(ft=Ve);break}e&&ft&&zt.alternate===null&&i(L,ft),N=d(zt,N,yt),It===null?ut=zt:It.sibling=zt,It=zt,ft=Ve}if(yt===z.length)return s(L,ft),qt&&ua(L,yt),ut;if(ft===null){for(;yt<z.length;yt++)ft=Z(L,z[yt],X),ft!==null&&(N=d(ft,N,yt),It===null?ut=ft:It.sibling=ft,It=ft);return qt&&ua(L,yt),ut}for(ft=l(ft);yt<z.length;yt++)Ve=j(ft,L,yt,z[yt],X),Ve!==null&&(e&&Ve.alternate!==null&&ft.delete(Ve.key===null?yt:Ve.key),N=d(Ve,N,yt),It===null?ut=Ve:It.sibling=Ve,It=Ve);return e&&ft.forEach(function(Tr){return i(L,Tr)}),qt&&ua(L,yt),ut}function gt(L,N,z,X){if(z==null)throw Error(a(151));for(var ut=null,It=null,ft=N,yt=N=0,Ve=null,zt=z.next();ft!==null&&!zt.done;yt++,zt=z.next()){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var Tr=q(L,ft,zt.value,X);if(Tr===null){ft===null&&(ft=Ve);break}e&&ft&&Tr.alternate===null&&i(L,ft),N=d(Tr,N,yt),It===null?ut=Tr:It.sibling=Tr,It=Tr,ft=Ve}if(zt.done)return s(L,ft),qt&&ua(L,yt),ut;if(ft===null){for(;!zt.done;yt++,zt=z.next())zt=Z(L,zt.value,X),zt!==null&&(N=d(zt,N,yt),It===null?ut=zt:It.sibling=zt,It=zt);return qt&&ua(L,yt),ut}for(ft=l(ft);!zt.done;yt++,zt=z.next())zt=j(ft,L,yt,zt.value,X),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?yt:zt.key),N=d(zt,N,yt),It===null?ut=zt:It.sibling=zt,It=zt);return e&&ft.forEach(function(_S){return i(L,_S)}),qt&&ua(L,yt),ut}function $t(L,N,z,X){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var ut=z.key;N!==null;){if(N.key===ut){if(ut=z.type,ut===x){if(N.tag===7){s(L,N.sibling),X=h(N,z.props.children),X.return=L,L=X;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===w&&Pg(ut)===N.type){s(L,N.sibling),X=h(N,z.props),Ho(X,z),X.return=L,L=X;break t}s(L,N);break}else i(L,N);N=N.sibling}z.type===x?(X=oa(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=Au(z.type,z.key,z.props,null,L.mode,X),Ho(X,z),X.return=L,L=X)}return v(L);case P:t:{for(ut=z.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){s(L,N.sibling),X=h(N,z.children||[]),X.return=L,L=X;break t}else{s(L,N);break}else i(L,N);N=N.sibling}X=Xh(z,L.mode,X),X.return=L,L=X}return v(L);case w:return ut=z._init,z=ut(z._payload),$t(L,N,z,X)}if(se(z))return vt(L,N,z,X);if(U(z)){if(ut=U(z),typeof ut!="function")throw Error(a(150));return z=ut.call(z),gt(L,N,z,X)}if(typeof z.then=="function")return $t(L,N,zu(z),X);if(z.$$typeof===tt)return $t(L,N,Ru(L,z),X);Bu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(s(L,N.sibling),X=h(N,z),X.return=L,L=X):(s(L,N),X=Yh(z,L.mode,X),X.return=L,L=X),v(L)):s(L,N)}return function(L,N,z,X){try{jo=0;var ut=$t(L,N,z,X);return ds=null,ut}catch(ft){if(ft===Mo||ft===Iu)throw ft;var It=cn(29,ft,null,L.mode);return It.lanes=X,It.return=L,It}finally{}}}var ms=Lg(!0),Ug=Lg(!1),Cn=et(null),ti=null;function sr(e){var i=e.alternate;nt(be,be.current&1),nt(Cn,e),ti===null&&(i===null||us.current!==null||i.memoizedState!==null)&&(ti=e)}function kg(e){if(e.tag===22){if(nt(be,be.current),nt(Cn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else or()}function or(){nt(be,be.current),nt(Cn,Cn.current)}function Ni(e){st(Cn),ti===e&&(ti=null),st(be)}var be=et(0);function qu(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||_d(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Df(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:E({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=mn(),h=ir(l);h.payload=i,s!=null&&(h.callback=s),i=rr(e,h,l),i!==null&&(pn(i,e,l),Po(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=mn(),h=ir(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=rr(e,h,l),i!==null&&(pn(i,e,l),Po(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=mn(),l=ir(s);l.tag=2,i!=null&&(l.callback=i),i=rr(e,l,s),i!==null&&(pn(i,e,s),Po(i,e,s))}};function zg(e,i,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!wo(s,l)||!wo(h,d):!0}function Bg(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&Of.enqueueReplaceState(i,i.state,null)}function ga(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qg(e){ju(e)}function jg(e){console.error(e)}function Hg(e){ju(e)}function Hu(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,i,s){return s=ir(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,i)},s}function Gg(e){return e=ir(e),e.tag=3,e}function Qg(e,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Fg(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Fg(i,s,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _A(e,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Oo(i,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 13:return ti===null?ed():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===sf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),id(e,l,h)),!1;case 22:return s.flags|=65536,l===sf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),id(e,l,h)),!1}throw Error(a(435,s.tag))}return id(e,l,h),ed(),!1}if(qt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Wh&&(e=Error(a(422),{cause:l}),Do(Sn(e,s)))):(l!==Wh&&(i=Error(a(423),{cause:l}),Do(Sn(i,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,s),h=Nf(e.stateNode,l,h),uf(e,h),ue!==4&&(ue=2)),!1;var d=Error(a(520),{cause:l});if(d=Sn(d,s),$o===null?$o=[d]:$o.push(d),ue!==4&&(ue=2),i===null)return!0;l=Sn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,l,e),uf(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(dr===null||!dr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Qg(h,e,s,l),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Kg=Error(a(461)),Oe=!1;function Ue(e,i,s,l){i.child=e===null?Ug(i,null,s,l):ms(i,e.child,s,l)}function Yg(e,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return da(i),l=mf(e,i,s,v,d,h),T=pf(),e!==null&&!Oe?(gf(e,i,h),Vi(e,i,h)):(qt&&T&&$h(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Xg(e,i,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Kh(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,$g(e,i,d,l,h)):(e=Au(s.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!zf(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:wo,s(v,l)&&e.ref===i.ref)return Vi(e,i,h)}return i.flags|=1,e=wi(d,l),e.ref=i.ref,e.return=i,i.child=e}function $g(e,i,s,l,h){if(e!==null){var d=e.memoizedProps;if(wo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,zf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Vi(e,i,h)}return Vf(e,i,s,l,h)}function Zg(e,i,s){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Wg(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(i,d!==null?d.cachePool:null),d!==null?$p(i,d):hf(),kg(i);else return i.lanes=i.childLanes=536870912,Wg(e,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Cu(i,d.cachePool),$p(i,d),or(),i.memoizedState=null):(e!==null&&Cu(i,null),hf(),or());return Ue(e,i,h,s),i.child}function Wg(e,i,s,l){var h=af();return h=h===null?null:{parent:Se._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},e!==null&&Cu(i,null),hf(),kg(i),e!==null&&Oo(e,i,l,!0),null}function Fu(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Vf(e,i,s,l,h){return da(i),s=mf(e,i,s,l,void 0,h),l=pf(),e!==null&&!Oe?(gf(e,i,h),Vi(e,i,h)):(qt&&l&&$h(i),i.flags|=1,Ue(e,i,s,h),i.child)}function Jg(e,i,s,l,h,d){return da(i),i.updateQueue=null,s=Wp(i,l,s,h),Zp(e),l=pf(),e!==null&&!Oe?(gf(e,i,d),Vi(e,i,d)):(qt&&l&&$h(i),i.flags|=1,Ue(e,i,s,d),i.child)}function ty(e,i,s,l,h){if(da(i),i.stateNode===null){var d=rs,v=s.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Of,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},of(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):rs,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Df(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Of.enqueueReplaceState(d,d.state,null),Uo(i,l,d,h),Lo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=ga(s,T);d.props=C;var B=d.context,Q=s.contextType;v=rs,typeof Q=="object"&&Q!==null&&(v=Fe(Q));var Z=s.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&Bg(i,d,l,v),nr=!1;var q=i.memoizedState;d.state=q,Uo(i,l,d,h),Lo(),B=i.memoizedState,T||q!==B||nr?(typeof Z=="function"&&(Df(i,s,Z,l),B=i.memoizedState),(C=nr||zg(i,s,C,l,q,B,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,lf(e,i),v=i.memoizedProps,Q=ga(s,v),d.props=Q,Z=i.pendingProps,q=d.context,B=s.contextType,C=rs,typeof B=="object"&&B!==null&&(C=Fe(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==C)&&Bg(i,d,l,C),nr=!1,q=i.memoizedState,d.state=q,Uo(i,l,d,h),Lo();var j=i.memoizedState;v!==Z||q!==j||nr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof T=="function"&&(Df(i,s,T,l),j=i.memoizedState),(Q=nr||zg(i,s,Q,l,q,j,C)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ms(i,e.child,null,h),i.child=ms(i,null,s,h)):Ue(e,i,s,h),i.memoizedState=d.state,e=i.child):e=Vi(e,i,h),e}function ey(e,i,s,l){return Io(),i.flags|=256,Ue(e,i,s,l),i.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:jp()}}function Pf(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=In),e}function ny(e,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?sr(i):or(),qt){var T=le,C;if(C=T){t:{for(C=T,T=Jn;C.nodeType!==8;){if(!T){T=null;break t}if(C=Ln(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:la!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},C=cn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,We=i,le=null,C=!0):C=!1}C||ha(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _d(T)?i.lanes=32:i.lanes=536870912,null;Ni(i)}return T=l.children,l=l.fallback,h?(or(),h=i.mode,T=Gu({mode:"hidden",children:T},h),l=oa(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=xf(s),h.childLanes=Pf(e,v,s),i.memoizedState=Mf,l):(sr(i),Lf(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(sr(i),i.flags&=-257,i=Uf(e,i,s)):i.memoizedState!==null?(or(),i.child=e.child,i.flags|=128,i=null):(or(),h=l.fallback,T=i.mode,l=Gu({mode:"visible",children:l.children},T),h=oa(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ms(i,e.child,null,s),l=i.child,l.memoizedState=xf(s),l.childLanes=Pf(e,v,s),i.memoizedState=Mf,i=h);else if(sr(i),_d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(a(419)),l.stack="",l.digest=v,Do({value:l,source:null,stack:null}),i=Uf(e,i,s)}else if(Oe||Oo(e,i,s,!1),v=(s&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null&&(l=s&-s,l=(l&42)!==0?1:Yi(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,is(e,l),pn(v,e,l),Kg;T.data==="$?"||ed(),i=Uf(e,i,s)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,le=Ln(T.nextSibling),We=i,qt=!0,ca=null,Jn=!1,e!==null&&(wn[Rn++]=Ri,wn[Rn++]=Ci,wn[Rn++]=la,Ri=e.id,Ci=e.overflow,la=i),i=Lf(i,l.children),i.flags|=4096);return i}return h?(or(),h=l.fallback,T=i.mode,C=e.child,B=C.sibling,l=wi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?h=wi(B,h):(h=oa(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=xf(s):(C=T.cachePool,C!==null?(B=Se._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=jp(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Pf(e,v,s),i.memoizedState=Mf,l):(sr(i),s=e.child,e=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function Lf(e,i){return i=Gu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Gu(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uf(e,i,s){return ms(i,e.child,null,s),e=Lf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function iy(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),tf(e.return,i,s)}function kf(e,i,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function ry(e,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,s),l=be.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,s,i);else if(e.tag===19)iy(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(be,l),h){case"forwards":for(s=i.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),kf(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}kf(i,!0,s,null,d);break;case"together":kf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),fr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Oo(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,s=wi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=wi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function zf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function vA(e,i,s){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),er(i,Se,e.memoizedState.cache),Io();break;case 27:case 5:Ki(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:er(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(sr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ny(e,i,s):(sr(i),e=Vi(e,i,s),e!==null?e.sibling:null);sr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Oo(e,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return ry(e,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(be,be.current),l)break;return null;case 22:case 23:return i.lanes=0,Zg(e,i,s);case 24:er(i,Se,e.memoizedState.cache)}return Vi(e,i,s)}function ay(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!zf(e,s)&&(i.flags&128)===0)return Oe=!1,vA(e,i,s);Oe=(e.flags&131072)!==0}else Oe=!1,qt&&(i.flags&1048576)!==0&&Pp(i,bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Kh(l)?(e=ga(l,e),i.tag=1,i=ty(null,i,l,e,s)):(i.tag=0,i=Vf(null,i,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===ht){i.tag=11,i=Yg(null,i,l,e,s);break t}else if(h===V){i.tag=14,i=Xg(null,i,l,e,s);break t}}throw i=xe(l)||l,Error(a(306,i,""))}}return i;case 0:return Vf(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ga(l,i.pendingProps),ty(e,i,l,h,s);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,lf(e,i),Uo(i,l,null,s);var v=i.memoizedState;if(l=v.cache,er(i,Se,l),l!==d.cache&&ef(i,[Se],s,!0),Lo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ey(e,i,l,s);break t}else if(l!==h){h=Sn(Error(a(424)),i),Do(h),i=ey(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Ln(e.firstChild),We=i,qt=!0,ca=null,Jn=!0,s=Ug(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Io(),l===h){i=Vi(e,i,s);break t}Ue(e,i,l,s)}i=i.child}return i;case 26:return Fu(e,i),e===null?(s=u_(i.type,null,i.pendingProps,null))?i.memoizedState=s:qt||(s=i.type,e=i.pendingProps,l=ac(Et.current).createElement(s),l[Ee]=i,l[me]=e,ze(l,s,e),ce(l),i.stateNode=l):i.memoizedState=u_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ki(i),e===null&&qt&&(l=i.stateNode=s_(i.type,i.pendingProps,Et.current),We=i,Jn=!0,h=le,gr(i.type)?(vd=h,le=Ln(l.firstChild)):le=h),Ue(e,i,i.pendingProps.children,s),Fu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=le)&&(l=KA(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,We=i,le=Ln(l.firstChild),Jn=!1,h=!0):h=!1),h||ha(i)),Ki(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,pd(h,d)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(e,i,hA,null,null,s),al._currentValue=h),Fu(e,i),Ue(e,i,l,s),i.child;case 6:return e===null&&qt&&((e=s=le)&&(s=YA(s,i.pendingProps,Jn),s!==null?(i.stateNode=s,We=i,le=null,e=!0):e=!1),e||ha(i)),null;case 13:return ny(e,i,s);case 4:return Wt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ms(i,null,l,s):Ue(e,i,l,s),i.child;case 11:return Yg(e,i,i.type,i.pendingProps,s);case 7:return Ue(e,i,i.pendingProps,s),i.child;case 8:return Ue(e,i,i.pendingProps.children,s),i.child;case 12:return Ue(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,er(i,i.type,l.value),Ue(e,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,da(i),h=Fe(h),l=l(h),i.flags|=1,Ue(e,i,l,s),i.child;case 14:return Xg(e,i,i.type,i.pendingProps,s);case 15:return $g(e,i,i.type,i.pendingProps,s);case 19:return ry(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=Gu(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=wi(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return Zg(e,i,s);case 24:return da(i),l=Fe(Se),e===null?(h=af(),h===null&&(h=Jt,d=nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},of(i),er(i,Se,h)):((e.lanes&s)!==0&&(lf(e,i),Uo(i,null,null,s),Lo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),er(i,Se,l)):(l=d.cache,er(i,Se,l),l!==h.cache&&ef(i,[Se],s,!0))),Ue(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Mi(e){e.flags|=4}function sy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(i)){if(i=Cn.current,i!==null&&((Lt&4194048)===Lt?ti!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ti))throw xo=sf,Hp;e.flags|=8192}}function Qu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?so():536870912,e.lanes|=i,_s|=i)}function Fo(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function EA(e,i,s){var l=i.pendingProps;switch(Zh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(i),null;case 1:return ie(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Di(Se),qn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Co(i)?Mi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kp())),ie(i),null;case 26:return s=i.memoizedState,e===null?(Mi(i),s!==null?(ie(i),sy(i,s)):(ie(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Mi(i),ie(i),sy(i,s)):(ie(i),i.flags&=-16777217):(e.memoizedProps!==l&&Mi(i),ie(i),i.flags&=-16777217),null;case 27:fi(i),s=Et.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ie(i),null}e=pt.current,Co(i)?Lp(i):(e=s_(h,l,s),i.stateNode=e,Mi(i))}return ie(i),null;case 5:if(fi(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Mi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return ie(i),null}if(e=pt.current,Co(i))Lp(i);else{switch(h=ac(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[Ee]=i,e[me]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(i)}}return ie(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Mi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(e=Et.current,Co(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Jy(e.nodeValue,s)),e||ha(i)}else e=ac(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return ie(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ee]=i}else Io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ie(i),h=!1}else h=kp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ni(i),i):(Ni(i),null)}if(Ni(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Qu(i,i.updateQueue),ie(i),null;case 4:return qn(),e===null&&cd(i.stateNode.containerInfo),ie(i),null;case 10:return Di(i.type),ie(i),null;case 19:if(st(be),h=i.memoizedState,h===null)return ie(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Fo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=qu(e),d!==null){for(i.flags|=128,Fo(h,!1),e=d.updateQueue,i.updateQueue=e,Qu(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)xp(s,e),s=s.sibling;return nt(be,be.current&1|2),i.child}e=e.sibling}h.tail!==null&&yn()>Xu&&(i.flags|=128,l=!0,Fo(h,!1),i.lanes=4194304)}else{if(!l)if(e=qu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Qu(i,e),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ie(i),null}else 2*yn()-h.renderingStartTime>Xu&&s!==536870912&&(i.flags|=128,l=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,e=be.current,nt(be,l?e&1|2:e&1),i):(ie(i),null);case 22:case 23:return Ni(i),ff(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(ie(i),i.subtreeFlags&6&&(i.flags|=8192)):ie(i),s=i.updateQueue,s!==null&&Qu(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&st(ma),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(Se),ie(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function TA(e,i){switch(Zh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Di(Se),qn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return fi(i),null;case 13:if(Ni(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Io()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return st(be),null;case 4:return qn(),null;case 10:return Di(i.type),null;case 22:case 23:return Ni(i),ff(),e!==null&&st(ma),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function oy(e,i){switch(Zh(i),i.tag){case 3:Di(Se),qn();break;case 26:case 27:case 5:fi(i);break;case 4:qn();break;case 13:Ni(i);break;case 19:st(be);break;case 10:Di(i.type);break;case 22:case 23:Ni(i),ff(),e!==null&&st(ma);break;case 24:Di(Se)}}function Go(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Zt(i,i.return,T)}}function lr(e,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=s,B=T;try{B()}catch(Q){Zt(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){Zt(i,i.return,Q)}}function ly(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Xp(i,s)}catch(l){Zt(e,e.return,l)}}}function uy(e,i,s){s.props=ga(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,i,l)}}function Qo(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Zt(e,i,h)}}function ei(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,i,h)}else s.current=null}function cy(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function Bf(e,i,s){try{var l=e.stateNode;jA(l,e.type,s,i),l[me]=i}catch(h){Zt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gr(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=rc));else if(l!==4&&(l===27&&gr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(jf(e,i,s),e=e.sibling;e!==null;)jf(e,i,s),e=e.sibling}function Ku(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&gr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,i,s),e=e.sibling;e!==null;)Ku(e,i,s),e=e.sibling}function fy(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,s),i[Ee]=e,i[me]=s}catch(d){Zt(e,e.return,d)}}var xi=!1,fe=!1,Hf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function AA(e,i){if(e=e.containerInfo,dd=hc,e=bp(e),Bh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,C=-1,B=0,Q=0,Z=e,q=null;e:for(;;){for(var j;Z!==s||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(j=Z.firstChild)!==null;)q=Z,Z=j;for(;;){if(Z===e)break e;if(q===s&&++B===h&&(T=v),q===d&&++Q===l&&(C=v),(j=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=j}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},hc=!1,Ne=i;Ne!==null;)if(i=Ne,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ne=e;else for(;Ne!==null;){switch(i=Ne,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var vt=ga(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,Ne=e;break}Ne=i.return}}function my(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ur(e,s),l&4&&Go(5,s);break;case 1:if(ur(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(s,s.return,v)}else{var h=ga(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(s,s.return,v)}}l&64&&ly(s),l&512&&Qo(s,s.return);break;case 3:if(ur(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Xp(e,i)}catch(v){Zt(s,s.return,v)}}break;case 27:i===null&&l&4&&fy(s);case 26:case 5:ur(e,s),i===null&&l&4&&cy(s),l&512&&Qo(s,s.return);break;case 12:ur(e,s);break;case 13:ur(e,s),l&4&&yy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=NA.bind(null,s),XA(e,s))));break;case 22:if(l=s.memoizedState!==null||xi,!l){i=i!==null&&i.memoizedState!==null||fe,h=xi;var d=fe;xi=l,(fe=i)&&!d?cr(e,s,(s.subtreeFlags&8772)!==0):ur(e,s),xi=h,fe=d}break;case 30:break;default:ur(e,s)}}function py(e){var i=e.alternate;i!==null&&(e.alternate=null,py(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,nn=!1;function Pi(e,i,s){for(s=s.child;s!==null;)gy(e,i,s),s=s.sibling}function gy(e,i,s){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,s)}catch{}switch(s.tag){case 26:fe||ei(s,i),Pi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:fe||ei(s,i);var l=ne,h=nn;gr(s.type)&&(ne=s.stateNode,nn=!1),Pi(e,i,s),el(s.stateNode),ne=l,nn=h;break;case 5:fe||ei(s,i);case 6:if(l=ne,h=nn,ne=null,Pi(e,i,s),ne=l,nn=h,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(d){Zt(s,i,d)}else try{ne.removeChild(s.stateNode)}catch(d){Zt(s,i,d)}break;case 18:ne!==null&&(nn?(e=ne,r_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ul(e)):r_(ne,s.stateNode));break;case 4:l=ne,h=nn,ne=s.stateNode.containerInfo,nn=!0,Pi(e,i,s),ne=l,nn=h;break;case 0:case 11:case 14:case 15:fe||lr(2,s,i),fe||lr(4,s,i),Pi(e,i,s);break;case 1:fe||(ei(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&uy(s,i,l)),Pi(e,i,s);break;case 21:Pi(e,i,s);break;case 22:fe=(l=fe)||s.memoizedState!==null,Pi(e,i,s),fe=l;break;default:Pi(e,i,s)}}function yy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ul(e)}catch(s){Zt(i,i.return,s)}}function SA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new dy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new dy),i;default:throw Error(a(435,e.tag))}}function Ff(e,i){var s=SA(e);i.forEach(function(l){var h=VA.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function hn(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){ne=T.stateNode,nn=!1;break t}break;case 5:ne=T.stateNode,nn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ne===null)throw Error(a(160));gy(d,v,h),ne=null,nn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_y(i,e),i=i.sibling}var Pn=null;function _y(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(lr(3,e,e.return),Go(3,e),lr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(fe||s===null||ei(s,s.return)),l&64&&xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Pn;if(hn(i,e),fn(e),l&512&&(fe||s===null||ei(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Gr]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,s),d[Ee]=e,ce(d),l=d;break t;case"link":var v=f_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,s),h.head.appendChild(d);break;case"meta":if(v=f_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ee]=e,ce(d),l=d}e.stateNode=l}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?d_(h,e.type,e.stateNode):h_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(fe||s===null||ei(s,s.return)),s!==null&&l&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(fe||s===null||ei(s,s.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(j){Zt(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(j){Zt(e,e.return,j)}}break;case 3:if(lc=null,h=Pn,Pn=sc(i.containerInfo),hn(i,e),Pn=h,fn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(j){Zt(e,e.return,j)}Hf&&(Hf=!1,vy(e));break;case 4:l=Pn,Pn=sc(e.stateNode.containerInfo),hn(i,e),fn(e),Pn=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($f=yn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,B=xi,Q=fe;if(xi=B||h,fe=Q||C,hn(i,e),fe=Q,xi=B,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||C||xi||fe||ya(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){C=s=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(j){Zt(C,C.return,j)}}}else if(i.tag===6){if(s===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(j){Zt(C,C.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ff(e,s))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(hy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=qf(e);Ku(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(vn(v,""),s.flags&=-33);var T=qf(e);Ku(e,T,v);break;case 3:case 4:var C=s.stateNode.containerInfo,B=qf(e);jf(e,B,C);break;default:throw Error(a(161))}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ur(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)my(e,i.alternate,i),i=i.sibling}function ya(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:lr(4,i,i.return),ya(i);break;case 1:ei(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&uy(i,i.return,s),ya(i);break;case 27:el(i.stateNode);case 26:case 5:ei(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}e=e.sibling}}function cr(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:cr(h,d,s),Go(4,d);break;case 1:if(cr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Zt(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yp(C[h],T)}catch(B){Zt(l,l.return,B)}}s&&v&64&&ly(d),Qo(d,d.return);break;case 27:fy(d);case 26:case 5:cr(h,d,s),s&&l===null&&v&4&&cy(d),Qo(d,d.return);break;case 12:cr(h,d,s);break;case 13:cr(h,d,s),s&&v&4&&yy(h,d);break;case 22:d.memoizedState===null&&cr(h,d,s),Qo(d,d.return);break;case 30:break;default:cr(h,d,s)}i=i.sibling}}function Gf(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&No(s))}function Qf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e))}function ni(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ey(e,i,s,l),i=i.sibling}function Ey(e,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,s,l),h&2048&&Go(9,i);break;case 1:ni(e,i,s,l);break;case 3:ni(e,i,s,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){ni(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Zt(i,i.return,C)}}else ni(e,i,s,l);break;case 13:ni(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,s,l):Ko(e,i):d._visibility&2?ni(e,i,s,l):(d._visibility|=2,ps(e,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(v,i);break;case 24:ni(e,i,s,l),h&2048&&Qf(i.alternate,i);break;default:ni(e,i,s,l)}}function ps(e,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=s,C=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:ps(d,v,T,C,h),Go(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?ps(d,v,T,C,h):Ko(d,v):(Q._visibility|=2,ps(d,v,T,C,h)),h&&B&2048&&Gf(v.alternate,v);break;case 24:ps(d,v,T,C,h),h&&B&2048&&Qf(v.alternate,v);break;default:ps(d,v,T,C,h)}i=i.sibling}}function Ko(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,h=l.flags;switch(l.tag){case 22:Ko(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Ko(s,l),h&2048&&Qf(l.alternate,l);break;default:Ko(s,l)}i=i.sibling}}var Yo=8192;function gs(e){if(e.subtreeFlags&Yo)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 26:gs(e),e.flags&Yo&&e.memoizedState!==null&&lS(Pn,e.memoizedState,e.memoizedProps);break;case 5:gs(e);break;case 3:case 4:var i=Pn;Pn=sc(e.stateNode.containerInfo),gs(e),Pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,gs(e),Yo=i):gs(e));break;default:gs(e)}}function Ay(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Xo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ne=l,by(l,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Yu(e)):Xo(e);break;default:Xo(e)}}function Yu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Ne=l,by(l,e)}Ay(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:lr(8,i,i.return),Yu(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(i));break;default:Yu(i)}e=e.sibling}}function by(e,i){for(;Ne!==null;){var s=Ne;switch(s.tag){case 0:case 11:case 15:lr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ne=l;else t:for(s=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if(py(l),l===s){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}var bA={getCacheForType:function(e){var i=Fe(Se),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},wA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Lt=0,Qt=0,dn=null,hr=!1,ys=!1,Kf=!1,Li=0,ue=0,fr=0,_a=0,Yf=0,In=0,_s=0,$o=null,rn=null,Xf=!1,$f=0,Xu=1/0,$u=null,dr=null,ke=0,mr=null,vs=null,Es=0,Zf=0,Wf=null,wy=null,Zo=0,Jf=null;function mn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var e=os;return e!==0?e:sd()}return Xi()}function Ry(){In===0&&(In=(Lt&536870912)===0||qt?ao():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),In}function pn(e,i,s){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ts(e,0),pr(e,Lt,In,!1)),mi(e,s),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(_a|=s),ue===4&&pr(e,Lt,In,!1)),ii(e))}function Cy(e,i,s){if((Gt&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||Fr(e,i),h=l?IA(e,i):nd(e,i,!0),d=l;do{if(h===0){ys&&!l&&pr(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!RA(s)){h=nd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=$o;var C=T.current.memoizedState.isDehydrated;if(C&&(Ts(T,v).flags|=256),v=nd(T,v,!1),v!==2){if(Kf&&!C){T.errorRecoveryDisabledLanes|=d,_a|=d,h=4;break t}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ts(e,0),pr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pr(l,i,In,!hr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=$f+300-yn(),10<h)){if(pr(l,i,In,!hr),ka(l,0,!0)!==0)break t;l.timeoutHandle=n_(Iy.bind(null,l,s,rn,$u,Xf,i,In,_a,_s,hr,d,2,-0,0),h);break t}Iy(l,s,rn,$u,Xf,i,In,_a,_s,hr,d,0,-0,0)}}break}while(!0);ii(e)}function Iy(e,i,s,l,h,d,v,T,C,B,Q,Z,q,j){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:oS},Ty(i),Z=uS(),Z!==null)){e.cancelPendingCommit=Z(Py.bind(null,e,i,d,s,l,h,v,T,C,Q,1,q,j)),pr(e,d,v,!B);return}Py(e,i,d,s,l,h,v,T,C)}function RA(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i,s,l){i&=~Yf,i&=~_a,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-He(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&jn(e,s,i)}function Zu(){return(Gt&6)===0?(Wo(0),!1):!0}function td(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,Ii=fa=null,yf(e),ds=null,jo=0,e=Dt;for(;e!==null;)oy(e.alternate,e),e=e.return;Dt=null}}function Ts(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,FA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),td(),Jt=e,Dt=s=wi(e.current,null),Lt=i,Qt=0,dn=null,hr=!1,ys=Fr(e,i),Kf=!1,_s=In=Yf=_a=fr=ue=0,rn=$o=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-He(l),d=1<<h;i|=e[h],l&=~d}return Li=i,vu(),s}function Dy(e,i){wt=null,G.H=ku,i===Mo||i===Iu?(i=Qp(),Qt=3):i===Hp?(i=Qp(),Qt=4):Qt=i===Kg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Dt===null&&(ue=1,Hu(e,Sn(i,e.current)))}function Oy(){var e=G.H;return G.H=ku,e===null?ku:e}function Ny(){var e=G.A;return G.A=bA,e}function ed(){ue=4,hr||(Lt&4194048)!==Lt&&Cn.current!==null||(ys=!0),(fr&134217727)===0&&(_a&134217727)===0||Jt===null||pr(Jt,Lt,In,!1)}function nd(e,i,s){var l=Gt;Gt|=2;var h=Oy(),d=Ny();(Jt!==e||Lt!==i)&&($u=null,Ts(e,i)),i=!1;var v=ue;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,C=dn;switch(Qt){case 8:td(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var B=Qt;if(Qt=0,dn=null,As(e,T,C,B),s&&ys){v=0;break t}break;default:B=Qt,Qt=0,dn=null,As(e,T,C,B)}}CA(),v=ue;break}catch(Q){Dy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Ii=fa=null,Gt=l,G.H=h,G.A=d,Dt===null&&(Jt=null,Lt=0,vu()),v}function CA(){for(;Dt!==null;)Vy(Dt)}function IA(e,i){var s=Gt;Gt|=2;var l=Oy(),h=Ny();Jt!==e||Lt!==i?($u=null,Xu=yn()+500,Ts(e,i)):ys=Fr(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=dn;e:switch(Qt){case 1:Qt=0,dn=null,As(e,i,d,1);break;case 2:case 9:if(Fp(d)){Qt=0,dn=null,My(i);break}i=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),ii(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Fp(d)?(Qt=0,dn=null,My(i)):(Qt=0,dn=null,As(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||m_(v)){Qt=0,dn=null;var C=T.sibling;if(C!==null)Dt=C;else{var B=T.return;B!==null?(Dt=B,Wu(B)):Dt=null}break e}}Qt=0,dn=null,As(e,i,d,5);break;case 6:Qt=0,dn=null,As(e,i,d,6);break;case 8:td(),ue=6;break t;default:throw Error(a(462))}}DA();break}catch(Q){Dy(e,Q)}while(!0);return Ii=fa=null,G.H=l,G.A=h,Gt=s,Dt!==null?0:(Jt=null,Lt=0,vu(),ue)}function DA(){for(;Dt!==null&&!eo();)Vy(Dt)}function Vy(e){var i=ay(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function My(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Jg(s,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Jg(s,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:yf(i);default:oy(s,i),i=Dt=xp(i,Li),i=ay(s,i,Li)}e.memoizedProps=e.pendingProps,i===null?Wu(e):Dt=i}function As(e,i,s,l){Ii=fa=null,yf(i),ds=null,jo=0;var h=i.return;try{if(_A(e,h,i,s,Lt)){ue=1,Hu(e,Sn(s,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ue=1,Hu(e,Sn(s,e.current)),Dt=null;return}i.flags&32768?(qt||l===1?e=!0:ys||(Lt&536870912)!==0?e=!1:(hr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(i,e)):Wu(i)}function Wu(e){var i=e;do{if((i.flags&32768)!==0){xy(i,hr);return}e=i.return;var s=EA(i.alternate,i,Li);if(s!==null){Dt=s;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ue===0&&(ue=5)}function xy(e,i){do{var s=TA(e.alternate,e);if(s!==null){s.flags&=32767,Dt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=s}while(e!==null);ue=6,Dt=null}function Py(e,i,s,l,h,d,v,T,C){e.cancelPendingCommit=null;do Ju();while(ke!==0);if((Gt&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Gh,oo(e,s,d,v,T,C),e===Jt&&(Dt=Jt=null,Lt=0),vs=i,mr=e,Es=s,Zf=d,Wf=h,wy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,MA(Br,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{AA(e,i,s)}finally{Gt=v,at.p=h,G.T=l}}ke=1,Ly(),Uy(),ky()}}function Ly(){if(ke===1){ke=0;var e=mr,i=vs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{_y(i,e);var d=md,v=bp(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Sp(T.ownerDocument.documentElement,T)){if(C!==null&&Bh(T)){var B=C.start,Q=C.end;if(Q===void 0&&(Q=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Q,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var j=q.getSelection(),vt=T.textContent.length,gt=Math.min(C.start,vt),$t=C.end===void 0?gt:Math.min(C.end,vt);!j.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var L=Ap(T,gt),N=Ap(T,$t);if(L&&N&&(j.rangeCount!==1||j.anchorNode!==L.node||j.anchorOffset!==L.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),j.removeAllRanges(),gt>$t?(j.addRange(z),j.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),j.addRange(z))}}}}for(Z=[],j=T;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}hc=!!dd,md=dd=null}finally{Gt=h,at.p=l,G.T=s}}e.current=i,ke=2}}function Uy(){if(ke===2){ke=0;var e=mr,i=vs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{my(e,i.alternate,i)}finally{Gt=h,at.p=l,G.T=s}}ke=3}}function ky(){if(ke===4||ke===3){ke=0,Yl();var e=mr,i=vs,s=Es,l=wy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ke=5:(ke=0,vs=mr=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(dr=null),za(s),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=at.p,at.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,at.p=h}}(Es&3)!==0&&Ju(),ii(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Jf?Zo++:(Zo=0,Jf=e):Zo=0,Wo(0)}}function zy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,No(i)))}function Ju(e){return Ly(),Uy(),ky(),By()}function By(){if(ke!==5)return!1;var e=mr,i=Zf;Zf=0;var s=za(Es),l=G.T,h=at.p;try{at.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var d=mr,v=Es;if(ke=0,vs=mr=null,Es=0,(Gt&6)!==0)throw Error(a(331));var T=Gt;if(Gt|=4,Sy(d.current),Ey(d,d.current,v,s),Gt=T,Wo(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{at.p=h,G.T=l,zy(e,i)}}function qy(e,i,s){i=Sn(s,i),i=Nf(e.stateNode,i,2),e=rr(e,i,2),e!==null&&(mi(e,2),ii(e))}function Zt(e,i,s){if(e.tag===3)qy(e,e,s);else for(;i!==null;){if(i.tag===3){qy(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){e=Sn(s,e),s=Gg(2),l=rr(i,s,2),l!==null&&(Qg(s,l,i,e),mi(l,2),ii(l));break}}i=i.return}}function id(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new wA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Kf=!0,h.add(s),e=OA.bind(null,e,i,s),i.then(e,e))}function OA(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Lt&s)===s&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>yn()-$f?(Gt&2)===0&&Ts(e,0):Yf|=s,_s===Lt&&(_s=0)),ii(e)}function jy(e,i){i===0&&(i=so()),e=is(e,i),e!==null&&(mi(e,i),ii(e))}function NA(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),jy(e,s)}function VA(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),jy(e,s)}function MA(e,i){return kr(e,i)}var tc=null,Ss=null,rd=!1,ec=!1,ad=!1,va=0;function ii(e){e!==Ss&&e.next===null&&(Ss===null?tc=Ss=e:Ss=Ss.next=e),ec=!0,rd||(rd=!0,PA())}function Wo(e,i){if(!ad&&ec){ad=!0;do for(var s=!1,l=tc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-He(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Qy(l,d))}else d=Lt,d=ka(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fr(l,d)||(s=!0,Qy(l,d));l=l.next}while(s);ad=!1}}function xA(){Hy()}function Hy(){ec=rd=!1;var e=0;va!==0&&(HA()&&(e=va),va=0);for(var i=yn(),s=null,l=tc;l!==null;){var h=l.next,d=Fy(l,i);d===0?(l.next=null,s===null?tc=h:s.next=h,h===null&&(Ss=s)):(s=l,(e!==0||(d&3)!==0)&&(ec=!0)),l=h}Wo(e)}function Fy(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-He(d),T=1<<v,C=h[v];C===-1?((T&s)===0||(T&l)!==0)&&(h[v]=ro(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Jt,s=Lt,s=ka(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Fr(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&zr(l),za(s)){case 2:case 8:s=La;break;case 32:s=Br;break;case 268435456:s=Ua;break;default:s=Br}return l=Gy.bind(null,e),s=kr(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&zr(l),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,i){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ju()&&e.callbackNode!==s)return null;var l=Lt;return l=ka(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Cy(e,l,i),Fy(e,yn()),e.callbackNode!=null&&e.callbackNode===s?Gy.bind(null,e):null)}function Qy(e,i){if(Ju())return null;Cy(e,i,!0)}function PA(){GA(function(){(Gt&6)!==0?kr(no,xA):Hy()})}function sd(){return va===0&&(va=ao()),va}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ga(""+e)}function Yy(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function LA(e,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=Ky((h[me]||null).action),v=l.submitter;v&&(i=(i=v[me]||null)?Ky(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Qa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var C=v?Yy(h,v):new FormData(h);Rf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Yy(h,v):new FormData(h),Rf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var od=0;od<Fh.length;od++){var ld=Fh[od],UA=ld.toLowerCase(),kA=ld[0].toUpperCase()+ld.slice(1);xn(UA,"on"+kA)}xn(Cp,"onAnimationEnd"),xn(Ip,"onAnimationIteration"),xn(Dp,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(eA,"onTransitionRun"),xn(nA,"onTransitionStart"),xn(iA,"onTransitionCancel"),xn(Op,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Xy(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,B=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=B;try{d(h)}catch(Q){ju(Q)}h.currentTarget=null,d=C}}}}function Ot(e,i){var s=i[uo];s===void 0&&(s=i[uo]=new Set);var l=e+"__bubble";s.has(l)||($y(i,e,2,!1),s.add(l))}function ud(e,i,s){var l=0;i&&(l|=4),$y(s,e,l,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[nc]){e[nc]=!0,co.forEach(function(s){s!=="selectionchange"&&(zA.has(s)||ud(s,!1,e),ud(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[nc]||(i[nc]=!0,ud("selectionchange",!1,i))}}function $y(e,i,s,l){switch(E_(i)){case 2:var h=fS;break;case 8:h=dS;break;default:h=bd}s=h.bind(null,i,s,e),h=void 0,!Tn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,s,{capture:!0,passive:h}):e.addEventListener(i,s,!0):h!==void 0?e.addEventListener(i,s,{passive:h}):e.addEventListener(i,s,!1)}function hd(e,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ru(function(){var B=d,Q=En(s),Z=[];t:{var q=Np.get(e);if(q!==void 0){var j=Qa,vt=e;switch(e){case"keypress":if(Yn(s)===0)break t;case"keydown":case"keyup":j=Wa;break;case"focusin":vt="focus",j=Xa;break;case"focusout":vt="blur",j=Xa;break;case"beforeblur":case"afterblur":j=Xa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fu;break;case Cp:case Ip:case Dp:j=$a;break;case Op:j=mu;break;case"scroll":case"scrollend":j=au;break;case"wheel":j=Ja;break;case"copy":case"cut":case"paste":j=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=So;break;case"toggle":case"beforetoggle":j=gu}var gt=(i&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),L=gt?q!==null?q+"Capture":null:q;gt=[];for(var N=B,z;N!==null;){var X=N;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=Wr(N,L),X!=null&&gt.push(tl(N,X,z))),$t)break;N=N.return}0<gt.length&&(q=new j(q,vt,null,s,Q),Z.push({event:q,listeners:gt}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",q&&s!==vi&&(vt=s.relatedTarget||s.fromElement)&&(pi(vt)||vt[_n]))break t;if((j||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,j?(vt=s.relatedTarget||s.toElement,j=B,vt=vt?pi(vt):null,vt!==null&&($t=u(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(j=null,vt=B),j!==vt)){if(gt=An,X="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=So,X="onPointerLeave",L="onPointerEnter",N="pointer"),$t=j==null?q:Fn(j),z=vt==null?q:Fn(vt),q=new gt(X,N+"leave",j,s,Q),q.target=$t,q.relatedTarget=z,X=null,pi(Q)===B&&(gt=new gt(L,N+"enter",vt,s,Q),gt.target=z,gt.relatedTarget=$t,X=gt),$t=X,j&&vt)e:{for(gt=j,L=vt,N=0,z=gt;z;z=bs(z))N++;for(z=0,X=L;X;X=bs(X))z++;for(;0<N-z;)gt=bs(gt),N--;for(;0<z-N;)L=bs(L),z--;for(;N--;){if(gt===L||L!==null&&gt===L.alternate)break e;gt=bs(gt),L=bs(L)}gt=null}else gt=null;j!==null&&Zy(Z,q,j,gt,!1),vt!==null&&$t!==null&&Zy(Z,$t,vt,gt,!0)}}t:{if(q=B?Fn(B):window,j=q.nodeName&&q.nodeName.toLowerCase(),j==="select"||j==="input"&&q.type==="file")var ut=gp;else if(Ae(q))if(yp)ut=WT;else{ut=$T;var It=XT}else j=q.nodeName,!j||j.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&go(B.elementType)&&(ut=gp):ut=ZT;if(ut&&(ut=ut(e,B))){bi(Z,ut,s,Q);break t}It&&It(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Ji(q,"number",q.value)}switch(It=B?Fn(B):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(ts=It,qh=B,Ro=null);break;case"focusout":Ro=qh=ts=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,wp(Z,s,Q);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":wp(Z,s,Q)}var ft;if(Zn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else xt?F(e,s)&&(yt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(_&&s.locale!=="ko"&&(xt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&xt&&(ft=_o()):(Kn=Q,tr="value"in Kn?Kn.value:Kn.textContent,xt=!0)),It=ic(B,yt),0<It.length&&(yt=new To(yt,e,null,s,Q),Z.push({event:yt,listeners:It}),ft?yt.data=ft:(ft=rt(s),ft!==null&&(yt.data=ft)))),(ft=g?Te(e,s):Pt(e,s))&&(yt=ic(B,"onBeforeInput"),0<yt.length&&(It=new To("onBeforeInput","beforeinput",null,s,Q),Z.push({event:It,listeners:yt}),It.data=ft)),LA(Z,e,B,s,Q)}Xy(Z,i)})}function tl(e,i,s){return{instance:e,listener:i,currentTarget:s}}function ic(e,i){for(var s=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wr(e,s),h!=null&&l.unshift(tl(e,h,d)),h=Wr(e,i),h!=null&&l.push(tl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,h?(B=Wr(s,d),B!=null&&v.unshift(tl(s,B,C))):h||(B=Wr(s,d),B!=null&&v.push(tl(s,B,C)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var BA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function Wy(e){return(typeof e=="string"?e:""+e).replace(BA,`
`).replace(qA,"")}function Jy(e,i){return i=Wy(i),Wy(e)===i}function rc(){}function Xt(e,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,s,l);break;case"style":po(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ga(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ga(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=rc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ga(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Wi(e,"popover",l);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=xh.get(s)||s,Wi(e,s,l))}}function fd(e,i,s,l,h,d){switch(s){case"style":po(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=e[me]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Wi(e,s,l)}}}function ze(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xt(e,i,d,v,s,null)}}h&&Xt(e,i,"srcSet",s.srcSet,s,null),l&&Xt(e,i,"src",s.src,s,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,C=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":C=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Xt(e,i,l,Q,s,null)}}Xr(e,d,T,C,B,v,h,!1),Fa(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,s,null)}i=d,s=v,e.multiple=!!l,i!=null?_i(e,!!l,i,!1):s!=null&&_i(e,!!l,s,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xt(e,i,v,T,s,null)}$r(e,l,h,d),Fa(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,C,l,s,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Ot(Jo[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xt(e,i,B,l,s,null)}return;default:if(go(i)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(e,i,Q,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xt(e,i,T,l,s,null))}function jA(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,B=null,Q=null;for(j in s){var Z=s[j];if(s.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(j)||Xt(e,i,j,null,l,Z)}}for(var q in l){var j=l[q];if(Z=s[q],l.hasOwnProperty(q)&&(j!=null||Z!=null))switch(q){case"type":d=j;break;case"name":h=j;break;case"checked":B=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,i));break;default:j!==Z&&Xt(e,i,q,j,l,Z)}}ln(e,v,T,C,B,Q,d,h);return;case"select":j=v=T=q=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=s[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&Xt(e,i,h,d,l,C)}i=T,s=v,l=j,q!=null?_i(e,!!s,q,!1):!!l!=!!s&&(i!=null?_i(e,!!s,i,!0):_i(e,!!s,s?[]:"",!1));return;case"textarea":j=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Kt(e,q,j);return;case"option":for(var vt in s)if(q=s[vt],s.hasOwnProperty(vt)&&q!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Xt(e,i,vt,null,l,q)}for(C in l)if(q=l[C],j=s[C],l.hasOwnProperty(C)&&q!==j&&(q!=null||j!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xt(e,i,C,q,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)q=s[gt],s.hasOwnProperty(gt)&&q!=null&&!l.hasOwnProperty(gt)&&Xt(e,i,gt,null,l,q);for(B in l)if(q=l[B],j=s[B],l.hasOwnProperty(B)&&q!==j&&(q!=null||j!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Xt(e,i,B,q,l,j)}return;default:if(go(i)){for(var $t in s)q=s[$t],s.hasOwnProperty($t)&&q!==void 0&&!l.hasOwnProperty($t)&&fd(e,i,$t,void 0,l,q);for(Q in l)q=l[Q],j=s[Q],!l.hasOwnProperty(Q)||q===j||q===void 0&&j===void 0||fd(e,i,Q,q,l,j);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Xt(e,i,L,null,l,q);for(Z in l)q=l[Z],j=s[Z],!l.hasOwnProperty(Z)||q===j||q==null&&j==null||Xt(e,i,Z,q,l,j)}var dd=null,md=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gd=null;function HA(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(QA)}:n_;function QA(e){setTimeout(function(){throw e})}function gr(e){return e==="head"}function r_(e,i){var s=i,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=e.ownerDocument;if(s&1&&el(v.documentElement),s&2&&el(v.body),s&4)for(s=v.head,el(s),v=s.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Gr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){e.removeChild(d),ul(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);ul(i)}function yd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),Zi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function KA(e,i,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function YA(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function XA(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var vd=null;function a_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function s_(e,i,s){switch(i=ac(s),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zi(e)}var Dn=new Map,o_=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=at.d;at.d={f:$A,r:ZA,D:WA,C:JA,L:tS,m:eS,X:iS,S:nS,M:rS};function $A(){var e=Ui.f(),i=Zu();return e||i}function ZA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?Cg(i):Ui.r(e)}var ws=typeof document>"u"?null:document;function l_(e,i,s){var l=ws;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function WA(e){Ui.D(e),l_("dns-prefetch",e,null)}function JA(e,i){Ui.C(e,i),l_("preconnect",e,i)}function tS(e,i,s){Ui.L(e,i,s);var l=ws;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+pe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+pe(s.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=Rs(e);break;case"script":d=Cs(e)}Dn.has(d)||(e=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Dn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(nl(d))||i==="script"&&l.querySelector(il(d))||(i=l.createElement("link"),ze(i,"link",e),ce(i),l.head.appendChild(i)))}}function eS(e,i){Ui.m(e,i);var s=ws;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cs(e)}if(!Dn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Dn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(il(d)))return}l=s.createElement("link"),ze(l,"link",e),ce(l),s.head.appendChild(l)}}}function nS(e,i,s){Ui.S(e,i,s);var l=ws;if(l&&e){var h=Xe(l).hoistableStyles,d=Rs(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(nl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Dn.get(d))&&Ed(e,s);var C=v=l.createElement("link");ce(C),ze(C,"link",e),C._p=new Promise(function(B,Q){C.onload=B,C.onerror=Q}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function iS(e,i){Ui.X(e,i);var s=ws;if(s&&e){var l=Xe(s).hoistableScripts,h=Cs(e),d=l.get(h);d||(d=s.querySelector(il(h)),d||(e=E({src:e,async:!0},i),(i=Dn.get(h))&&Td(e,i),d=s.createElement("script"),ce(d),ze(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rS(e,i){Ui.M(e,i);var s=ws;if(s&&e){var l=Xe(s).hoistableScripts,h=Cs(e),d=l.get(h);d||(d=s.querySelector(il(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Dn.get(h))&&Td(e,i),d=s.createElement("script"),ce(d),ze(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u_(e,i,s,l){var h=(h=Et.current)?sc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Rs(s.href),s=Xe(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Rs(s.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(nl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Dn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(e,s),d||aS(h,e,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Cs(s),s=Xe(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Rs(e){return'href="'+pe(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",s),ce(i),e.head.appendChild(i))}function Cs(e){return'[src="'+pe(e)+'"]'}function il(e){return"script[async]"+e}function h_(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(s.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ze(l,"style",h),oc(l,s.precedence,e),i.instance=l;case"stylesheet":h=Rs(s.href);var d=e.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=c_(s),(h=Dn.get(h))&&Ed(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),ze(d,"link",l),i.state.loading|=4,oc(d,s.precedence,e),i.instance=d;case"script":return d=Cs(s.src),(h=e.querySelector(il(d)))?(i.instance=h,ce(h),h):(l=s,(h=Dn.get(d))&&(l=E({},s),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oc(l,s.precedence,e));return i.instance}function oc(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var lc=null;function f_(e,i,s){if(lc===null){var l=new Map,h=lc=new Map;h.set(s,l)}else h=lc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Gr]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function d_(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function sS(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var rl=null;function oS(){}function lS(e,i,s){if(rl===null)throw Error(a(475));var l=rl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Rs(s.href),d=e.querySelector(nl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=uc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,s=c_(s),(h=Dn.get(h))&&Ed(s,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),ze(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=uc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function uS(){if(rl===null)throw Error(a(475));var e=rl;return e.stylesheets&&e.count===0&&Ad(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ad(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function Ad(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,i.forEach(cS,e),cc=null,uc.call(e))}function cS(e,i){if(!(i.state.loading&4)){var s=cc.get(e);if(s)var l=s.get(null);else{s=new Map,cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var al={$$typeof:tt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function hS(e,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function p_(e,i,s,l,h,d,v,T,C,B,Q,Z){return e=new hS(e,i,s,v,T,C,B,Z),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=nf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},of(d),e}function g_(e){return e?(e=rs,e):rs}function y_(e,i,s,l,h,d){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=ir(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=rr(e,l,i),s!==null&&(pn(s,e,i),Po(s,e,i))}function __(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Sd(e,i){__(e,i),(e=e.alternate)&&__(e,i)}function v_(e){if(e.tag===13){var i=is(e,67108864);i!==null&&pn(i,e,67108864),Sd(e,67108864)}}var hc=!0;function fS(e,i,s,l){var h=G.T;G.T=null;var d=at.p;try{at.p=2,bd(e,i,s,l)}finally{at.p=d,G.T=h}}function dS(e,i,s,l){var h=G.T;G.T=null;var d=at.p;try{at.p=8,bd(e,i,s,l)}finally{at.p=d,G.T=h}}function bd(e,i,s,l){if(hc){var h=wd(l);if(h===null)hd(e,i,l,fc,s),T_(e,l);else if(pS(h,e,i,s,l))l.stopPropagation();else if(T_(e,l),i&4&&-1<mS.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-He(v);T.entanglements[1]|=C,v&=~C}ii(d),(Gt&6)===0&&(Xu=yn()+500,Wo(0))}}break;case 13:T=is(d,2),T!==null&&pn(T,d,2),Zu(),Sd(d,2)}if(d=wd(l),d===null&&hd(e,i,l,fc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(e,i,l,null,s)}}function wd(e){return e=En(e),Rd(e)}var fc=null;function Rd(e){if(fc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=f(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return fc=e,null}function E_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case no:return 2;case La:return 8;case Br:case Dh:return 32;case Ua:return 268435456;default:return 32}default:return 32}}var Cd=!1,yr=null,_r=null,vr=null,sl=new Map,ol=new Map,Er=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(e,i){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(e,i,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&v_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function pS(e,i,s,l,h){switch(i){case"focusin":return yr=ll(yr,e,i,s,l,h),!0;case"dragenter":return _r=ll(_r,e,i,s,l,h),!0;case"mouseover":return vr=ll(vr,e,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return sl.set(d,ll(sl.get(d)||null,e,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,e,i,s,l,h)),!0}return!1}function A_(e){var i=pi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){e.blockedOn=i,Zl(e.priority,function(){if(s.tag===13){var l=mn();l=Yi(l);var h=is(s,l);h!==null&&pn(h,s,l),Sd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);vi=l,s.target.dispatchEvent(l),vi=null}else return i=Hn(s),i!==null&&v_(i),e.blockedOn=s,!1;i.shift()}return!0}function S_(e,i,s){dc(e)&&s.delete(i)}function gS(){Cd=!1,yr!==null&&dc(yr)&&(yr=null),_r!==null&&dc(_r)&&(_r=null),vr!==null&&dc(vr)&&(vr=null),sl.forEach(S_),ol.forEach(S_)}function mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gS)))}var pc=null;function b_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Rd(l||s)===null)continue;break}var d=Hn(s);d!==null&&(e.splice(i,3),i-=3,Rf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function ul(e){function i(C){return mc(C,e)}yr!==null&&mc(yr,e),_r!==null&&mc(_r,e),vr!==null&&mc(vr,e),sl.forEach(i),ol.forEach(i);for(var s=0;s<Er.length;s++){var l=Er[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)A_(s),s.blockedOn===null&&Er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[me]||null;if(typeof d=="function")v||b_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[me]||null)T=v.formAction;else if(Rd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),b_(s)}}}function Id(e){this._internalRoot=e}gc.prototype.render=Id.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=mn();y_(s,l,e,i,null,null)},gc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;y_(e.current,2,null,e,null,null),Zu(),i[_n]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xi();e={blockedOn:null,target:e,priority:i};for(var s=0;s<Er.length&&i!==0&&i<Er[s].priority;s++);Er.splice(s,0,e),s===0&&A_(e)}};var w_=t.version;if(w_!=="19.1.0")throw Error(a(527,w_,"19.1.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{oe=yc.inject(yS),Ft=yc}catch{}}return hl.createRoot=function(e,i){if(!o(e))throw Error(a(299));var s=!1,l="",h=qg,d=jg,v=Hg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=p_(e,1,!1,null,null,s,l,h,d,v,T,null),e[_n]=i.current,cd(e),new Id(i)},hl.hydrateRoot=function(e,i,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=qg,v=jg,T=Hg,C=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),i=p_(e,1,!0,i,s??null,l,h,d,v,T,C,B),i.context=g_(null),s=i.current,l=mn(),l=Yi(l),h=ir(l),h.callback=null,rr(s,h,l),s=l,i.current.lanes=s,mi(i,s),ii(i),e[_n]=i.current,cd(e),new gc(i)},hl.version="19.1.0",hl}var P_;function CS(){if(P_)return Nd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=RS(),Nd.exports}var IS=CS();const DS="modulepreload",OS=function(r){return"/reissuloki/"+r},L_={},Qs=function(t,n,a){let o=Promise.resolve();if(n&&n.length>0){let f=function(y){return Promise.all(y.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=f(n.map(y=>{if(y=OS(y),y in L_)return;L_[y]=!0;const E=y.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":DS,E||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),E)return new Promise((P,x)=>{S.addEventListener("load",P),S.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};var fl={},U_;function NS(){if(U_)return fl;U_=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=f,fl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,P){const x=new u,K=S.length;if(K<2)return x;const H=(P==null?void 0:P.decode)||E;let $=0;do{const it=S.indexOf("=",$);if(it===-1)break;const tt=S.indexOf(";",$),ht=tt===-1?K:tt;if(it>ht){$=S.lastIndexOf(";",it-1)+1;continue}const ct=m(S,$,it),St=p(S,it,ct),V=S.slice(ct,St);if(x[V]===void 0){let w=m(S,it+1,ht),R=p(S,ht,w);const O=H(S.slice(w,R));x[V]=O}$=ht+1}while($<K);return x}function m(S,P,x){do{const K=S.charCodeAt(P);if(K!==32&&K!==9)return P}while(++P<x);return x}function p(S,P,x){for(;P>x;){const K=S.charCodeAt(--P);if(K!==32&&K!==9)return P+1}return x}function y(S,P,x){const K=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const H=K(P);if(!t.test(H))throw new TypeError(`argument val is invalid: ${P}`);let $=S+"="+H;if(!x)return $;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);$+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);$+="; Domain="+x.domain}if(x.path){if(!a.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);$+="; Path="+x.path}if(x.expires){if(!b(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);$+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&($+="; HttpOnly"),x.secure&&($+="; Secure"),x.partitioned&&($+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return fl}NS();var k_="popstate";function VS(r={}){function t(a,o){let{pathname:u,search:f,hash:m}=a.location;return Yd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Cl(o)}return xS(t,n,null,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function li(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MS(){return Math.random().toString(36).substring(2,10)}function z_(r,t){return{usr:r.state,key:r.key,idx:t}}function Yd(r,t,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:n,key:t&&t.key||a||MS()}}function Cl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ks(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function xS(r,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),$=H==null?null:H-y;y=H,p&&p({action:m,location:K.location,delta:$})}function S(H,$){m="PUSH";let it=Yd(K.location,H,$);y=E()+1;let tt=z_(it,y),ht=K.createHref(it);try{f.pushState(tt,"",ht)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ht)}u&&p&&p({action:m,location:K.location,delta:1})}function P(H,$){m="REPLACE";let it=Yd(K.location,H,$);y=E();let tt=z_(it,y),ht=K.createHref(it);f.replaceState(tt,"",ht),u&&p&&p({action:m,location:K.location,delta:0})}function x(H){return PS(H)}let K={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(k_,b),p=H,()=>{o.removeEventListener(k_,b),p=null}},createHref(H){return t(o,H)},createURL:x,encodeLocation(H){let $=x(H);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:P,go(H){return f.go(H)}};return K}function PS(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),re(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Cl(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function vE(r,t,n="/"){return LS(r,t,n,!1)}function LS(r,t,n,a){let o=typeof t=="string"?Ks(t):t,u=ji(o.pathname||"/",n);if(u==null)return null;let f=EE(r);US(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=YS(u);m=QS(f[p],y,a)}return m}function EE(r,t=[],n=[],a=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(re(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Bi([a,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(re(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),EE(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:FS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of TE(u.path))o(u,f,p)}),t}function TE(r){let t=r.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=TE(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function US(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:GS(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var kS=/^:[\w-]+$/,zS=3,BS=2,qS=1,jS=10,HS=-2,B_=r=>r==="*";function FS(r,t){let n=r.split("/"),a=n.length;return n.some(B_)&&(a+=HS),t&&(a+=BS),n.filter(o=>!B_(o)).reduce((o,u)=>o+(kS.test(u)?zS:u===""?qS:jS),a)}function GS(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function QS(r,t,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Bi([u,b.pathname]),pathnameBase:WS(Bi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Bi([u,b.pathnameBase]))}return f}function xc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=KS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let x=m[S]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const P=m[S];return b&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function KS(r,t=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function YS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function ji(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function XS(r,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Ks(r):r;return{pathname:n?n.startsWith("/")?n:$S(n,t):t,search:JS(a),hash:t1(o)}}function $S(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pd(r,t,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function AE(r){let t=ZS(r);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function SE(r,t,n,a=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),Pd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),Pd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),Pd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let p=XS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Bi=r=>r.join("/").replace(/\/\/+/g,"/"),WS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),JS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,t1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function e1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var n1=["GET",...bE];new Set(n1);var Ys=Y.createContext(null);Ys.displayName="DataRouter";var th=Y.createContext(null);th.displayName="DataRouterState";var wE=Y.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var i1=Y.createContext(new Map);i1.displayName="Fetchers";var r1=Y.createContext(null);r1.displayName="Await";var ci=Y.createContext(null);ci.displayName="Navigation";var Ll=Y.createContext(null);Ll.displayName="Location";var hi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var bm=Y.createContext(null);bm.displayName="RouteError";function a1(r,{relative:t}={}){re(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=Y.useContext(ci),{hash:o,pathname:u,search:f}=kl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Bi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function Ul(){return Y.useContext(Ll)!=null}function Ia(){return re(Ul(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Ll).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(r){Y.useContext(ci).static||Y.useLayoutEffect(r)}function s1(){let{isDataRoute:r}=Y.useContext(hi);return r?v1():o1()}function o1(){re(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(Ys),{basename:t,navigator:n}=Y.useContext(ci),{matches:a}=Y.useContext(hi),{pathname:o}=Ia(),u=JSON.stringify(AE(a)),f=Y.useRef(!1);return CE(()=>{f.current=!0}),Y.useCallback((p,y={})=>{if(li(f.current,RE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=SE(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Bi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}Y.createContext(null);function TD(){let{matches:r}=Y.useContext(hi),t=r[r.length-1];return t?t.params:{}}function kl(r,{relative:t}={}){let{matches:n}=Y.useContext(hi),{pathname:a}=Ia(),o=JSON.stringify(AE(n));return Y.useMemo(()=>SE(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function l1(r,t){return IE(r,t)}function IE(r,t,n,a){var it;re(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Y.useContext(ci),{matches:f}=Y.useContext(hi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let tt=b&&b.path||"";DE(y,!b||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let S=Ia(),P;if(t){let tt=typeof t=="string"?Ks(t):t;re(E==="/"||((it=tt.pathname)==null?void 0:it.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),P=tt}else P=S;let x=P.pathname||"/",K=x;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");K="/"+x.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:vE(r,{pathname:K});li(b||H!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),li(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=d1(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Bi([E,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Bi([E,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,a);return t&&$?Y.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function u1(){let r=_1(),t=e1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:o},n):null,f)}var c1=Y.createElement(u1,null),h1=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement(hi.Provider,{value:this.props.routeContext},Y.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f1({routeContext:r,match:t,children:n}){let a=Y.useContext(Ys);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(hi.Provider,{value:r},n)}function d1(r,t=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);re(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,S=!1,P=null,x=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||c1,f&&(m<0&&E===0?(DE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):m===E&&(S=!0,x=y.route.hydrateFallbackElement||null)));let K=t.concat(o.slice(0,E+1)),H=()=>{let $;return b?$=P:S?$=x:y.route.Component?$=Y.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,Y.createElement(f1,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Y.createElement(h1,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(r){let t=Y.useContext(Ys);return re(t,wm(r)),t}function p1(r){let t=Y.useContext(th);return re(t,wm(r)),t}function g1(r){let t=Y.useContext(hi);return re(t,wm(r)),t}function Rm(r){let t=g1(r),n=t.matches[t.matches.length-1];return re(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function y1(){return Rm("useRouteId")}function _1(){var a;let r=Y.useContext(bm),t=p1("useRouteError"),n=Rm("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[n]}function v1(){let{router:r}=m1("useNavigate"),t=Rm("useNavigate"),n=Y.useRef(!1);return CE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{li(n.current,RE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var q_={};function DE(r,t,n){!t&&!q_[r]&&(q_[r]=!0,li(!1,n))}Y.memo(E1);function E1({routes:r,future:t,state:n}){return IE(r,void 0,n,t)}function ki(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T1({basename:r="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){re(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ks(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=n,P=Y.useMemo(()=>{let x=ji(p,f);return x==null?null:{location:{pathname:x,search:y,hash:E,state:b,key:S},navigationType:a}},[f,p,y,E,b,S,a]);return li(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Y.createElement(ci.Provider,{value:m},Y.createElement(Ll.Provider,{children:t,value:P}))}function j_({children:r,location:t}){return l1(Xd(r),t)}function Xd(r,t=[]){let n=[];return Y.Children.forEach(r,(a,o)=>{if(!Y.isValidElement(a))return;let u=[...t,o];if(a.type===Y.Fragment){n.push.apply(n,Xd(a.props.children,u));return}re(a.type===ki,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Xd(a.props.children,u)),n.push(f)}),n}var wc="get",Rc="application/x-www-form-urlencoded";function eh(r){return r!=null&&typeof r.tagName=="string"}function A1(r){return eh(r)&&r.tagName.toLowerCase()==="button"}function S1(r){return eh(r)&&r.tagName.toLowerCase()==="form"}function b1(r){return eh(r)&&r.tagName.toLowerCase()==="input"}function w1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function R1(r,t){return r.button===0&&(!t||t==="_self")&&!w1(r)}var _c=null;function C1(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var I1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(r){return r!=null&&!I1.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):r}function D1(r,t){let n,a,o,u,f;if(S1(r)){let m=r.getAttribute("action");a=m?ji(m,t):null,n=r.getAttribute("method")||wc,o=Ld(r.getAttribute("enctype"))||Rc,u=new FormData(r)}else if(A1(r)||b1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?ji(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||wc,o=Ld(r.getAttribute("formenctype"))||Ld(m.getAttribute("enctype"))||Rc,u=new FormData(m,r),!C1()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,a=null,o=Rc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Cm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function O1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function V1(r,t,n){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await O1(u,n);return f.links?f.links():[]}return[]}));return L1(a.flat(1).filter(N1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H_(r,t,n,a,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var b;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function M1(r,t,{includeHydrateFallback:n}={}){return x1(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function x1(r){return[...new Set(r)]}function P1(r){let t={},n=Object.keys(r).sort();for(let a of n)t[a]=r[a];return t}function L1(r,t){let n=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(P1(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var U1=new Set([100,101,204,205]);function k1(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&ji(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function OE(){let r=Y.useContext(Ys);return Cm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function z1(){let r=Y.useContext(th);return Cm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Im=Y.createContext(void 0);Im.displayName="FrameworkContext";function NE(){let r=Y.useContext(Im);return Cm(r,"You must render this element inside a <HydratedRouter> element"),r}function B1(r,t){let n=Y.useContext(Im),[a,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,S=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=$=>{$.forEach(it=>{f(it.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[a]);let P=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:dl(m,P),onBlur:dl(p,x),onMouseEnter:dl(y,P),onMouseLeave:dl(E,x),onTouchStart:dl(b,P)}]:[!1,S,{}]}function dl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function q1({page:r,...t}){let{router:n}=OE(),a=Y.useMemo(()=>vE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?Y.createElement(H1,{page:r,matches:a,...t}):null}function j1(r){let{manifest:t,routeModules:n}=NE(),[a,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return V1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),a}function H1({page:r,matches:t,...n}){let a=Ia(),{manifest:o,routeModules:u}=NE(),{basename:f}=OE(),{loaderData:m,matches:p}=z1(),y=Y.useMemo(()=>H_(r,t,p,o,a,"data"),[r,t,p,o,a]),E=Y.useMemo(()=>H_(r,t,p,o,a,"assets"),[r,t,p,o,a]),b=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let x=new Set,K=!1;if(t.forEach($=>{var tt;let it=o.routes[$.route.id];!it||!it.hasLoader||(!y.some(ht=>ht.route.id===$.route.id)&&$.route.id in m&&((tt=u[$.route.id])!=null&&tt.shouldRevalidate)||it.hasClientLoader?K=!0:x.add($.route.id))}),x.size===0)return[];let H=k1(r,f);return K&&x.size>0&&H.searchParams.set("_routes",t.filter($=>x.has($.route.id)).map($=>$.route.id).join(",")),[H.pathname+H.search]},[f,m,a,o,y,t,r,u]),S=Y.useMemo(()=>M1(E,o),[E,o]),P=j1(E);return Y.createElement(Y.Fragment,null,b.map(x=>Y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),S.map(x=>Y.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),P.map(({key:x,link:K})=>Y.createElement("link",{key:x,...K})))}function F1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VE&&(window.__reactRouterVersion="7.6.0")}catch{}function G1({basename:r,children:t,window:n}){let a=Y.useRef();a.current==null&&(a.current=VS({window:n,v5Compat:!0}));let o=a.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(T1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,El=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},P){let{basename:x}=Y.useContext(ci),K=typeof y=="string"&&ME.test(y),H,$=!1;if(typeof y=="string"&&K&&(H=y,VE))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=ji(O.pathname,x);O.origin===R.origin&&M!=null?y=M+O.search+O.hash:$=!0}catch{li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=a1(y,{relative:o}),[tt,ht,ct]=B1(a,S),St=X1(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function V(R){t&&t(R),R.defaultPrevented||St(R)}let w=Y.createElement("a",{...S,...ct,href:H||it,onClick:$||u?t:V,ref:F1(P,ht),target:p,"data-discover":!K&&n==="render"?"true":void 0});return tt&&!K?Y.createElement(Y.Fragment,null,w,Y.createElement(q1,{page:it})):w});El.displayName="Link";var Q1=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=kl(f,{relative:y.relative}),S=Ia(),P=Y.useContext(th),{navigator:x,basename:K}=Y.useContext(ci),H=P!=null&&tb(b)&&m===!0,$=x.encodeLocation?x.encodeLocation(b).pathname:b.pathname,it=S.pathname,tt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(it=it.toLowerCase(),tt=tt?tt.toLowerCase():null,$=$.toLowerCase()),tt&&K&&(tt=ji(tt,K)||tt);const ht=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ct=it===$||!o&&it.startsWith($)&&it.charAt(ht)==="/",St=tt!=null&&(tt===$||!o&&tt.startsWith($)&&tt.charAt($.length)==="/"),V={isActive:ct,isPending:St,isTransitioning:H},w=ct?t:void 0,R;typeof a=="function"?R=a(V):R=[a,ct?"active":null,St?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(V):u;return Y.createElement(El,{...y,"aria-current":w,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(V):p)});Q1.displayName="NavLink";var K1=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:f=wc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},P)=>{let x=W1(),K=J1(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&ME.test(m),it=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let ht=tt.nativeEvent.submitter,ct=(ht==null?void 0:ht.getAttribute("formmethod"))||f;x(ht||tt.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return Y.createElement("form",{ref:P,method:H,action:K,onSubmit:a?p:it,...S,"data-discover":!$&&r==="render"?"true":void 0})});K1.displayName="Form";function Y1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(r){let t=Y.useContext(Ys);return re(t,Y1(r)),t}function X1(r,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=s1(),p=Ia(),y=kl(r,{relative:u});return Y.useCallback(E=>{if(R1(E,t)){E.preventDefault();let b=n!==void 0?n:Cl(p)===Cl(y);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,a,t,r,o,u,f])}var $1=0,Z1=()=>`__${String(++$1)}__`;function W1(){let{router:r}=xE("useSubmit"),{basename:t}=Y.useContext(ci),n=y1();return Y.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=D1(a,t);if(o.navigate===!1){let E=o.fetcherKey||Z1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function J1(r,{relative:t}={}){let{basename:n}=Y.useContext(ci),a=Y.useContext(hi);re(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...kl(r||".",{relative:t})},f=Ia();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Bi([n,u.pathname])),Cl(u)}function tb(r,t={}){let n=Y.useContext(wE);re(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xE("useViewTransitionState"),o=kl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=ji(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ji(n.nextLocation.pathname,a)||n.nextLocation.pathname;return xc(o.pathname,f)!=null||xc(o.pathname,u)!=null}[...U1];const eb=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(r){const t=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},nb=function(r){const t=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(S=64)),a.push(n[E],n[b],n[S],n[P])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(PE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):nb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new ib;const S=u<<2|m>>4;if(a.push(S),y!==64){const P=m<<4&240|y>>2;if(a.push(P),b!==64){const x=y<<6&192|b;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rb=function(r){const t=PE(r);return LE.encodeByteArray(t,!0)},Pc=function(r){return rb(r).replace(/\./g,"")},UE=function(r){try{return LE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=()=>ab().__FIREBASE_DEFAULTS__,ob=()=>{if(typeof process>"u"||typeof F_>"u")return;const r=F_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&UE(r[1]);return t&&JSON.parse(t)},nh=()=>{try{return eb()||sb()||ob()||lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ub=r=>{var t,n;return(n=(t=nh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},cb=r=>{const t=ub(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),a]:[t.substring(0,n),a]},kE=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},hb=r=>{var t;return(t=nh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return r.endsWith(".cloudworkstations.dev")}async function db(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(f)),""].join(".")}const Tl={};function pb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function gb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let G_=!1;function zE(r,t){if(typeof window>"u"||typeof document>"u"||!ih(window.location.host)||Tl[r]===t||Tl[r]||G_)return;Tl[r]=t;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=pb().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{G_=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=gb(a),P=n("text"),x=document.getElementById(P)||document.createElement("span"),K=n("learnmore"),H=document.getElementById(K)||document.createElement("a"),$=n("preprendIcon"),it=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const tt=S.element;m(tt),E(H,K);const ht=y();p(it,$),tt.append(it,x,H,ht),document.body.appendChild(tt)}u?(x.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function _b(){var r;const t=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Eb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Tb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ab(){return!_b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sb(){try{return typeof indexedDB=="object"}catch{return!1}}function bb(){return new Promise((r,t)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="FirebaseError";class Qi extends Error{constructor(t,n,a){super(n),this.code=t,this.customData=a,this.name=wb,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,a){this.service=t,this.serviceName=n,this.errors=a}create(t,...n){const a=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Rb(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qi(o,m,a)}}function Rb(r,t){return r.replace(Cb,(n,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Cb=/\{\$([^}]+)}/g;function ba(r,t){if(r===t)return!0;const n=Object.keys(r),a=Object.keys(t);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=t[o];if(Q_(u)&&Q_(f)){if(!ba(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){const t=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ml(r){const t={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function pl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function Ib(r,t){const n=new Db(r,t);return n.subscribe.bind(n)}class Db{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,a){let o;if(t===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Ob(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ob(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class wa{constructor(t,n,a){this.name=t,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const a=new fb;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Mb(t))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=Ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ea){return this.instances.has(t)}getOptions(t=Ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Vb(t),options:n}),this.instances.set(t,a),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ea){return this.component?this.component.multipleInstances?t:Ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vb(r){return r===Ea?void 0:r}function Mb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Nb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const Pb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Lb=Nt.INFO,Ub={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},kb=(r,t,...n)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=Ub[t];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=kb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Pb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const zb=(r,t)=>t.some(n=>r instanceof n);let K_,Y_;function Bb(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qE=new WeakMap,$d=new WeakMap,jE=new WeakMap,kd=new WeakMap,Om=new WeakMap;function jb(r){const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(br(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qE.set(n,r)}).catch(()=>{}),Om.set(t,r),t}function Hb(r){if($d.has(r))return;const t=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});$d.set(r,t)}let Zd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return $d.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Fb(r){Zd=r(Zd)}function Gb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const a=r.call(zd(this),t,...n);return jE.set(a,t.sort?t.sort():[t]),br(a)}:qb().includes(r)?function(...t){return r.apply(zd(this),t),br(qE.get(this))}:function(...t){return br(r.apply(zd(this),t))}}function Qb(r){return typeof r=="function"?Gb(r):(r instanceof IDBTransaction&&Hb(r),zb(r,Bb())?new Proxy(r,Zd):r)}function br(r){if(r instanceof IDBRequest)return jb(r);if(kd.has(r))return kd.get(r);const t=Qb(r);return t!==r&&(kd.set(r,t),Om.set(t,r)),t}const zd=r=>Om.get(r);function Kb(r,t,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=br(f);return a&&f.addEventListener("upgradeneeded",p=>{a(br(f.result),p.oldVersion,p.newVersion,br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Yb=["get","getKey","getAll","getAllKeys","count"],Xb=["put","add","delete","clear"],Bd=new Map;function X_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const n=t.replace(/FromIndex$/,""),a=t!==n,o=Xb.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Yb.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Bd.set(t,u),u}Fb(r=>({...r,get:(t,n,a)=>X_(t,n)||r.get(t,n,a),has:(t,n)=>!!X_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zb(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Zb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Wd="@firebase/app",$_="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Dm("@firebase/app"),Wb="@firebase/app-compat",Jb="@firebase/analytics-compat",tw="@firebase/analytics",ew="@firebase/app-check-compat",nw="@firebase/app-check",iw="@firebase/auth",rw="@firebase/auth-compat",aw="@firebase/database",sw="@firebase/data-connect",ow="@firebase/database-compat",lw="@firebase/functions",uw="@firebase/functions-compat",cw="@firebase/installations",hw="@firebase/installations-compat",fw="@firebase/messaging",dw="@firebase/messaging-compat",mw="@firebase/performance",pw="@firebase/performance-compat",gw="@firebase/remote-config",yw="@firebase/remote-config-compat",_w="@firebase/storage",vw="@firebase/storage-compat",Ew="@firebase/firestore",Tw="@firebase/vertexai",Aw="@firebase/firestore-compat",Sw="firebase",bw="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",ww={[Wd]:"fire-core",[Wb]:"fire-core-compat",[tw]:"fire-analytics",[Jb]:"fire-analytics-compat",[nw]:"fire-app-check",[ew]:"fire-app-check-compat",[iw]:"fire-auth",[rw]:"fire-auth-compat",[aw]:"fire-rtdb",[sw]:"fire-data-connect",[ow]:"fire-rtdb-compat",[lw]:"fire-fn",[uw]:"fire-fn-compat",[cw]:"fire-iid",[hw]:"fire-iid-compat",[fw]:"fire-fcm",[dw]:"fire-fcm-compat",[mw]:"fire-perf",[pw]:"fire-perf-compat",[gw]:"fire-rc",[yw]:"fire-rc-compat",[_w]:"fire-gcs",[vw]:"fire-gcs-compat",[Ew]:"fire-fst",[Aw]:"fire-fst-compat",[Tw]:"fire-vertex","fire-js":"fire-js",[Sw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,Rw=new Map,tm=new Map;function Z_(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ps(r){const t=r.name;if(tm.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,r);for(const n of Lc.values())Z_(n,r);for(const n of Rw.values())Z_(n,r);return!0}function HE(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new zl("app","Firebase",Cw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,n,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=bw;function FE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw wr.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw wr.create("no-options");const u=Lc.get(o);if(u){if(ba(n,u.options)&&ba(a,u.config))return u;throw wr.create("duplicate-app",{appName:o})}const f=new xb(o);for(const p of tm.values())f.addComponent(p);const m=new Iw(n,a,f);return Lc.set(o,m),m}function Dw(r=Jd){const t=Lc.get(r);if(!t&&r===Jd&&kE())return FE();if(!t)throw wr.create("no-app",{appName:r});return t}function Rr(r,t,n){var a;let o=(a=ww[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(m.join(" "));return}Ps(new wa(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firebase-heartbeat-database",Nw=1,Il="firebase-heartbeat-store";let qd=null;function GE(){return qd||(qd=Kb(Ow,Nw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function Vw(r){try{const n=(await GE()).transaction(Il),a=await n.objectStore(Il).get(QE(r));return await n.done,a}catch(t){if(t instanceof Qi)Hi.warn(t.message);else{const n=wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hi.warn(n.message)}}}async function W_(r,t){try{const a=(await GE()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,QE(r)),await a.done}catch(n){if(n instanceof Qi)Hi.warn(n.message);else{const a=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(a.message)}}}function QE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=1024,xw=30;class Pw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uw(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=J_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>xw){const f=kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Hi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J_(),{heartbeatsToSend:a,unsentEntries:o}=Lw(this._heartbeatsCache.heartbeats),u=Pc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Hi.warn(n),""}}}function J_(){return new Date().toISOString().substring(0,10)}function Lw(r,t=Mw){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tv(n)>t){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class Uw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sb()?bb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function tv(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function kw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(r){Ps(new wa("platform-logger",t=>new $b(t),"PRIVATE")),Ps(new wa("heartbeat",t=>new Pw(t),"PRIVATE")),Rr(Wd,$_,r),Rr(Wd,$_,"esm2017"),Rr("fire-js","")}zw("");var Bw="firebase",qw="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Bw,qw,"app");function KE(r,t){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jw=YE,XE=new zl("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Dm("@firebase/auth");function Hw(r,...t){Uc.logLevel<=Nt.WARN&&Uc.warn(`Auth (${rh}): ${r}`,...t)}function Cc(r,...t){Uc.logLevel<=Nt.ERROR&&Uc.error(`Auth (${rh}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(r,...t){throw Vm(r,...t)}function Nm(r,...t){return Vm(r,...t)}function $E(r,t,n){const a=Object.assign(Object.assign({},jw()),{[t]:n});return new zl("auth","Firebase",a).create(t,{appName:r.name})}function Sa(r){return $E(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(r,...t){if(typeof r!="string"){const n=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return XE.create(r,...t)}function kt(r,t,...n){if(!r)throw Vm(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function kc(r,t){r||zi(t)}function Fw(){return ev()==="http:"||ev()==="https:"}function ev(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fw()||Eb()||"connection"in navigator)?navigator.onLine:!0}function Qw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.shortDelay=t,this.longDelay=n,kc(n>t,"Short delay should be less than long delay!"),this.isMobile=yb()||Tb()}get(){return Gw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r,t){kc(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(t,n,a){this.fetchImpl=t,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$w=new Bl(3e4,6e4);function Da(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Oa(r,t,n,a,o={}){return WE(r,o,async()=>{let u={},f={};a&&(t==="GET"?f=a:u={body:JSON.stringify(a)});const m=BE(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return vb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ih(r.emulatorConfig.host)&&(y.credentials="include"),ZE.fetch()(await JE(r,r.config.apiHost,n,m),y)})}async function WE(r,t,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},Yw),t);try{const o=new Ww(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw vc(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $E(r,E,y);Ls(r,E)}}catch(o){if(o instanceof Qi)throw o;Ls(r,"network-request-failed",{message:String(o)})}}async function ah(r,t,n,a,o={}){const u=await Oa(r,t,n,a,o);return"mfaPendingCredential"in u&&Ls(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function JE(r,t,n,a){const o=`${t}${n}?${a}`,u=r,f=u.config.emulator?Kw(r.config,o):`${r.config.apiScheme}://${o}`;return Xw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Zw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Nm(this.auth,"network-request-failed")),$w.get())})}}function vc(r,t,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Nm(r,t,a);return o.customData._tokenResponse=n,o}function nv(r){return r!==void 0&&r.enterprise!==void 0}class Jw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Zw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tR(r,t){return Oa(r,"GET","/v2/recaptchaConfig",Da(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(r,t){return Oa(r,"POST","/v1/accounts:delete",t)}async function zc(r,t){return Oa(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nR(r,t=!1){const n=tn(r),a=await n.getIdToken(t),o=t0(a);kt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Al(jd(o.auth_time)),issuedAtTime:Al(jd(o.iat)),expirationTime:Al(jd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function jd(r){return Number(r)*1e3}function t0(r){const[t,n,a]=r.split(".");if(t===void 0||n===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(n);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iv(r){const t=t0(r);return kt(t,"internal-error"),kt(typeof t.exp<"u","internal-error"),kt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(r,t,n=!1){if(n)return t;try{return await t}catch(a){throw a instanceof Qi&&iR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function iR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r){var t;const n=r.auth,a=await r.getIdToken(),o=await em(r,zc(n,{idToken:a}));kt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?e0(u.providerUserInfo):[],m=sR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new nm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function aR(r){const t=tn(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sR(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function e0(r){return r.map(t=>{var{providerId:n}=t,a=KE(t,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t){const n=await WE(r,{},async()=>{const a=BE({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await JE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ZE.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lR(r,t){return Oa(r,"POST","/v2/accounts:revokeToken",Da(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){kt(t.idToken,"internal-error"),kt(typeof t.idToken<"u","internal-error"),kt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){kt(t.length!==0,"internal-error");const n=iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(kt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await oR(t,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(t,n,a){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new Vs;return a&&(kt(typeof a=="string","internal-error",{appName:t}),f.refreshToken=a),o&&(kt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(kt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Vs,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,t){kt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor(t){var{uid:n,auth:a,stsTokenManager:o}=t,u=KE(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await em(this,this.stsTokenManager.getToken(this.auth,t));return kt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nR(this,t)}reload(){return aR(this)}_assign(t){this!==t&&(kt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Sa(this.auth));const t=await this.getIdToken();return await em(this,eR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var a,o,u,f,m,p,y,E;const b=(a=n.displayName)!==null&&a!==void 0?a:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,it=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:tt,emailVerified:ht,isAnonymous:ct,providerData:St,stsTokenManager:V}=n;kt(tt&&V,t,"internal-error");const w=Vs.fromJSON(this.name,V);kt(typeof tt=="string",t,"internal-error"),Ar(b,t.name),Ar(S,t.name),kt(typeof ht=="boolean",t,"internal-error"),kt(typeof ct=="boolean",t,"internal-error"),Ar(P,t.name),Ar(x,t.name),Ar(K,t.name),Ar(H,t.name),Ar($,t.name),Ar(it,t.name);const R=new Un({uid:tt,auth:t,email:S,emailVerified:ht,displayName:b,isAnonymous:ct,photoURL:x,phoneNumber:P,tenantId:K,stsTokenManager:w,createdAt:$,lastLoginAt:it});return St&&Array.isArray(St)&&(R.providerData=St.map(O=>Object.assign({},O))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(t,n,a=!1){const o=new Vs;o.updateFromServerResponse(n);const u=new Un({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Bc(u),u}static async _fromGetAccountInfoResponse(t,n,a){const o=n.users[0];kt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?e0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Vs;m.updateFromIdToken(a);const p=new Un({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;function Ta(r){kc(r instanceof Function,"Expected a class definition");let t=rv.get(r);return t?(kc(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,rv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}n0.type="NONE";const av=n0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r,t,n){return`firebase:${r}:${t}:${n}`}class Ms{constructor(t,n,a){this.persistence=t,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Hd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await zc(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,a="authUser"){if(!n.length)return new Ms(Ta(av),t,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ta(av);const f=Hd(a,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await zc(t,{idToken:E}).catch(()=>{});if(!S)break;b=await Un._fromGetAccountInfoResponse(t,S,E)}else b=Un._fromJSON(t,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ms(u,t,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ms(u,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mR(t))return"Blackberry";if(pR(t))return"Webos";if(cR(t))return"Safari";if((t.includes("chrome/")||hR(t))&&!t.includes("edge/"))return"Chrome";if(dR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function uR(r=kn()){return/firefox\//i.test(r)}function cR(r=kn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hR(r=kn()){return/crios\//i.test(r)}function fR(r=kn()){return/iemobile/i.test(r)}function dR(r=kn()){return/android/i.test(r)}function mR(r=kn()){return/blackberry/i.test(r)}function pR(r=kn()){return/webos/i.test(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,t=[]){let n;switch(r){case"Browser":n=sv(kn());break;case"Worker":n=`${sv(kn())}-${r}`;break;default:n=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${rh}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const a=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const a of this.queue)await a(t),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,t={}){return Oa(r,"GET","/v2/passwordPolicy",Da(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class vR{constructor(t){var n,a,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:_R,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,a,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=t.length>=a),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n,a,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ta(n)),this._initializationPromise=this.queue(async()=>{var a,o,u;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await zc(this,{idToken:t}),a=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ai(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Qw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Sa(this));const n=t?tn(t):null;return n&&kt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&kt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yR(this),n=new vR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,a){return this.registerStateListener(this.authStateSubscription,t,n,a)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,a){return this.registerStateListener(this.idTokenSubscription,t,n,a)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await lR(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const a=await this.getOrInitRedirectPersistenceManager(n);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ta(t)||this._popupRedirectResolver;kt(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[Ta(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(kt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Hw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ql(r){return tn(r)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ib(n=>this.observer=n)}get next(){return kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(r){Mm=r}function AR(r){return Mm.loadJS(r)}function SR(){return Mm.recaptchaEnterpriseScript}class bR{constructor(){this.enterprise=new wR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class wR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RR="recaptcha-enterprise",r0="NO_RECAPTCHA";class CR{constructor(t){this.type=RR,this.auth=ql(t)}async verify(t="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{tR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new Jw(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;nv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(r0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&nv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=SR();p.length!==0&&(p+=m),AR(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function lv(r,t,n,a=!1,o=!1){const u=new CR(r);let f;if(o)f=r0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function im(r,t,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await lv(r,t,n,n==="getOobCode");return a(r,f)}else return a(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await lv(r,t,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r,t){const n=HE(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,t??{}))return o;Ls(o,"already-initialized")}return n.initialize({options:t})}function DR(r,t){const n=(t==null?void 0:t.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Ta);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function NR(r,t){return Oa(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(r,t){return ah(r,"POST","/v1/accounts:signInWithPassword",Da(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,t){return ah(r,"POST","/v1/accounts:signInWithEmailLink",Da(r,t))}async function xR(r,t){return ah(r,"POST","/v1/accounts:signInWithEmailLink",Da(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends OR{constructor(t,n,a,o=null){super("password",a),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Dl(t,n,"password")}static _fromEmailAndCode(t,n,a=null){return new Dl(t,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,n,"signInWithPassword",VR);case"emailLink":return MR(t,{email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,a,"signUpPassword",NR);case"emailLink":return xR(t,{idToken:n,email:this._email,oobCode:this._password});default:Ls(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LR(r){const t=ml(pl(r)).link,n=t?ml(pl(t)).deep_link_id:null,a=ml(pl(r)).deep_link_id;return(a?ml(pl(a)).link:null)||a||n||t||r}class xm{constructor(t){var n,a,o,u,f,m;const p=ml(pl(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(a=p.oobCode)!==null&&a!==void 0?a:null,b=PR((o=p.mode)!==null&&o!==void 0?o:null);kt(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=LR(t);try{return new xm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(t,n){return Dl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const a=xm.parseLink(n);return kt(a,"argument-error"),Dl._fromEmailAndCode(t,a.code,a.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(r,t){return ah(r,"POST","/v1/accounts:signUp",Da(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,a,o=!1){const u=await Un._fromIdTokenResponse(t,a,o),f=uv(a);return new Ol({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(t,n,a){await t._updateTokensIfNecessary(a,!0);const o=uv(a);return new Ol({user:t,providerId:o,_tokenResponse:a,operationType:n})}}function uv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Qi{constructor(t,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,n,a,o){return new qc(t,n,a,o)}}function kR(r,t,n,a){return n._getIdTokenResponse(r).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,u,t,a):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,t,n=!1){if(ai(r.app))return Promise.reject(Sa(r));const a="signIn",o=await kR(r,a,t),u=await Ol._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function BR(r,t){return zR(ql(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(r){const t=ql(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function AD(r,t,n){if(ai(r.app))return Promise.reject(Sa(r));const a=ql(r),f=await im(a,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&a0(r),p}),m=await Ol._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function SD(r,t,n){return ai(r.app)?Promise.reject(Sa(r)):BR(tn(r),Xs.credential(t,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&a0(r),a})}function qR(r,t,n,a){return tn(r).onAuthStateChanged(t,n,a)}const cv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const a=new sh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await jR(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r="",t=10){let n="";for(let a=0;a<t;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=HR("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){return typeof hv().WorkerGlobalScope<"u"&&typeof hv().importScripts=="function"}async function GR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KR(){return s0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="firebaseLocalStorageDb",YR=1,jc="firebaseLocalStorage",l0="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(r,t){return r.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function XR(){const r=indexedDB.deleteDatabase(o0);return new jl(r).toPromise()}function rm(){const r=indexedDB.open(o0,YR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(jc,{keyPath:l0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(jc)?t(a):(a.close(),await XR(),t(await rm()))})})}async function fv(r,t,n){const a=oh(r,!0).put({[l0]:t,value:n});return new jl(a).toPromise()}async function $R(r,t){const n=oh(r,!1).get(t),a=await new jl(n).toPromise();return a===void 0?null:a.value}function dv(r,t){const n=oh(r,!0).delete(t);return new jl(n).toPromise()}const ZR=800,WR=3;class u0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(n++>WR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(KR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await GR(),!this.activeServiceWorker)return;this.sender=new FR(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await fv(t,cv,"1"),await dv(t,cv),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>fv(a,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(a=>$R(a,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=oh(o,!1).getAll();return new jl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}u0.type="LOCAL";const JR=u0;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Bl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Bl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Bl(5e3,15e3);var mv="@firebase/auth",pv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nC(r){Ps(new wa("auth",(t,{options:n})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;kt(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(r)},y=new ER(a,o,u,p);return DR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,a)=>{t.getProvider("auth-internal").initialize()})),Ps(new wa("auth-internal",t=>{const n=ql(t.getProvider("auth").getImmediate());return(a=>new tC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(mv,pv,eC(r)),Rr(mv,pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=5*60;hb("authIdTokenMaxAge");function rC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}TR({loadJS(r){return new Promise((t,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const u=Nm("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",rC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nC("Browser");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,c0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(O,M,U){for(var I=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)I[xe-2]=arguments[xe];return w.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var O=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)O[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)O[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],M=V.g[2];var U=V.g[3],I=w+(U^R&(M^U))+O[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=U+(M^w&(R^M))+O[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(R^U&(w^R))+O[2]+606105819&4294967295,M=U+(I<<17&4294967295|I>>>15),I=R+(w^M&(U^w))+O[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=w+(U^R&(M^U))+O[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(M^w&(R^M))+O[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(R^U&(w^R))+O[6]+2821735955&4294967295,M=U+(I<<17&4294967295|I>>>15),I=R+(w^M&(U^w))+O[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=w+(U^R&(M^U))+O[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(M^w&(R^M))+O[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(R^U&(w^R))+O[10]+4294925233&4294967295,M=U+(I<<17&4294967295|I>>>15),I=R+(w^M&(U^w))+O[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=w+(U^R&(M^U))+O[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(M^w&(R^M))+O[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=M+(R^U&(w^R))+O[14]+2792965006&4294967295,M=U+(I<<17&4294967295|I>>>15),I=R+(w^M&(U^w))+O[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=w+(M^U&(R^M))+O[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^M&(w^R))+O[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^R&(U^w))+O[11]+643717713&4294967295,M=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(M^U))+O[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(R^M))+O[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^M&(w^R))+O[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^R&(U^w))+O[15]+3634488961&4294967295,M=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(M^U))+O[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(R^M))+O[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^M&(w^R))+O[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^R&(U^w))+O[3]+4107603335&4294967295,M=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(M^U))+O[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=w+(M^U&(R^M))+O[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^M&(w^R))+O[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=M+(w^R&(U^w))+O[7]+1735328473&4294967295,M=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(M^U))+O[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=w+(R^M^U)+O[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^M)+O[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^R)+O[11]+1839030562&4294967295,M=U+(I<<16&4294967295|I>>>16),I=R+(M^U^w)+O[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=w+(R^M^U)+O[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^M)+O[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^R)+O[7]+4139469664&4294967295,M=U+(I<<16&4294967295|I>>>16),I=R+(M^U^w)+O[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=w+(R^M^U)+O[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^M)+O[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^R)+O[3]+3572445317&4294967295,M=U+(I<<16&4294967295|I>>>16),I=R+(M^U^w)+O[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=w+(R^M^U)+O[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^M)+O[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=M+(U^w^R)+O[15]+530742520&4294967295,M=U+(I<<16&4294967295|I>>>16),I=R+(M^U^w)+O[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=w+(M^(R|~U))+O[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~M))+O[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~R))+O[14]+2878612391&4294967295,M=U+(I<<15&4294967295|I>>>17),I=R+(U^(M|~w))+O[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=w+(M^(R|~U))+O[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~M))+O[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~R))+O[10]+4293915773&4294967295,M=U+(I<<15&4294967295|I>>>17),I=R+(U^(M|~w))+O[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=w+(M^(R|~U))+O[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~M))+O[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~R))+O[6]+2734768916&4294967295,M=U+(I<<15&4294967295|I>>>17),I=R+(U^(M|~w))+O[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=w+(M^(R|~U))+O[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~M))+O[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=M+(w^(U|~R))+O[2]+718787259&4294967295,M=U+(I<<15&4294967295|I>>>17),I=R+(U^(M|~w))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+U&4294967295}a.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,O=this.B,M=this.h,U=0;U<w;){if(M==0)for(;U<=R;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<w;)if(O[M++]=V.charCodeAt(U++),M==this.blockSize){o(this,O),M=0;break}}else for(;U<w;)if(O[M++]=V[U++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=w},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var O=0;32>O;O+=8)V[R++]=this.g[w]>>>O&255;return V};function u(V,w){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function f(V,w){this.h=w;for(var R=[],O=!0,M=V.length-1;0<=M;M--){var U=V[M]|0;O&&U==w||(R[M]=U,O=!1)}this.g=R}var m={};function p(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return H(y(-V));for(var w=[],R=1,O=0;V>=R;O++)w[O]=V/R|0,R*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return H(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),O=b,M=0;M<V.length;M+=8){var U=Math.min(8,V.length-M),I=parseInt(V.substring(M,M+U),w);8>U?(U=y(Math.pow(w,U)),O=O.j(U).add(y(I))):(O=O.j(R),O=O.add(y(I)))}return O}var b=p(0),S=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-H(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var O=this.i(R);V+=(0<=O?O:4294967296+O)*w,w*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(K(this))return"-"+H(this).toString(V);for(var w=y(Math.pow(V,6)),R=this,O="";;){var M=ht(R,w).g;R=$(R,M.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,x(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=$(this,V),K(V)?-1:x(V)?0:1};function H(V){for(var w=V.g.length,R=[],O=0;O<w;O++)R[O]=~V.g[O];return new f(R,~V.h).add(S)}r.abs=function(){return K(this)?H(this):this},r.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],O=0,M=0;M<=w;M++){var U=O+(this.i(M)&65535)+(V.i(M)&65535),I=(U>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=I>>>16,U&=65535,I&=65535,R[M]=I<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(V,w){return V.add(H(w))}r.j=function(V){if(x(this)||x(V))return b;if(K(this))return K(V)?H(this).j(H(V)):H(H(this).j(V));if(K(V))return H(this.j(H(V)));if(0>this.l(P)&&0>V.l(P))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],O=0;O<2*w;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var U=this.i(O)>>>16,I=this.i(O)&65535,xe=V.i(M)>>>16,se=V.i(M)&65535;R[2*O+2*M]+=I*se,it(R,2*O+2*M),R[2*O+2*M+1]+=U*se,it(R,2*O+2*M+1),R[2*O+2*M+1]+=I*xe,it(R,2*O+2*M+1),R[2*O+2*M+2]+=U*xe,it(R,2*O+2*M+2)}for(O=0;O<w;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=w;O<2*w;O++)R[O]=0;return new f(R,0)};function it(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function tt(V,w){this.g=V,this.h=w}function ht(V,w){if(x(w))throw Error("division by zero");if(x(V))return new tt(b,b);if(K(V))return w=ht(H(V),w),new tt(H(w.g),H(w.h));if(K(w))return w=ht(V,H(w)),new tt(H(w.g),w.h);if(30<V.g.length){if(K(V)||K(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=w;0>=O.l(V);)R=ct(R),O=ct(O);var M=St(R,1),U=St(O,1);for(O=St(O,2),R=St(R,2);!x(O);){var I=U.add(O);0>=I.l(V)&&(M=M.add(R),U=I),O=St(O,1),R=St(R,1)}return w=$(V,M.j(w)),new tt(M,w)}for(M=b;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),I=U.j(w);K(I)||0<I.l(V);)R-=O,U=y(R),I=U.j(w);x(U)&&(U=S),M=M.add(U),V=$(V,I)}return new tt(M,V)}r.A=function(V){return ht(this,V).h},r.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)&V.i(O);return new f(R,this.h&V.h)},r.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)|V.i(O);return new f(R,this.h|V.h)},r.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],O=0;O<w;O++)R[O]=this.i(O)^V.i(O);return new f(R,this.h^V.h)};function ct(V){for(var w=V.g.length+1,R=[],O=0;O<w;O++)R[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(R,V.h)}function St(V,w){var R=w>>5;w%=32;for(var O=V.g.length-R,M=[],U=0;U<O;U++)M[U]=0<w?V.i(U+R)>>>w|V.i(U+R+1)<<32-w:V.i(U+R);return new f(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,c0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Cr=f}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h0,gl,f0,Ic,am,d0,m0,p0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,g){if(g)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in _))break t;_=_[k]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,k={next:function(){if(!A&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),c.apply(g,k)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,k,F){for(var rt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)rt[xt-2]=arguments[xt];return g.prototype[k].apply(A,rt)}}function K(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function H(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const k=c.length||0,F=A.length||0;c.length=k+F;for(let rt=0;rt<F;rt++)c[k+rt]=A[rt]}else c.push(A)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function it(c){return/^[\s\xa0]*$/.test(c)}function tt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var ct=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function St(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)c[_]=A[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Bt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class xe{constructor(){this.h=this.g=null}add(g,_){const A=se.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new $(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,Bt=new xe,D=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(et)}};var et=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){U(_)}var g=se;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}dt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ct(c,g){if(nt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ct){t:{try{ht(g.nodeName);var k=!0;break t}catch{}k=!1}k||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Et[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ct.aa.h.call(this)}}x(Ct,nt);var Et={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function qn(c,g,_,A,k){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=k,this.key=++Wt,this.da=this.fa=!1}function Ki(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fi(c){this.src=c,this.g={},this.h=0}fi.prototype.add=function(c,g,_,A,k){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var rt=kr(c,g,A,k);return-1<rt?(g=c[rt],_||(g.fa=!1)):(g=new qn(g,this.src,F,!!A,k),g.fa=_,c.push(g)),g};function Ur(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],k=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=k)&&Array.prototype.splice.call(A,k,1),F&&(Ki(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function kr(c,g,_,A){for(var k=0;k<c.length;++k){var F=c[k];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return k}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),eo={};function Yl(c,g,_,A,k){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Yl(c,g[F],_,A,k);return null}return _=Xl(_),c&&c[Ce]?c.K(g,_,y(A)?!!A.capture:!1,k):yn(c,g,_,!1,A,k)}function yn(c,g,_,A,k,F){if(!g)throw Error("Invalid event type");var rt=y(k)?!!k.capture:!!k,xt=Ua(c);if(xt||(c[zr]=xt=new fi(c)),_=xt.add(g,_,A,rt,F),_.proxy)return _;if(A=Ih(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pt||(k=rt),k===void 0&&(k=!1),c.addEventListener(g.toString(),A,k);else if(c.attachEvent)c.attachEvent(Br(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ih(){function c(_){return g.call(c.src,c.listener,_)}const g=Dh;return c}function no(c,g,_,A,k){if(Array.isArray(g))for(var F=0;F<g.length;F++)no(c,g[F],_,A,k);else A=y(A)?!!A.capture:!!A,_=Xl(_),c&&c[Ce]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=kr(F,_,A,k),-1<_&&(Ki(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ua(c))&&(g=c.g[g.toString()],c=-1,g&&(c=kr(g,_,A,k)),(_=-1<c?g[c]:null)&&La(_))}function La(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ce])Ur(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Br(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Ua(g))?(Ur(_,c),_.h==0&&(_.src=null,g[zr]=null)):Ki(c)}}}function Br(c){return c in eo?eo[c]:eo[c]="on"+c}function Dh(c,g){if(c.da)c=!0;else{g=new Ct(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&La(c),c=_.call(A,g)}return c}function Ua(c){return c=c[zr],c instanceof fi?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(c){return typeof c=="function"?c:(c[io]||(c[io]=function(g){return c.handleEvent(g)}),c[io])}function oe(){st.call(this),this.i=new fi(this),this.M=this,this.F=null}x(oe,st),oe.prototype[Ce]=!0,oe.prototype.removeEventListener=function(c,g,_,A){no(this,c,g,_,A)};function Ft(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new nt(g,c);else if(g instanceof nt)g.target=g.target||c;else{var k=g;g=new nt(A,c),O(g,k)}if(k=!0,_)for(var F=_.length-1;0<=F;F--){var rt=g.g=_[F];k=on(rt,A,!0,g)&&k}if(rt=g.g=c,k=on(rt,A,!0,g)&&k,k=on(rt,A,!1,g)&&k,_)for(F=0;F<_.length;F++)rt=g.g=_[F],k=on(rt,A,!1,g)&&k}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)Ki(_[A]);delete c.g[g],c.h--}}this.F=null},oe.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},oe.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function on(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,F=0;F<g.length;++F){var rt=g[F];if(rt&&!rt.da&&rt.capture==_){var xt=rt.listener,Te=rt.ha||rt.src;rt.fa&&Ur(c.i,rt),k=xt.call(Te,A)!==!1&&k}}return k&&!A.defaultPrevented}function He(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function $l(c){c.g=He(()=>{c.g=null,c.i&&(c.i=!1,$l(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Oh extends st{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){st.call(this),this.h=c,this.g={}}x(qr,st);var jr=[];function Hr(c){St(c.g,function(g,_){this.g.hasOwnProperty(_)&&La(g)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Hr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=m.JSON.stringify,ka=m.JSON.parse,Fr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ro(){}ro.prototype.h=null;function ao(c){return c.h||(c.h=c.i())}function so(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){nt.call(this,"d")}x(mi,nt);function oo(){nt.call(this,"c")}x(oo,nt);var jn={},lo=null;function Yi(){return lo=lo||new oe}jn.La="serverreachability";function za(c){nt.call(this,jn.La,c)}x(za,nt);function Xi(c){const g=Yi();Ft(g,new za(g))}jn.STAT_EVENT="statevent";function Zl(c,g){nt.call(this,jn.STAT_EVENT,c),this.stat=g}x(Zl,nt);function ee(c){const g=Yi();Ft(g,new Zl(g,c))}jn.Ma="timingevent";function Ee(c,g){nt.call(this,jn.Ma,c),this.size=g}x(Ee,nt);function me(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function uo(c,g,_,A,k,F){c.info(function(){if(c.g)if(F)for(var rt="",xt=F.split("&"),Te=0;Te<xt.length;Te++){var Pt=xt[Te].split("=");if(1<Pt.length){var De=Pt[0];Pt=Pt[1];var Ae=De.split("_");rt=2<=Ae.length&&Ae[1]=="type"?rt+(De+"="+Pt+"&"):rt+(De+"=redacted&")}}else rt=null;else rt=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+_+`
`+rt})}function Nh(c,g,_,A,k,F,rt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+_+`
`+F+" "+rt})}function $i(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gr(c,_)+(A?" "+A:"")})}function Wl(c,g){c.info(function(){return"TIMEOUT: "+g})}_n.prototype.info=function(){};function Gr(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var rt=1;rt<k.length;rt++)k[rt]=""}}}}return Nn(_)}catch{return g}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Fn(){}x(Fn,ro),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Hn=new Fn;function Xe(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var co={},Ba={};function Vn(c,g,_){c.L=1,c.v=$r(ln(g)),c.m=_,c.P=!0,gi(c,null)}function gi(c,g){c.F=Date.now(),Qr(c),c.A=ln(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),yo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ce,c.g=mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Oh(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(jr[0]=k.toString()),k=jr);for(var F=0;F<k.length;F++){var rt=Yl(_,k[F],A||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Xi(),uo(c.i,c.u,c.A,c.l,c.R,c.m)}Xe.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Xe.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=An(this.g);var g=this.g.Ba();const bi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||Ae!=4||g==7||(g==8||0>=bi?Xi(3):Xi(2)),Wi(this);var _=this.g.Z();this.X=_;e:if(Jl(this)){var A=su(this.g);c="";var k=A.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Gn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(F&&g==k-1)});A.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Nh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Te=this.g;if((xt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(xt)){var Pt=xt;break e}}Pt=null}if(_=Pt)$i(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,_);else{this.o=!1,this.s=3,ee(12),Pe(this),Gn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<rt.length;)if(Le=tu(this,rt),Le==Ba){Ae==4&&(this.s=4,ee(14),_=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==co){this.s=4,ee(15),$i(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else $i(this.i,this.l,Le,null),Kr(this,Le);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||rt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)$i(this.i,this.l,rt,"[Invalid Chunked Response]"),Pe(this),Gn(this);else if(0<rt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),ra(De),De.M=!0,ee(11))}}else $i(this.i,this.l,rt,null),Kr(this,rt);Ae==4&&Pe(this),this.o&&!this.J&&(Ae==4?hu(this.j,this):(this.o=!1,Qr(this)))}else Lh(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),Gn(this)}}}catch{}finally{}};function Jl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Ba:(_=Number(g.substring(_,A)),isNaN(_)?co:(A+=1,A+_>g.length?Ba:(g=g.slice(A,A+_),c.C=A+_,g)))}Xe.prototype.cancel=function(){this.J=!0,Pe(this)};function Qr(c){c.S=Date.now()+c.I,eu(c,c.I)}function eu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(S(c.ba,c),g)}function Wi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Xe.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wl(this.i,this.A),this.L!=2&&(Xi(),ee(17)),Pe(this),this.s=2,Gn(this)):eu(this,this.S-c)};function Gn(c){c.j.G==0||c.J||hu(c.j,c)}function Pe(c){Wi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Hr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Kr(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||ho(_.h,c))){if(!c.K&&ho(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Wa(_),$a(_);else break t;Ao(_),ee(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(S(_.Za,_),6e3));if(1>=ja(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((c.K||_.g==c)&&Wa(_),!it(g))for(k=_.Da.g.parse(g),g=0;g<k.length;g++){let Pt=k[g];if(_.T=Pt[0],Pt=Pt[1],_.G==2)if(Pt[0]=="c"){_.K=Pt[1],_.ia=Pt[2];const De=Pt[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ae=Pt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const bi=Pt[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=c.g;if(Le){const Wn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var F=A.h;F.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ha(F,F.h),F.h=null))}if(A.D){const bo=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(A.ya=bo,Kt(A.I,A.D,bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var rt=c;if(A.qa=du(A,A.J?A.ia:null,A.W),rt.K){$e(A.h,rt);var xt=rt,Te=A.L;Te&&(xt.I=Te),xt.B&&(Wi(xt),Qr(xt)),A.g=rt}else uu(A);0<_.i.length&&Za(_)}else Pt[0]!="stop"&&Pt[0]!="close"||Si(_,7);else _.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Si(_,7):Eo(_):Pt[0]!="noop"&&_.l&&_.l.ta(Pt),_.v=0)}}Xi(4)}catch{}}var nu=class{constructor(c,g){this.g=c,this.map=g}};function yi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ja(c){return c.h?1:c.g?c.g.size:0}function ho(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ha(c,g){c.g?c.g.add(g):c.h=g}function $e(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}yi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return K(c.i)}function Vh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function Fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function mo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Fa(c),A=Vh(c),k=A.length,F=0;F<k;F++)g.call(void 0,A[F],_&&_[F],c)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),k=null;if(0<=A){var F=c[_].substring(0,A);k=c[_].substring(A+1)}else F=c[_];g(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pe){this.h=c.h,Xr(this,c.j),this.o=c.o,this.g=c.g,Ji(this,c.s),this.l=c.l;var g=c.i,_=new vi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),_i(this,_),this.m=c.m}else c&&(g=String(c).match(Yr))?(this.h=!1,Xr(this,g[1]||"",!0),this.o=vn(g[2]||""),this.g=vn(g[3]||"",!0),Ji(this,g[4]),this.l=vn(g[5]||"",!0),_i(this,g[6]||"",!0),this.m=vn(g[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}pe.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,po,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zr(_,_.charAt(0)=="/"?xh:go,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zr(_,Ga)),c.join("")};function ln(c){return new pe(c)}function Xr(c,g,_){c.j=_?vn(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ji(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _i(c,g,_){g instanceof vi?(c.i=g,ru(c.i,c.h)):(_||(g=Zr(g,Ph)),c.i=new vi(g,c.h))}function Kt(c,g,_){c.i.set(g,_)}function $r(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vn(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,go=/[#\?:]/g,xh=/[#\?]/g,Ph=/[#\?@]/g,Ga=/#/g;function vi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function En(c){c.g||(c.g=new Map,c.h=0,c.i&&Mh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=vi.prototype,r.add=function(c,g){En(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ei(c,g){En(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ti(c,g){return En(c),g=Qn(c,g),c.g.has(g)}r.forEach=function(c,g){En(this),this.g.forEach(function(_,A){_.forEach(function(k){c.call(g,k,A,this)},this)},this)},r.na=function(){En(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const k=c[A];for(let F=0;F<k.length;F++)_.push(g[A])}return _},r.V=function(c){En(this);let g=[];if(typeof c=="string")Ti(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return En(this),this.i=null,c=Qn(this,c),Ti(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function yo(c,g,_){Ei(c,g),0<_.length&&(c.i=null,c.g.set(Qn(c,g),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),rt=this.V(A);for(A=0;A<rt.length;A++){var k=F;rt[A]!==""&&(k+="="+encodeURIComponent(String(rt[A]))),c.push(k)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ru(c,g){g&&!c.j&&(En(c),c.i=null,c.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(Ei(this,A),yo(this,k,_))},c)),c.j=g}function Wr(c,g){const _=new _n;if(m.Image){const A=new Image;A.onload=P(Tn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Tn,_,"TestLoadImage: error",!1,g,A),A.onabort=P(Tn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Tn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Mn(c,g){const _=new _n,A=new AbortController,k=setTimeout(()=>{A.abort(),Tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?Tn(_,"TestPingServer: ok",!0,g):Tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Tn(_,"TestPingServer: error",!1,g)})}function Tn(c,g,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function Jr(){this.g=new Fr}function Kn(c,g,_){const A=_||"";try{mo(c,function(k,F){let rt=k;y(k)&&(rt=Nn(k)),g.push(A+F+"="+encodeURIComponent(rt))})}catch(k){throw g.push(A+"type="+encodeURIComponent("_badmap")),k}}function tr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(tr,ro),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=function(c){return function(){return c}}({});function Ai(c,g){oe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ai,oe),r=Ai.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_o(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _o(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Yn(this):Xn(this),this.readyState==3&&_o(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vo(c){let g="";return St(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ie(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,g,_))}function jt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(jt,oe);var Qa=/^https?$/i,ta=["POST","PUT"];r=jt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?ao(this.o):ao(Hn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){au(this,F);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,rt]of _)this.g.setRequestHeader(F,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){au(this,F)}};function au(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ka(c),$n(c)}function Ka(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},r.bb=function(){Ya(this)};function Ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)He(c.Ea,0,c);else if(Ft(c,"readystatechange"),An(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=rt===0){var k=String(c.D).match(Yr)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!Qa.test(k?k.toLowerCase():"")}_=A}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var F=2<An(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Ka(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){ea(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ft(c,"ready");try{_.onreadystatechange=A}catch{}}}function ea(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ka(g)}};function su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(it(c[A]))continue;var _=M(c[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[k]||[];g[k]=F,F.push(_)}V(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Xa(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,c),this.cb=na("retryDelaySeedMs",1e4,c),this.Wa=na("forwardChannelMaxRetries",2,c),this.wa=na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(c&&c.concurrentRequestLimit),this.Da=new Jr,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){ee(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),Za(this)};function Eo(c){if(ou(c),c.G==3){var g=c.U++,_=ln(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",g),Kt(_,"TYPE","terminate"),ia(c,_),g=new Xe(c,c.j,g),g.L=2,g.v=$r(ln(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Qr(g)}fu(c)}function $a(c){c.g&&(ra(c),c.g.cancel(),c.g=null)}function ou(c){$a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Za(c){if(!qa(c.h)&&!c.s){c.s=!0;var g=c.Ga;at||D(),dt||(at(),dt=!0),Bt.add(g,c),c.B=0}}function Uh(c,g){return ja(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(S(c.Ga,c,g),So(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Xe(this,this.j,c);let F=this.o;if(this.S&&(F?(F=w(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=lu(this,k,g),_=ln(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),ia(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(vo(F)))+"&"+g:this.m&&Ie(_,this.m,F)),Ha(this.h,k),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",g),Kt(_,"SID","null"),k.T=!0,Vn(k,_,null)):Vn(k,_,g),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||qa(this.h)||To(this))};function To(c,g){var _;g?_=g.l:_=c.U++;const A=ln(c.I);Kt(A,"SID",c.K),Kt(A,"RID",_),Kt(A,"AID",c.T),ia(c,A),c.m&&c.o&&Ie(A,c.m,c.o),_=new Xe(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=lu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ha(c.h,_),Vn(_,A,g)}function ia(c,g){c.H&&St(c.H,function(_,A){Kt(g,A,_)}),c.l&&mo({},function(_,A){Kt(g,A,_)})}function lu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;t:{var k=c.i;let F=-1;for(;;){const rt=["count="+_];F==-1?0<_?(F=k[0].g,rt.push("ofs="+F)):F=0:rt.push("ofs="+F);let xt=!0;for(let Te=0;Te<_;Te++){let Pt=k[Te].g;const De=k[Te].map;if(Pt-=F,0>Pt)F=Math.max(0,k[Te].g-100),xt=!1;else try{Kn(De,rt,"req"+Pt+"_")}catch{A&&A(De)}}if(xt){A=rt.join("&");break t}}}return c=c.i.splice(0,_),g.D=c,A}function uu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;at||D(),dt||(at(),dt=!0),Bt.add(g,c),c.v=0}}function Ao(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(S(c.Fa,c),So(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),$a(this),cu(this))};function ra(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function cu(c){c.g=new Xe(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ln(c.qa);Kt(g,"RID","rpc"),Kt(g,"SID",c.K),Kt(g,"AID",c.T),Kt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(g,"TO",c.ja),Kt(g,"TYPE","xmlhttp"),ia(c,g),c.m&&c.o&&Ie(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=$r(ln(g)),_.m=null,_.P=!0,gi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,$a(this),Ao(this),ee(19))};function Wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function hu(c,g){var _=null;if(c.g==g){Wa(c),ra(c),c.g=null;var A=2}else if(ho(c.h,g))_=g.D,$e(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var k=c.B;A=Yi(),Ft(A,new Ee(A,_)),Za(c)}else uu(c);else if(k=g.s,k==3||k==0&&0<g.X||!(A==1&&Uh(c,g)||A==2&&Ao(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),k){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function So(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Si(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),A=c.Xa;const k=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Xr(A,"https"),$r(A),k?Wr(A.toString(),_):Mn(A.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(g),fu(c),ou(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function fu(c){if(c.G=0,c.ka=[],c.l){const g=fo(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ka,g),H(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function du(c,g,_){var A=_ instanceof pe?ln(_):new pe(_);if(A.g!="")g&&(A.g=g+"."+A.g),Ji(A,A.s);else{var k=m.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var F=new pe(null);A&&Xr(F,A),g&&(F.g=g),k&&Ji(F,k),_&&(F.l=_),A=F}return _=c.D,g=c.ya,_&&g&&Kt(A,_,g),Kt(A,"VER",c.la),ia(c,A),A}function mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new jt(new tr({eb:_})):new jt(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}r=pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ja(){}Ja.prototype.g=function(c,g){return new Ze(c,g)};function Ze(c,g){oe.call(this),this.g=new Xa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!it(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!it(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zn(this)}x(Ze,oe),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Eo(this.g)},Ze.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Nn(c),c=_);g.i.push(new nu(g.Ya++,c)),g.G==3&&Za(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,Ze.aa.N.call(this)};function gu(c){mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(gu,mi);function yu(){oo.call(this),this.status=1}x(yu,oo);function Zn(c){this.g=c}x(Zn,pu),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(c){Ft(this.g,new gu(c))},Zn.prototype.sa=function(c){Ft(this.g,new yu)},Zn.prototype.ra=function(){Ft(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,p0=function(){return new Ja},m0=function(){return Yi()},d0=jn,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Ic=Zi,pi.COMPLETE="complete",f0=pi,so.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",oe.prototype.listen=oe.prototype.K,gl=so,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,h0=jt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",_v="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Dm("@firebase/firestore");function Is(){return Ra.logLevel}function ot(r,...t){if(Ra.logLevel<=Nt.DEBUG){const n=t.map(Pm);Ra.debug(`Firestore (${$s}): ${r}`,...n)}}function Fi(r,...t){if(Ra.logLevel<=Nt.ERROR){const n=t.map(Pm);Ra.error(`Firestore (${$s}): ${r}`,...n)}}function Us(r,...t){if(Ra.logLevel<=Nt.WARN){const n=t.map(Pm);Ra.warn(`Firestore (${$s}): ${r}`,...n)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,g0(r,a,n)}function g0(r,t,n){let a=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Fi(a),new Error(a)}function Ht(r,t,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||g0(t,o,a)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Qi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class sC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oC{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new y0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class lC{constructor(t,n,a){this.P=t,this.T=n,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uC{constructor(t,n,a){this.P=t,this.T=n,this.I=a}getToken(){return Promise.resolve(new lC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const a=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=hC(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=t.charAt(o[u]%62))}return a}}function Rt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){let n=0;for(;n<r.length&&n<t.length;){const a=r.codePointAt(n),o=t.codePointAt(n);if(a!==o){if(a<128&&o<128)return Rt(a,o);{const u=_0(),f=fC(u.encode(Ev(r,n)),u.encode(Ev(t,n)));return f!==0?f:Rt(a,o)}}n+=a>65535?2:1}return Rt(r.length,t.length)}function Ev(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function fC(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Rt(r[n],t[n]);return Rt(r.length,t.length)}function ks(r,t,n){return r.length===t.length&&r.every((a,o)=>n(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-62135596800,Av=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),a=Math.floor((t-1e3*n)*Av);return new we(n,a)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Tv)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="__name__";class ri{constructor(t,n,a){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),a===void 0?a=t.length-n:a>t.length-n&&_t(1746,{length:a,range:t.length-n}),this.segments=t,this.offset=n,this.len=a}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(a=>{n.push(a)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,a=this.limit();n<a;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const a=Math.min(t.length,n.length);for(let o=0;o<a;o++){const u=ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Rt(t.length,n.length)}static compareSegments(t,n){const a=ri.isNumericId(t),o=ri.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ri.extractNumericId(t).compare(ri.extractNumericId(n)):sm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class te extends ri{construct(t,n,a){return new te(t,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const dC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ri{construct(t,n,a){return new qe(t,n,a)}static isValidIdentifier(t){return dC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new qe([Sv])}static fromServerFormat(t){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(te.fromString(t))}static fromName(t){return new mt(te.fromString(t).popFirst(5))}static empty(){return new mt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function mC(r,t){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(a===1e9?new we(n+1,0):new we(n,a));return new Dr(o,mt.empty(),t)}function pC(r){return new Dr(r.readTime,r.key,Nl)}class Dr{constructor(t,n,a){this.readTime=t,this.documentKey=n,this.largestBatchId=a}static min(){return new Dr(Tt.min(),mt.empty(),Nl)}static max(){return new Dr(Tt.max(),mt.empty(),Nl)}}function gC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Rt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _C{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==yC)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,a)=>{n(t)})}static reject(t){return new J((n,a)=>{a(t)})}static waitFor(t){return new J((n,a)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>a(p))}),f=!0,u===o&&n()})}static or(t){let n=J.resolve(!1);for(const a of t)n=n.next(o=>o?J.resolve(o):a());return n}static forEach(t,n){const a=[];return t.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(t,n){return new J((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(t,n){return new J((a,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):a()};u()})}}function vC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ws(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function uh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function EC(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="";function TC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=bv(t)),t=AC(r.get(n),t);return bv(t)}function AC(r,t){let n=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case E0:n+="";break;default:n+=u}}return n}function bv(r){return r+E0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Pr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function T0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(t){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,a)=>(t(n,a),!1))}toString(){const t=[];return this.inorderTraversal((n,a)=>(t.push(`${n}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?a(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,a,o,u){this.key=t,this.value=n,this.color=a??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,a,o,u){return new Be(t??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let a,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,a,o,u){return this}insert(t,n,a){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,a)=>(t(n),!1))}forEachInRange(t,n){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(t){return new Rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(a=>{n=n.add(a)}),n}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const n=this.data.getIterator(),a=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Re(this.comparator);return n.data=t,n}}class Rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new gn([])}unionWith(t){let n=new Re(qe.comparator);for(const a of this.fields)n=n.add(a);for(const a of t)n=n.add(a);return new gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ks(this.fields,t.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new A0("Invalid base64 string: "+u):u}}(t);return new je(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const SC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=SC.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Nr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="server_timestamp",b0="__type__",w0="__previous_value__",R0="__local_write_time__";function Um(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[b0])===null||n===void 0?void 0:n.stringValue)===S0}function ch(r){const t=r.mapValue.fields[w0];return Um(t)?ch(t):t}function Vl(r){const t=Or(r.mapValue.fields[R0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n,a,o,u,f,m,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Fc="(default)";class Ml{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="__type__",wC="__max__",Ac={mapValue:{}},I0="__vector__",Gc="value";function Vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:CC(r)?9007199254740991:RC(r)?10:11:_t(28295,{value:r})}function ui(r,t){if(r===t)return!0;const n=Vr(r);if(n!==Vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Or(o.timestampValue),m=Or(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Nr(o.bytesValue).isEqual(Nr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?Hc(f)===Hc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return ks(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(wv(f)!==wv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ui(f[p],m[p])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function xl(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function zs(r,t){if(r===t)return 0;const n=Vr(r),a=Vr(t);if(n!==a)return Rt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return Cv(r.timestampValue,t.timestampValue);case 4:return Cv(Vl(r),Vl(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Nr(u),p=Nr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Rt(m[y],p[y]);if(E!==0)return E}return Rt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Rt(de(u.latitude),de(f.latitude));return m!==0?m:Rt(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Iv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},S=f.fields||{},P=(m=b[Gc])===null||m===void 0?void 0:m.arrayValue,x=(p=S[Gc])===null||p===void 0?void 0:p.arrayValue,K=Rt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:Iv(P,x)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=sm(p[b],E[b]);if(S!==0)return S;const P=zs(m[p[b]],y[E[b]]);if(P!==0)return P}return Rt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{Pe:n})}}function Cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const n=Or(r),a=Or(t),o=Rt(n.seconds,a.seconds);return o!==0?o:Rt(n.nanos,a.nanos)}function Iv(r,t){const n=r.values||[],a=t.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=zs(n[o],a[o]);if(u)return u}return Rt(n.length,a.length)}function Bs(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=Or(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Nr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return mt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=om(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${om(n.fields[f])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function Dc(r){switch(Vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Dc(t):16;case 5:return 2*r.stringValue.length;case 6:return Nr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+Dc(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Pr(a.fields,(u,f)=>{o+=u.length+Dc(f)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function Dv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function lm(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function Ov(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oc(r){return!!r&&"mapValue"in r}function RC(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[C0])===null||n===void 0?void 0:n.stringValue)===I0}function Sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Pr(r.mapValue.fields,(n,a)=>t.mapValue.fields[n]=Sl(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function CC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let a=0;a<t.length-1;++a)if(n=(n.mapValue.fields||{})[t.get(a)],!Oc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(n)}setAll(t){let n=qe.emptyPath(),a={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Sl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(t){const n=this.field(t.popLast());Oc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=n.mapValue.fields[t.get(a)];Oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,a){Pr(n,(o,u)=>t[o]=u);for(const o of a)delete t[o]}clone(){return new sn(Sl(this.value))}}function D0(r){const t=[];return Pr(r.fields,(n,a)=>{const o=new qe([n]);if(Oc(a)){const u=D0(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,n,a,o,u,f,m){this.key=t,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),sn.empty(),0)}static newFoundDocument(t,n,a,o){return new Ye(t,1,n,Tt.min(),a,o,0)}static newNoDocument(t,n){return new Ye(t,2,n,Tt.min(),Tt.min(),sn.empty(),0)}static newUnknownDocument(t,n){return new Ye(t,3,n,Tt.min(),Tt.min(),sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.position=t,this.inclusive=n}}function Vv(r,t,n){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?a=mt.comparator(mt.fromName(f.referenceValue),n.key):a=zs(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n="asc"){this.field=t,this.dir=n}}function IC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{}class ve extends O0{constructor(t,n,a){super(),this.field=t,this.op=n,this.value=a}static create(t,n,a){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,a):new OC(t,n,a):n==="array-contains"?new MC(t,a):n==="in"?new xC(t,a):n==="not-in"?new PC(t,a):n==="array-contains-any"?new LC(t,a):new ve(t,n,a)}static createKeyFieldInFilter(t,n,a){return n==="in"?new NC(t,a):new VC(t,a)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&Vr(this.value)===Vr(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends O0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new zn(t,n)}matches(t){return N0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function N0(r){return r.op==="and"}function V0(r){return DC(r)&&N0(r)}function DC(r){for(const t of r.filters)if(t instanceof zn)return!1;return!0}function um(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Bs(r.value);if(V0(r))return r.filters.map(t=>um(t)).join(",");{const t=r.filters.map(n=>um(n)).join(",");return`${r.op}(${t})`}}function M0(r,t){return r instanceof ve?function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&ui(a.value,o.value)}(r,t):r instanceof zn?function(a,o){return o instanceof zn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&M0(f,o.filters[m]),!0):!1}(r,t):void _t(19439)}function x0(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Bs(n.value)}`}(r):r instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(x0).join(" ,")+"}"}(r):"Filter"}class OC extends ve{constructor(t,n,a){super(t,n,a),this.key=mt.fromName(a.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class NC extends ve{constructor(t,n){super(t,"in",n),this.keys=P0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VC extends ve{constructor(t,n){super(t,"not-in",n),this.keys=P0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function P0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>mt.fromName(a.referenceValue))}class MC extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return km(n)&&xl(n.arrayValue,this.value)}}class xC extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xl(this.value.arrayValue,n)}}class PC extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!xl(this.value.arrayValue,n)}}class LC extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>xl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,n=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function xv(r,t=null,n=[],a=[],o=null,u=null,f=null){return new UC(r,t,n,a,o,u,f)}function zm(r){const t=At(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(a=>um(a)).join(","),n+="|ob:",n+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),uh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Bs(a)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Bs(a)).join(",")),t.Ie=n}return t.Ie}function Bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!IC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!M0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}function cm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function kC(r,t,n,a,o,u,f,m){return new Js(r,t,n,a,o,u,f,m)}function qm(r){return new Js(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function L0(r){return r.collectionGroup!==null}function bl(r){const t=At(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Pl(u,a))}),n.has(qe.keyField().canonicalString())||t.Ee.push(new Pl(qe.keyField(),a))}return t.Ee}function si(r){const t=At(r);return t.de||(t.de=zC(t,bl(r))),t.de}function zC(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Pl(o.field,u)});const n=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,n,a)}}function hm(r,t){const n=r.filters.concat([t]);return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function fm(r,t,n){return new Js(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function hh(r,t){return Bm(si(r),si(t))&&r.limitType===t.limitType}function U0(r){return`${zm(si(r))}|lt:${r.limitType}`}function Ds(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>x0(o)).join(", ")}]`),uh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>Bs(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>Bs(o)).join(",")),`Target(${a})`}(si(r))}; limitType=${r.limitType})`}function fh(r,t){return t.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):mt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,t)&&function(a,o){for(const u of bl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(f,m,p){const y=Vv(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,bl(a),o)||a.endAt&&!function(f,m,p){const y=Vv(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,bl(a),o))}(r,t)}function BC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k0(r){return(t,n)=>{let a=!1;for(const o of bl(r)){const u=qC(o,t,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function qC(r,t,n){const a=r.field.isKeyField()?mt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?zs(p,y):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,(n,a)=>{for(const[o,u]of a)t(o,u)})}isEmpty(){return T0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new ae(mt.comparator);function Gi(){return jC}const z0=new ae(mt.comparator);function yl(...r){let t=z0;for(const n of r)t=t.insert(n.key,n);return t}function B0(r){let t=z0;return r.forEach((n,a)=>t=t.insert(n,a.overlayedDocument)),t}function Aa(){return wl()}function q0(){return wl()}function wl(){return new Na(r=>r.toString(),(r,t)=>r.isEqual(t))}const HC=new ae(mt.comparator),FC=new Re(mt.comparator);function Vt(...r){let t=FC;for(const n of r)t=t.add(n);return t}const GC=new Re(Rt);function QC(){return GC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function j0(r){return{integerValue:""+r}}function KC(r,t){return EC(t)?j0(t):jm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function YC(r,t,n){return r instanceof Kc?function(o,u){const f={fields:{[b0]:{stringValue:S0},[R0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=ch(u)),u&&(f.fields[w0]=u),{mapValue:f}}(n,t):r instanceof qs?F0(r,t):r instanceof js?G0(r,t):function(o,u){const f=H0(o,u),m=Lv(f)+Lv(o.Re);return lm(f)&&lm(o.Re)?j0(m):jm(o.serializer,m)}(r,t)}function XC(r,t,n){return r instanceof qs?F0(r,t):r instanceof js?G0(r,t):n}function H0(r,t){return r instanceof Yc?function(a){return lm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Kc extends dh{}class qs extends dh{constructor(t){super(),this.elements=t}}function F0(r,t){const n=Q0(t);for(const a of r.elements)n.some(o=>ui(o,a))||n.push(a);return{arrayValue:{values:n}}}class js extends dh{constructor(t){super(),this.elements=t}}function G0(r,t){let n=Q0(t);for(const a of r.elements)n=n.filter(o=>!ui(o,a));return{arrayValue:{values:n}}}class Yc extends dh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Lv(r){return de(r.integerValue||r.doubleValue)}function Q0(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,n){this.field=t,this.transform=n}}function $C(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof qs&&o instanceof qs||a instanceof js&&o instanceof js?ks(a.elements,o.elements,ui):a instanceof Yc&&o instanceof Yc?ui(a.Re,o.Re):a instanceof Kc&&o instanceof Kc}(r.transform,t.transform)}class ZC{constructor(t,n){this.version=t,this.transformResults=n}}class On{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class mh{}function Y0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,On.none()):new Hl(r.key,r.data,On.none());{const n=r.data,a=sn.empty();let o=new Re(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Lr(r.key,a,new gn(o.toArray()),On.none())}}function WC(r,t,n){r instanceof Hl?function(o,u,f){const m=o.value.clone(),p=kv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Lr?function(o,u,f){if(!Nc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=kv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(X0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Rl(r,t,n,a){return r instanceof Hl?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=u.value.clone(),E=zv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,a):r instanceof Lr?function(u,f,m,p){if(!Nc(u.precondition,f))return m;const y=zv(u.fieldTransforms,p,f),E=f.data;return E.setAll(X0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,a):function(u,f,m){return Nc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function JC(r,t){let n=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=H0(a.transform,o||null);u!=null&&(n===null&&(n=sn.empty()),n.set(a.field,u))}return n||null}function Uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ks(a,o,(u,f)=>$C(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Hl extends mh{constructor(t,n,a,o=[]){super(),this.key=t,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lr extends mh{constructor(t,n,a,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);t.set(n,a)}}),t}function kv(r,t,n){const a=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,XC(f,m,n[o]))}return a}function zv(r,t,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,YC(u,f,t))}return a}class Hm extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n,a,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&WC(u,t,a[o])}}applyToLocalView(t,n){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(n=Rl(a,t,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(n=Rl(a,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const a=q0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Y0(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&ks(this.mutations,t.mutations,(n,a)=>Uv(n,a))&&ks(this.baseMutations,t.baseMutations,(n,a)=>Uv(n,a))}}class Fm{constructor(t,n,a,o){this.batch=t,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(t,n,a){Ht(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let o=function(){return HC}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Fm(t,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function rI(r){switch(r){case W.OK:return _t(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function $0(r){if(r===void 0)return Fi("GRPC error has no .code"),W.UNKNOWN;switch(r){case _e.OK:return W.OK;case _e.CANCELLED:return W.CANCELLED;case _e.UNKNOWN:return W.UNKNOWN;case _e.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case _e.INTERNAL:return W.INTERNAL;case _e.UNAVAILABLE:return W.UNAVAILABLE;case _e.UNAUTHENTICATED:return W.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case _e.NOT_FOUND:return W.NOT_FOUND;case _e.ALREADY_EXISTS:return W.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return W.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case _e.ABORTED:return W.ABORTED;case _e.OUT_OF_RANGE:return W.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return W.UNIMPLEMENTED;case _e.DATA_LOSS:return W.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Cr([4294967295,4294967295],0);function Bv(r){const t=_0().encode(r),n=new c0;return n.update(t),new Uint8Array(n.digest())}function qv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Cr([n,a],0),new Cr([o,u],0)]}class Gm{constructor(t,n,a){if(this.bitmap=t,this.padding=n,this.hashCount=a,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Cr.fromNumber(this.pe)}we(t,n,a){let o=t.add(n.multiply(Cr.fromNumber(a)));return o.compare(aI)===1&&(o=new Cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Bv(t),[a,o]=qv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);if(!this.be(f))return!1}return!0}static create(t,n,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gm(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=Bv(t),[a,o]=qv(n);for(let u=0;u<this.hashCount;u++){const f=this.we(a,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),a=t%8;this.bitmap[n]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,a,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,a){const o=new Map;return o.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,n,a)),new ph(Tt.min(),o,new ae(Rt),Gi(),Vt())}}class Fl{constructor(t,n,a,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,a){return new Fl(a,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,n,a,o){this.De=t,this.removedTargetIds=n,this.key=a,this.ve=o}}class Z0{constructor(t,n){this.targetId=t,this.Ce=n}}class W0{constructor(t,n,a=je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=a,this.cause=o}}class jv{constructor(){this.Fe=0,this.Me=Hv(),this.xe=je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),a=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:_t(38017,{changeType:u})}}),new Fl(this.xe,this.Oe,t,n,a)}Qe(){this.Ne=!1,this.Me=Hv()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sI{constructor(t){this.ze=t,this.je=new Map,this.He=Gi(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new ae(Rt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const a=this.rt(n);switch(t.state){case 0:this.it(n)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((a,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,a=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(cm(u))if(a===0){const f=new mt(u.path);this.tt(n,f,Ye.newNoDocument(f,Tt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const f=this.ut(n);if(f!==a){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Nr(a).toUint8Array()}catch(p){if(p instanceof A0)return Us("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gm(f,o,u)}catch(p){return Us(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,a){return n.Ce.count===a-this.Tt(t,n.targetId)?0:2}Tt(t,n){const a=this.ze.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&cm(m.target)){const p=new mt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Ye.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let a=Vt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new ph(t,n,this.Ze,this.He,a);return this.He=Gi(),this.Je=Sc(),this.Ye=Sc(),this.Ze=new ae(Rt),o}et(t,n){if(!this.it(t))return;const a=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,a){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),a&&(this.He=this.He.insert(n,a))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new jv,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Re(Rt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Re(Rt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new jv),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Sc(){return new ae(mt.comparator)}function Hv(){return new ae(mt.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class cI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dm(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function J0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function hI(r,t){return Xc(r,t.toTimestamp())}function oi(r){return Ht(!!r,49232),Tt.fromTimestamp(function(n){const a=Or(n);return new we(a.seconds,a.nanos)}(r))}function Qm(r,t){return mm(r,t).canonicalString()}function mm(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function tT(r){const t=te.fromString(r);return Ht(aT(t),10190,{key:t.toString()}),t}function pm(r,t){return Qm(r.databaseId,t.path)}function Fd(r,t){const n=tT(t);if(n.get(1)!==r.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(nT(n))}function eT(r,t){return Qm(r.databaseId,t)}function fI(r){const t=tT(r);return t.length===4?te.emptyPath():nT(t)}function gm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Fv(r,t,n){return{name:pm(r,t),fields:n.value.mapValue.fields}}function dI(r,t){let n;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),je.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),je.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?W.UNKNOWN:$0(y.code);return new lt(E,y.message||"")}(f);n=new W0(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Fd(r,a.document.name),u=oi(a.document.updateTime),f=a.document.createTime?oi(a.document.createTime):Tt.min(),m=new sn({mapValue:{fields:a.document.fields}}),p=Ye.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new Vc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Fd(r,a.document),u=a.readTime?oi(a.readTime):Tt.min(),f=Ye.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Vc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Fd(r,a.document),u=a.removedTargetIds||[];n=new Vc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new iI(o,u),m=a.targetId;n=new Z0(m,f)}}return n}function mI(r,t){let n;if(t instanceof Hl)n={update:Fv(r,t.key,t.value)};else if(t instanceof Hm)n={delete:pm(r,t.key)};else if(t instanceof Lr)n={update:Fv(r,t.key,t.data),updateMask:SI(t.fieldMask)};else{if(!(t instanceof tI))return _t(16599,{ft:t.type});n={verify:pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Kc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qs)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof js)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Yc)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw _t(20930,{transform:f.transform})}(0,a))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:hI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)}(r,t.precondition)),n}function pI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?oi(o.updateTime):oi(u);return f.isEqual(Tt.min())&&(f=oi(u)),new ZC(f,o.transformResults||[])}(n,t))):[]}function gI(r,t){return{documents:[eT(r,t.path)]}}function yI(r,t){const n={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=eT(r,o);const u=function(y){if(y.length!==0)return rT(zn.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Os(S.field),direction:EI(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=dm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function _I(r){let t=fI(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=iT(b);return S instanceof zn&&V0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(x){return new Pl(Ns(x.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,uh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,P=b.values||[];return new Qc(P,S)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const S=!b.before,P=b.values||[];return new Qc(P,S)}(n.endAt)),kC(t,o,f,u,m,"F",p,y)}function vI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ns(n.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(n.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ns(n.unaryFilter.field);return ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ns(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Ns(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(a=>iT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function EI(r){return oI[r]}function TI(r){return lI[r]}function AI(r){return uI[r]}function Os(r){return{fieldPath:r.canonicalString()}}function Ns(r){return qe.fromServerFormat(r.fieldPath)}function rT(r){return r instanceof ve?function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(Ov(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:TI(n.op),value:n.value}}}(r):r instanceof zn?function(n){const a=n.getFilters().map(o=>rT(o));return a.length===1?a[0]:{compositeFilter:{op:AI(n.op),filters:a}}}(r):_t(54877,{filter:r})}function SI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function aT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,a,o,u=Tt.min(),f=Tt.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.wt=t}}function wI(r){const t=_I({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.yn=new CI}addToCollectionParentIndex(t,n){return this.yn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Dr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Dr.min())}updateCollectionGroup(t,n,a){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class CI{constructor(){this.index={}}add(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n]||new Re(te.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(t){const n=t.lastSegment(),a=t.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Re(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(sT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Hs(0)}static ir(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",II=1048576;function Kv([r,t],[n,a]){const o=Rt(r,n);return o===0?Rt(t,a):o}class DI{constructor(t){this.cr=t,this.buffer=new Re(Kv),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Kv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(t,n,a){this.garbageCollector=t,this.asyncQueue=n,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ot(Qv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ws(n)?ot(Qv,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Ir(3e5)})}}class NI{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(a=>Math.floor(n/100*a))}nthSequenceNumber(t,n){if(n===0)return J.resolve(lh.le);const a=new DI(n);return this.Er.forEachTarget(t,o=>a.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>a.Pr(o))).next(()=>a.maxValue)}removeTargets(t,n,a){return this.Er.removeTargets(t,n,a)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Gv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(a=b,m=Date.now(),this.removeTargets(t,a,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(b=>(y=Date.now(),Is()<=Nt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function VI(r,t){return new NI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changes=new Na(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?J.resolve(a):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,n,a,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,n){let a=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(a!==null&&Rl(a.mutation,o,gn.empty(),we.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,n,a=Vt()){const o=Aa();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,a).next(u=>{let f=yl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const a=Aa();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,Vt()))}populateOverlays(t,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,a,o){let u=Gi();const f=wl(),m=function(){return wl()}();return n.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Lr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Rl(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new xI(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const a=wl();let o=new ae((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=a.get(p)||gn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const b=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=q0();E.forEach(S=>{if(!u.has(S)){const P=Y0(n.get(S),a.get(S));P!==null&&b.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return J.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,n,a,o){return function(f){return mt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):L0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,a,o):this.getDocumentsMatchingCollectionQuery(t,n,a,o)}getNextDocuments(t,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,a.largestBatchId,o-u.size):J.resolve(Aa());let m=Nl,p=u;return f.next(y=>J.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Vt())).next(E=>({batchId:m,changes:B0(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next(a=>{let o=yl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,a,o){const u=n.collectionGroup;let f=yl();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const y=function(b,S){return new Js(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,a,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ye.newInvalidDocument(E)))});let m=yl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Rl(E.mutation,y,gn.empty(),we.now()),fh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return J.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:wI(o.bundledQuery),readTime:oi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.overlays=new ae(mt.comparator),this.Or=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const a=Aa();return J.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(t,n,a){return a.forEach((o,u)=>{this.St(t,n,u)}),J.resolve()}removeOverlaysForBatchId(t,n,a){const o=this.Or.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(a)),J.resolve()}getOverlaysForCollection(t,n,a){const o=Aa(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,a,o){let u=new ae((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Aa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}St(t,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(a.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new nI(n,a));let u=this.Or.get(n);u===void 0&&(u=Vt(),this.Or.set(n,u)),this.Or.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Nr=new Re(Me.Br),this.Lr=new Re(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const a=new Me(t,n);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,n){t.forEach(a=>this.addReference(a,n))}removeReference(t,n){this.Qr(new Me(t,n))}$r(t,n){t.forEach(a=>this.removeReference(a,n))}Ur(t){const n=new mt(new te([])),a=new Me(n,t),o=new Me(n,t+1),u=[];return this.Lr.forEachInRange([a,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new mt(new te([])),a=new Me(n,t),o=new Me(n,t+1);let u=Vt();return this.Lr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Me(t,0),a=this.Nr.firstAfterOrEqual(n);return a!==null&&t.isEqual(a.key)}}class Me{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return mt.comparator(t.key,n.key)||Rt(t.Gr,n.Gr)}static kr(t,n){return Rt(t.Gr,n.Gr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Re(Me.Br)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,a,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new eI(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Me(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const a=n+1,o=this.Hr(a),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Lm:this.Jn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const a=new Me(n,0),o=new Me(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([a,o],f=>{const m=this.jr(f.Gr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let a=new Re(Rt);return n.forEach(o=>{const u=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{a=a.add(m.Gr)})}),J.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,n){const a=n.path,o=a.length+1;let u=a;mt.isDocumentKey(u)||(u=u.child(""));const f=new Me(new mt(u),0);let m=new Re(Rt);return this.zr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Gr)),!0)},f),J.resolve(this.Jr(m))}Jr(t){const n=[];return t.forEach(a=>{const o=this.jr(a);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return J.forEach(n.mutations,o=>{const u=new Me(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,n){const a=new Me(n,0),o=this.zr.firstAfterOrEqual(a);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.Zr=t,this.docs=function(){return new ae(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const a=this.docs.get(n);return J.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(n))}getEntries(t,n){let a=Gi();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Ye.newInvalidDocument(o))}),J.resolve(a)}getDocumentsMatchingQuery(t,n,a,o){let u=Gi();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||gC(pC(E),a)<=0||(o.has(E.key)||fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,a,o){_t(9500)}Xr(t,n){return J.forEach(this.docs,a=>n(a))}newChangeBuffer(t){return new qI(this)}getSize(t){return J.resolve(this.size)}}class qI extends MI{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(a)}),J.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.persistence=t,this.ei=new Na(n=>zm(n),Bm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Km,this.targetCount=0,this.ri=Hs.rr()}forEachTarget(t,n){return this.ei.forEach((a,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ti&&(this.ti=n),J.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new Hs(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.ar(n),J.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,a){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const a=this.ei.get(n)||null;return J.resolve(a)}addMatchingKeys(t,n,a){return this.ni.qr(n,a),J.resolve()}removeMatchingKeys(t,n,a){this.ni.$r(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),J.resolve()}getMatchingKeysForTargetId(t,n){const a=this.ni.Wr(n);return J.resolve(a)}containsKey(t,n){return J.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this.ii={},this.overlays={},this.si=new lh(0),this.oi=!1,this.oi=!0,this._i=new kI,this.referenceDelegate=t(this),this.ai=new jI(this),this.indexManager=new RI,this.remoteDocumentCache=function(o){return new BI(o)}(a=>this.referenceDelegate.ui(a)),this.serializer=new bI(n),this.ci=new LI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new UI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let a=this.ii[t.toKey()];return a||(a=new zI(n,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,a){ot("MemoryPersistence","Starting transaction:",t);const o=new HI(this.si.next());return this.referenceDelegate.li(),a(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return J.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,n)))}}class HI extends _C{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ti=new Km,this.Ii=null}static Ei(t){return new Ym(t)}get di(){if(this.Ii)return this.Ii;throw _t(60996)}addReference(t,n,a){return this.Ti.addReference(a,n),this.di.delete(a.toString()),J.resolve()}removeReference(t,n,a){return this.Ti.removeReference(a,n),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>a.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,a=>{const o=mt.fromPath(a);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return J.or([()=>J.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class $c{constructor(t,n){this.persistence=t,this.Ri=new Na(a=>TC(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=VI(this,n)}static Ei(t,n){return new $c(t,n)}li(){}hi(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>n.next(o=>a+o))}Vr(t){let n=0;return this.Ar(t,a=>{n++}).next(()=>n)}Ar(t,n){return J.forEach(this.Ri,(a,o)=>this.gr(t,a,o).next(u=>u?J.resolve():n(o)))}removeTargets(t,n,a){return this.persistence.getTargetCache().removeTargets(t,n,a)}removeOrphanedDocuments(t,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,n).next(m=>{m||(a++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const a=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,n,a){return this.Ri.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),J.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Dc(t.data.value)),n}gr(t,n,a){return J.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,a,o){this.targetId=t,this.fromCache=n,this.ls=a,this.hs=o}static Ps(t,n){let a=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(t,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Ab()?8:vC(kn())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,a,o){const u={result:null};return this.Rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new FI;return this.fs(t,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,n,f,m.size)})}).next(()=>u.result)}gs(t,n,a,o){return a.documentReadCount<this.Es?(Is()<=Nt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(Is()<=Nt.DEBUG&&ot("QueryEngine","Query:",Ds(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Is()<=Nt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(n))):J.resolve())}Rs(t,n){if(Pv(n))return J.resolve(null);let a=si(n);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),a=si(n)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Vt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.ps(n,m);return this.ys(n,y,f,p.readTime)?this.Rs(t,fm(n,null,"F")):this.ws(t,y,n,p)}))})))}Vs(t,n,a,o){return Pv(n)||o.isEqual(Tt.min())?J.resolve(null):this.As.getDocuments(t,a).next(u=>{const f=this.ps(n,u);return this.ys(n,f,a,o)?J.resolve(null):(Is()<=Nt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ds(n)),this.ws(t,f,n,mC(o,Nl)).next(m=>m))})}ps(t,n){let a=new Re(k0(t));return n.forEach((o,u)=>{fh(t,u)&&(a=a.add(u))}),a}ys(t,n,a,o){if(t.limit===null)return!1;if(a.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,a){return Is()<=Nt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.As.getDocumentsMatchingQuery(t,n,Dr.min(),a)}ws(t,n,a,o){return this.As.getDocumentsMatchingQuery(t,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",QI=3e8;class KI{constructor(t,n,a,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new ae(Rt),this.Ds=new Na(u=>zm(u),Bm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new PI(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function YI(r,t,n,a){return new KI(r,t,n,a)}async function lT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next(y=>({Ms:y,removedBatchIds:f,addedBatchIds:m}))})})}function XI(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let P=J.resolve();return S.forEach(x=>{P=P.next(()=>E.getEntry(p,x)).next(K=>{const H=y.docVersions.get(x);Ht(H!==null,48541),K.version.compareTo(H)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,a,t,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(a,o))})}function uT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function $I(r,t){const n=At(r),a=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];t.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,b)));let P=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(b,P),function(K,H,$){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=QI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,P,E)&&m.push(n.ai.updateTargetData(u,P))});let p=Gi(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(ZI(u,f,t.documentUpdates).next(E=>{p=E.xs,y=E.Os})),!a.isEqual(Tt.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(b=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ss=o,u))}function ZI(r,t,n){let a=Vt(),o=Vt();return n.forEach(u=>a=a.add(u)),t.getEntries(r,a).next(u=>{let f=Gi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ot($m,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{xs:f,Os:o}})}function WI(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function JI(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.ai.getTargetData(a,t).next(u=>u?(o=u,J.resolve(o)):n.ai.allocateTargetId(a).next(f=>(o=new Sr(t,f,"TargetPurposeListen",a.currentSequenceNumber),n.ai.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ss.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(a.targetId,a),n.Ds.set(t,a.targetId)),a})}async function ym(r,t,n){const a=At(r),o=a.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ws(f))throw f;ot($m,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(o.target)}function Yv(r,t,n){const a=At(r);let o=Tt.min(),u=Vt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=At(p),S=b.Ds.get(E);return S!==void 0?J.resolve(b.Ss.get(S)):b.ai.getTargetData(y,E)}(a,f,si(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.bs.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Vt())).next(m=>(t2(a,BC(t),m),{documents:m,Ns:u})))}function t2(r,t,n){let a=r.vs.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.vs.set(t,a)}class Xv{constructor(){this.activeTargetIds=QC()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class e2{constructor(){this.So=new Xv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,a){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,a){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Xv,Promise.resolve()}handleUserChange(t,n,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Zv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ot($v,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ot($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function _m(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${a}/databases/${o}`,this.qo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Qo(t,n,a,o,u){const f=_m(),m=this.$o(t,n.toUriEncodedString());ot(Gd,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:y}=new URL(m),E=ih(y);return this.Ko(t,m,p,a,E).then(b=>(ot(Gd,`Received RPC '${t}' ${f}: `,b),b),b=>{throw Us(Gd,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",a),b})}Wo(t,n,a,o,u,f){return this.Qo(t,n,a,o,u)}Uo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),a&&a.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const a=i2[t];return`${this.Lo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class s2 extends r2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,a,o,u){const f=_m();return new Promise((m,p)=>{const y=new h0;y.setWithCredentials(!0),y.listenOnce(f0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const b=y.getResponseJson();ot(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Ic.TIMEOUT:ot(Qe,`RPC '${t}' ${f} timed out`),p(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const S=y.getStatus();if(ot(Qe,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const x=P==null?void 0:P.error;if(x&&x.status&&x.message){const K=function($){const it=$.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(it)>=0?it:W.UNKNOWN}(x.status);p(new lt(K,x.message))}else p(new lt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new lt(W.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{s_:t,streamId:f,o_:y.getLastErrorCode(),__:y.getLastError()})}}finally{ot(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ot(Qe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,a,15)})}a_(t,n,a){const o=_m(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=p0(),m=m0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ot(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let S=!1,P=!1;const x=new a2({Go:H=>{P?ot(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(S||(ot(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ot(Qe,`RPC '${t}' stream ${o} sending:`,H),b.send(H))},zo:()=>b.close()}),K=(H,$,it)=>{H.listen($,tt=>{try{it(tt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return K(b,gl.EventType.OPEN,()=>{P||(ot(Qe,`RPC '${t}' stream ${o} transport opened.`),x.t_())}),K(b,gl.EventType.CLOSE,()=>{P||(P=!0,ot(Qe,`RPC '${t}' stream ${o} transport closed`),x.r_())}),K(b,gl.EventType.ERROR,H=>{P||(P=!0,Us(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),x.r_(new lt(W.UNAVAILABLE,"The operation could not be completed")))}),K(b,gl.EventType.MESSAGE,H=>{var $;if(!P){const it=H.data[0];Ht(!!it,16349);const tt=it,ht=(tt==null?void 0:tt.error)||(($=tt[0])===null||$===void 0?void 0:$.error);if(ht){ot(Qe,`RPC '${t}' stream ${o} received error:`,ht);const ct=ht.status;let St=function(R){const O=_e[R];if(O!==void 0)return $0(O)}(ct),V=ht.message;St===void 0&&(St=W.INTERNAL,V="Unknown error status: "+ct+" with message "+ht.message),P=!0,x.r_(new lt(St,V)),b.close()}else ot(Qe,`RPC '${t}' stream ${o} received:`,it),x.i_(it)}}),K(m,d0.STAT_EVENT,H=>{H.stat===am.PROXY?ot(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===am.NOPROXY&&ot(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r){return new cI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,n,a=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=a,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class hT{constructor(t,n,a,o,u,f,m,p){this.bi=t,this.R_=a,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new cT(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.m_===n&&this.B_(a,o)},a=>{t(()=>{const o=new lt(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(o)})})}B_(t,n){const a=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{a(()=>this.L_(o))}),this.stream.onMessage(o=>{a(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ot(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(ot(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o2 extends hT{constructor(t,n,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=dI(this.serializer,t),a=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?oi(f.readTime):Tt.min()}(t);return this.listener.Q_(n,a)}U_(t){const n={};n.database=gm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=cm(p)?{documents:gI(u,p)}:{query:yI(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=J0(u,f.resumeToken);const y=dm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Xc(u,f.snapshotVersion.toTimestamp());const y=dm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=vI(this.serializer,t);a&&(n.labels=a),this.F_(n)}K_(t){const n={};n.database=gm(this.serializer),n.removeTarget=t,this.F_(n)}}class l2 extends hT{constructor(t,n,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=pI(t.writeResults,t.commitTime),a=oi(t.commitTime);return this.listener.j_(a,n)}H_(){const t={};t.database=gm(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(a=>mI(this.serializer,a))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{}class c2 extends u2{constructor(t,n,a,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,mm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(W.UNKNOWN,u.toString())})}Wo(t,n,a,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,mm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new lt(W.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class h2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Fi(n),this.ea=!1):ot("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class f2{constructor(t,n,a,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{a.enqueueAndForget(async()=>{Va(this)&&(ot(Ca,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.aa.add(4),await Gl(y),y.la.set("Unknown"),y.aa.delete(4),await yh(y)}(this))})}),this.la=new h2(a,o)}}async function yh(r){if(Va(r))for(const t of r.ua)await t(!0)}async function Gl(r){for(const t of r.ua)await t(!1)}function fT(r,t){const n=At(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),tp(n)?Jm(n):to(n).b_()&&Wm(n,t))}function Zm(r,t){const n=At(r),a=to(n);n._a.delete(t),a.b_()&&dT(n,t),n._a.size===0&&(a.b_()?a.v_():Va(n)&&n.la.set("Unknown"))}function Wm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).U_(t)}function dT(r,t){r.ha.Ke(t),to(r).K_(t)}function Jm(r){r.ha=new sI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),to(r).start(),r.la.ta()}function tp(r){return Va(r)&&!to(r).w_()&&r._a.size>0}function Va(r){return At(r).aa.size===0}function mT(r){r.ha=void 0}async function d2(r){r.la.set("Online")}async function m2(r){r._a.forEach((t,n)=>{Wm(r,t)})}async function p2(r,t){mT(r),tp(r)?(r.la.ia(t),Jm(r)):r.la.set("Unknown")}async function g2(r,t,n){if(r.la.set("Online"),t instanceof W0&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,t)}catch(a){ot(Ca,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Vc?r.ha.Xe(t):t instanceof Z0?r.ha.ot(t):r.ha.nt(t),!n.isEqual(Tt.min()))try{const a=await uT(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(y);E&&u._a.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),dT(u,p);const b=new Sr(E.target,p,y,E.sequenceNumber);Wm(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){ot(Ca,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,n){if(!Ws(t))throw t;r.aa.add(1),await Gl(r),r.la.set("Offline"),n||(n=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Ca,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await yh(r)})}function pT(r,t){return t().catch(n=>Zc(r,n,t))}async function _h(r){const t=At(r),n=Mr(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:Lm;for(;y2(t);)try{const o=await WI(t.localStore,a);if(o===null){t.oa.length===0&&n.v_();break}a=o.batchId,_2(t,o)}catch(o){await Zc(t,o)}gT(t)&&yT(t)}function y2(r){return Va(r)&&r.oa.length<10}function _2(r,t){r.oa.push(t);const n=Mr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function gT(r){return Va(r)&&!Mr(r).w_()&&r.oa.length>0}function yT(r){Mr(r).start()}async function v2(r){Mr(r).H_()}async function E2(r){const t=Mr(r);for(const n of r.oa)t.G_(n.mutations)}async function T2(r,t,n){const a=r.oa.shift(),o=Fm.from(a,t,n);await pT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await _h(r)}async function A2(r,t){t&&Mr(r).W_&&await async function(a,o){if(function(f){return rI(f)&&f!==W.ABORTED}(o.code)){const u=a.oa.shift();Mr(a).D_(),await pT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await _h(a)}}(r,t),gT(r)&&yT(r)}async function Jv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),ot(Ca,"RemoteStore received new credentials");const a=Va(n);n.aa.add(3),await Gl(n),a&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await yh(n)}async function S2(r,t){const n=At(r);t?(n.aa.delete(2),await yh(n)):t||(n.aa.add(2),await Gl(n),n.la.set("Unknown"))}function to(r){return r.Pa||(r.Pa=function(n,a,o){const u=At(n);return u.Y_(),new o2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:d2.bind(null,r),Jo:m2.bind(null,r),Zo:p2.bind(null,r),Q_:g2.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),tp(r)?Jm(r):r.la.set("Unknown")):(await r.Pa.stop(),mT(r))})),r.Pa}function Mr(r){return r.Ta||(r.Ta=function(n,a,o){const u=At(n);return u.Y_(),new l2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:v2.bind(null,r),Zo:A2.bind(null,r),z_:E2.bind(null,r),j_:T2.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await _h(r)):(await r.Ta.stop(),r.oa.length>0&&(ot(Ca,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,a,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,a,o,u){const f=Date.now()+a,m=new ep(t,n,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),Ws(r))return new lt(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static emptySet(t){return new xs(t.comparator)}constructor(t){this.comparator=t?(n,a)=>t(n,a)||mt.comparator(n.key,a.key):(n,a)=>mt.comparator(n.key,a.key),this.keyedMap=yl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,a)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const a=new xs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.Ia=new ae(mt.comparator)}track(t){const n=t.doc.key,a=this.Ia.get(n);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(n,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(n):t.type===1&&a.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):_t(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,a)=>{t.push(a)}),t}}class Fs{constructor(t,n,a,o,u,f,m,p,y){this.query=t,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Fs(t,n,xs.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,a=t.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class w2{constructor(){this.queries=eE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,a){const o=At(n),u=o.queries;o.queries=eE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(a)})})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function eE(){return new Na(r=>U0(r),hh)}async function _T(r,t){const n=At(r);let a=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(a=2):(u=new b2,a=t.ma()?0:1);try{switch(a){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=np(f,`Initialization of query '${Ds(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&ip(n)}async function vT(r,t){const n=At(r),a=t.query;let o=3;const u=n.queries.get(a);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function R2(r,t){const n=At(r);let a=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(a=!0);f.Aa=o}}a&&ip(n)}function C2(r,t,n){const a=At(r),o=a.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);a.queries.delete(t)}function ip(r){r.fa.forEach(t=>{t.next()})}var vm,nE;(nE=vm||(vm={})).ya="default",nE.Cache="cache";class ET{constructor(t,n,a){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Fs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const a=n!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=Fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t){this.key=t}}class AT{constructor(t){this.key=t}}class I2{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=k0(t),this.Ka=new xs(this.Ua)}get Wa(){return this.qa}Ga(t,n){const a=n?n.za:new tE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const S=o.get(E),P=fh(this.query,b)?b:null,x=!!S&&this.mutatedKeys.has(S.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let H=!1;S&&P?S.data.isEqual(P.data)?x!==K&&(a.track({type:3,doc:P}),H=!0):this.ja(S,P)||(a.track({type:2,doc:P}),H=!0,(p&&this.Ua(P,p)>0||y&&this.Ua(P,y)<0)&&(m=!0)):!S&&P?(a.track({type:0,doc:P}),H=!0):S&&!P&&(a.track({type:1,doc:S}),H=!0,(p||y)&&(m=!0)),H&&(P?(f=f.add(P),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{Ka:f,za:a,ys:m,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,a,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,b)=>function(P,x){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Vt:H})}};return K(P)-K(x)}(E.type,b.type)||this.Ua(E.doc,b.doc)),this.Ha(a),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,y=p!==this.Qa;return this.Qa=p,f.length!==0||y?{snapshot:new Fs(this.query,t.Ka,u,f,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new tE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Vt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const n=[];return t.forEach(a=>{this.$a.has(a)||n.push(new AT(a))}),this.$a.forEach(a=>{t.has(a)||n.push(new TT(a))}),n}Xa(t){this.qa=t.Ns,this.$a=Vt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return Fs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const rp="SyncEngine";class D2{constructor(t,n,a){this.query=t,this.targetId=n,this.view=a}}class O2{constructor(t){this.key=t,this.tu=!1}}class N2{constructor(t,n,a,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new Na(m=>U0(m),hh),this.iu=new Map,this.su=new Set,this.ou=new ae(mt.comparator),this._u=new Map,this.au=new Km,this.uu={},this.cu=new Map,this.lu=Hs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function V2(r,t,n=!0){const a=IT(r);let o;const u=a.ru.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await ST(a,t,n,!0),o}async function M2(r,t){const n=IT(r);await ST(n,t,!0,!1)}async function ST(r,t,n,a){const o=await JI(r.localStore,si(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await x2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&fT(r.remoteStore,o),m}async function x2(r,t,n,a,o){r.Pu=(b,S,P)=>async function(K,H,$,it){let tt=H.view.Ga($);tt.ys&&(tt=await Yv(K.localStore,H.query,!1).then(({documents:V})=>H.view.Ga(V,tt)));const ht=it&&it.targetChanges.get(H.targetId),ct=it&&it.targetMismatches.get(H.targetId)!=null,St=H.view.applyChanges(tt,K.isPrimaryClient,ht,ct);return rE(K,H.targetId,St.Ya),St.snapshot}(r,b,S,P);const u=await Yv(r.localStore,t,!0),f=new I2(t,u.Ns),m=f.Ga(u.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);rE(r,n,y.Ya);const E=new D2(t,n,f);return r.ru.set(t,E),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),y.snapshot}async function P2(r,t,n){const a=At(r),o=a.ru.get(t),u=a.iu.get(o.targetId);if(u.length>1)return a.iu.set(o.targetId,u.filter(f=>!hh(f,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Zm(a.remoteStore,o.targetId),Em(a,o.targetId)}).catch(Zs)):(Em(a,o.targetId),await ym(a.localStore,o.targetId,!0))}async function L2(r,t){const n=At(r),a=n.ru.get(t),o=n.iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(n.remoteStore,a.targetId))}async function U2(r,t,n){const a=F2(r);try{const o=await function(f,m){const p=At(f),y=we.now(),E=m.reduce((P,x)=>P.add(x.key),Vt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let x=Gi(),K=Vt();return p.Cs.getEntries(P,E).next(H=>{x=H,x.forEach(($,it)=>{it.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,x)).next(H=>{b=H;const $=[];for(const it of m){const tt=JC(it,b.get(it.key).overlayedDocument);tt!=null&&$.push(new Lr(it.key,tt,D0(tt.value.mapValue),On.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,$,m)}).next(H=>{S=H;const $=H.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(P,H.batchId,$)})}).then(()=>({batchId:S.batchId,changes:B0(b)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.uu[f.currentUser.toKey()];y||(y=new ae(Rt)),y=y.insert(m,p),f.uu[f.currentUser.toKey()]=y}(a,o.batchId,n),await Ql(a,o.changes),await _h(a.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function bT(r,t){const n=At(r);try{const a=await $I(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ht(f.tu,14607):o.removedDocuments.size>0&&(Ht(f.tu,42227),f.tu=!1))}),await Ql(n,a,t)}catch(a){await Zs(a)}}function iE(r,t,n){const a=At(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.Ra)S.ga(m)&&(y=!0)}),y&&ip(p)}(a.eventManager,t),o.length&&a.nu.Q_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function k2(r,t,n){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",n);const o=a._u.get(t),u=o&&o.key;if(u){let f=new ae(mt.comparator);f=f.insert(u,Ye.newNoDocument(u,Tt.min()));const m=Vt().add(u),p=new ph(Tt.min(),new Map,new ae(Rt),f,m);await bT(a,p),a.ou=a.ou.remove(u),a._u.delete(t),ap(a)}else await ym(a.localStore,t,!1).then(()=>Em(a,t,n)).catch(Zs)}async function z2(r,t){const n=At(r),a=t.batch.batchId;try{const o=await XI(n.localStore,t);RT(n,a,null),wT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Ql(n,o)}catch(o){await Zs(o)}}async function B2(r,t,n){const a=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Ht(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);RT(a,t,n),wT(a,t),a.sharedClientState.updateMutationState(t,"rejected",n),await Ql(a,o)}catch(o){await Zs(o)}}function wT(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function RT(r,t,n){const a=At(r);let o=a.uu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),a.uu[a.currentUser.toKey()]=o}}function Em(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.iu.get(t))r.ru.delete(a),n&&r.nu.Tu(a,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(a=>{r.au.containsKey(a)||CT(r,a)})}function CT(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Zm(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),ap(r))}function rE(r,t,n){for(const a of n)a instanceof TT?(r.au.addReference(a.key,t),q2(r,a)):a instanceof AT?(ot(rp,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,t),r.au.containsKey(a.key)||CT(r,a.key)):_t(19791,{Iu:a})}function q2(r,t){const n=t.key,a=n.path.canonicalString();r.ou.get(n)||r.su.has(a)||(ot(rp,"New document in limbo: "+n),r.su.add(a),ap(r))}function ap(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new mt(te.fromString(t)),a=r.lu.next();r._u.set(a,new O2(n)),r.ou=r.ou.insert(n,a),fT(r.remoteStore,new Sr(si(qm(n.path)),a,"TargetPurposeLimboResolution",lh.le))}}async function Ql(r,t,n){const a=At(r),o=[],u=[],f=[];a.ru.isEmpty()||(a.ru.forEach((m,p)=>{f.push(a.Pu(p,t,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const b=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Xm.Ps(p.targetId,y);u.push(b)}}))}),await Promise.all(f),a.nu.Q_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(y,S=>J.forEach(S.ls,P=>E.persistence.referenceDelegate.addReference(b,S.targetId,P)).next(()=>J.forEach(S.hs,P=>E.persistence.referenceDelegate.removeReference(b,S.targetId,P)))))}catch(b){if(!Ws(b))throw b;ot($m,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const P=E.Ss.get(S),x=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(x);E.Ss=E.Ss.insert(S,K)}}}(a.localStore,u))}async function j2(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){ot(rp,"User change. New user:",t.toKey());const a=await lT(n.localStore,t);n.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new lt(W.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ql(n,a.Ms)}}function H2(r,t){const n=At(r),a=n._u.get(t);if(a&&a.tu)return Vt().add(a.key);{let o=Vt();const u=n.iu.get(t);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function IT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=H2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k2.bind(null,t),t.nu.Q_=R2.bind(null,t.eventManager),t.nu.Tu=C2.bind(null,t.eventManager),t}function F2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=z2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=B2.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return YI(this.persistence,new GI,t.initialUser,this.serializer)}Ru(t){return new oT(Ym.Ei,this.serializer)}Au(t){return new e2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class G2 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Ht(this.persistence.referenceDelegate instanceof $c,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new OI(a,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new oT(a=>$c.Ei(a,n),this.serializer)}}class Tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>iE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),await S2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new w2}()}createDatastore(t){const n=gh(t.databaseInfo.databaseId),a=function(u){return new s2(u)}(t.databaseInfo);return function(u,f,m,p){return new c2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,a,n)}createRemoteStore(t){return function(a,o,u,f,m){return new f2(a,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Zv.C()?new Zv:new n2}())}createSyncEngine(t,n){return function(o,u,f,m,p,y,E){const b=new N2(o,u,f,m,p,y);return E&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=At(o);ot(Ca,"RemoteStore shutting down."),u.aa.add(5),await Gl(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class Q2{constructor(t,n,a,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=v0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ot(xr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ot(xr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const a=np(n,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(xr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await lT(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function aE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await K2(r);ot(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(a=>Jv(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>Jv(t.remoteStore,o)),r._onlineComponents=t}async function K2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(xr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await Kd(r,new Wc)}}else ot(xr,"Using default OfflineComponentProvider"),await Kd(r,new G2(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(xr,"Using user provided OnlineComponentProvider"),await aE(r,r._uninitializedComponentsProvider._online)):(ot(xr,"Using default OnlineComponentProvider"),await aE(r,new Tm))),r._onlineComponents}function Y2(r){return OT(r).then(t=>t.syncEngine)}async function NT(r){const t=await OT(r),n=t.eventManager;return n.onListen=V2.bind(null,t.syncEngine),n.onUnlisten=P2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=M2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=L2.bind(null,t.syncEngine),n}function X2(r,t,n={}){const a=new qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new DT({next:S=>{E.yu(),f.enqueueAndForget(()=>vT(u,b));const P=S.docs.has(m);!P&&S.fromCache?y.reject(new lt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&p&&p.source==="server"?y.reject(new lt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ET(qm(m.path),E,{includeMetadataChanges:!0,Fa:!0});return _T(u,b)}(await NT(r),r.asyncQueue,t,n,a)),a.promise}function $2(r,t,n={}){const a=new qi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new DT({next:S=>{E.yu(),f.enqueueAndForget(()=>vT(u,b)),S.fromCache&&p.source==="server"?y.reject(new lt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ET(m,E,{includeMetadataChanges:!0,Fa:!0});return _T(u,b)}(await NT(r),r.asyncQueue,t,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,t,n){if(!n)throw new lt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Z2(r,t,n,a){if(t===!0&&a===!0)throw new lt(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!mt.isDocumentKey(r))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){if(mt.isDocumentKey(r))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(r);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firestore.googleapis.com",uE=!0;class cE{constructor(t){var n,a;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=uE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:uE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<II)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Z2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,n,a,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new aC;switch(a.type){case"firstParty":return new uC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,zE("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=sE.get(n);a&&(ot("ComponentProvider","Removing Datastore"),sE.delete(n),a.terminate())}(this),Promise.resolve()}}function W2(r,t,n,a={}){var o;r=Bn(r,Eh);const u=ih(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;f.host!==xT&&f.host!==p&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:a});if(!ba(y,m)&&(r._setSettings(y),u&&(db(`https://${p}`),zE("Firestore",!0)),a.mockUserToken)){let E,b;if(typeof a.mockUserToken=="string")E=a.mockUserToken,b=Ke.MOCK_USER;else{E=mb(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(S)}r._authCredentials=new sC(new y0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ma(this.firestore,t,this._query)}}class Je{constructor(t,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}}class Ir extends Ma{constructor(t,n,a){super(t,n,qm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new mt(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function wD(r,t,...n){if(r=tn(r),MT("collection","path",t),r instanceof Eh){const a=te.fromString(t,...n);return lE(a),new Ir(r,null,a)}{if(!(r instanceof Je||r instanceof Ir))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...n));return lE(a),new Ir(r.firestore,null,a)}}function J2(r,t,...n){if(r=tn(r),arguments.length===1&&(t=v0.newId()),MT("doc","path",t),r instanceof Eh){const a=te.fromString(t,...n);return oE(a),new Je(r,null,new mt(a))}{if(!(r instanceof Je||r instanceof Ir))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...n));return oE(a),new Je(r.firestore,r instanceof Ir?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new cT(this,"async_queue_retry"),this.ju=()=>{const a=Qd();a&&ot(hE,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const n=Qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new qi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Ws(t))throw t;ot(hE,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,Fi("INTERNAL UNHANDLED ERROR: ",dE(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=n,n}enqueueAfterDelay(t,n,a){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=ep.createAndSchedule(this,t,n,a,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&_t(47125,{ec:dE(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function dE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class xa extends Eh{constructor(t,n,a,o){super(t,n,a,o),this.type="firestore",this._queue=new fE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fE(t),this._firestoreClient=void 0,await t}}}function tD(r,t){const n=typeof r=="object"?r:Dw(),a=typeof r=="string"?r:Fc,o=HE(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=cb("firestore");u&&W2(o,...u)}return o}function sp(r){if(r._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eD(r),r._firestoreClient}function eD(r){var t,n,a;const o=r._freezeSettings(),u=function(m,p,y,E){return new bC(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,VT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Q2(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gs(je.fromBase64String(t))}catch(n){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gs(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class iD{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return this.fieldMask!==null?new Lr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hl(t,this.data,n,this.fieldTransforms)}}class PT{constructor(t,n,a){this.data=t,this.fieldMask=n,this.fieldTransforms=a}toMutation(t,n){return new Lr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{oc:r})}}class Ah{constructor(t,n,a,o,u,f){this.settings=t,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Ah(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o.lc(t),o}hc(t){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:a,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Jc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(LT(this.oc)&&nD.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class rD{constructor(t,n,a){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=a||gh(t)}dc(t,n,a,o=!1){return new Ah({oc:t,methodName:n,Ec:a,path:qe.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(r){const t=r._freezeSettings(),n=gh(r._databaseId);return new rD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function UT(r,t,n,a,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,n,o);hp("Data must be an object, but it was:",f,a);const m=zT(a,f);let p,y;if(u.merge)p=new gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=Am(t,b,n);if(!f.contains(S))throw new lt(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);qT(E,S)||E.push(S)}p=new gn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new iD(new sn(m),p,y)}class bh extends Kl{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function kT(r,t,n){return new Ah({oc:3,Ec:t.settings.Ec,methodName:r._methodName,cc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class up extends Kl{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=kT(this,t,!0),a=this.Ac.map(u=>Pa(u,n)),o=new qs(a);return new K0(t.path,o)}isEqual(t){return t instanceof up&&ba(this.Ac,t.Ac)}}class cp extends Kl{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=kT(this,t,!0),a=this.Ac.map(u=>Pa(u,n)),o=new js(a);return new K0(t.path,o)}isEqual(t){return t instanceof cp&&ba(this.Ac,t.Ac)}}function aD(r,t,n,a){const o=r.dc(1,t,n);hp("Data must be an object, but it was:",o,a);const u=[],f=sn.empty();Pr(a,(p,y)=>{const E=fp(t,p,n);y=tn(y);const b=o.hc(E);if(y instanceof bh)u.push(E);else{const S=Pa(y,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new gn(u);return new PT(f,m,o.fieldTransforms)}function sD(r,t,n,a,o,u){const f=r.dc(1,t,n),m=[Am(t,a,n)],p=[o];if(u.length%2!=0)throw new lt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Am(t,u[S])),p.push(u[S+1]);const y=[],E=sn.empty();for(let S=m.length-1;S>=0;--S)if(!qT(y,m[S])){const P=m[S];let x=p[S];x=tn(x);const K=f.hc(P);if(x instanceof bh)y.push(P);else{const H=Pa(x,K);H!=null&&(y.push(P),E.set(P,H))}}const b=new gn(y);return new PT(E,b,f.fieldTransforms)}function oD(r,t,n,a=!1){return Pa(n,r.dc(a?4:3,t))}function Pa(r,t){if(BT(r=tn(r)))return hp("Unsupported field value:",t,r),zT(r,t);if(r instanceof Kl)return function(a,o){if(!LT(o.oc))throw o.Tc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let p=Pa(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(a,o){if((a=tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return KC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=we.fromDate(a);return{timestampValue:Xc(o.serializer,u)}}if(a instanceof we){const u=new we(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,u)}}if(a instanceof op)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gs)return{bytesValue:J0(o.serializer,a._byteString)};if(a instanceof Je){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof lp)return function(f,m){return{mapValue:{fields:{[C0]:{stringValue:I0},[Gc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Tc("VectorValues must only contain numeric values.");return jm(m.serializer,y)})}}}}}}(a,o);throw o.Tc(`Unsupported field value: ${vh(a)}`)}(r,t)}function zT(r,t){const n={};return T0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(r,(a,o)=>{const u=Pa(o,t.uc(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function BT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof op||r instanceof Gs||r instanceof Je||r instanceof Kl||r instanceof lp)}function hp(r,t,n){if(!BT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=vh(n);throw a==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+a)}}function Am(r,t,n){if((t=tn(t))instanceof Th)return t._internalPath;if(typeof t=="string")return fp(r,t);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const lD=new RegExp("[~\\*/\\[\\]]");function fp(r,t,n){if(t.search(lD)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Th(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jc(r,t,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new lt(W.INVALID_ARGUMENT,m+r+p)}function qT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n,a,o,u){this._firestore=t,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(wh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uD extends jT{data(){return super.data()}}function wh(r,t){return typeof t=="string"?fp(r,t):t instanceof Th?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dp{}class HT extends dp{}function RD(r,t,...n){let a=[];t instanceof dp&&a.push(t),a=a.concat(n),function(u){const f=u.filter(p=>p instanceof mp).length,m=u.filter(p=>p instanceof Rh).length;if(f>1||f>0&&m>0)throw new lt(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Rh extends HT{constructor(t,n,a){super(),this._field=t,this._op=n,this._value=a,this.type="where"}static _create(t,n,a){return new Rh(t,n,a)}_apply(t){const n=this._parse(t);return FT(t._query,n),new Ma(t.firestore,t.converter,hm(t._query,n))}_parse(t){const n=Sh(t.firestore);return function(u,f,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){pE(b,E);const x=[];for(const K of b)x.push(mE(p,u,K));S={arrayValue:{values:x}}}else S=mE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||pE(b,E),S=oD(m,f,b,E==="in"||E==="not-in");return ve.create(y,E,S)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function CD(r,t,n){const a=t,o=wh("where",r);return Rh._create(o,a,n)}class mp extends dp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new mp(t,n)}_parse(t){const n=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)FT(f,p),f=hm(f,p)}(t._query,n),new Ma(t.firestore,t.converter,hm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pp extends HT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new pp(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new lt(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(u,f)}(t._query,this._field,this._direction);return new Ma(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Js(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function ID(r,t="asc"){const n=t,a=wh("orderBy",r);return pp._create(a,n)}function mE(r,t,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new lt(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L0(t)&&n.indexOf("/")!==-1)throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=t.path.child(te.fromString(n));if(!mt.isDocumentKey(a))throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Dv(r,new mt(a))}if(n instanceof Je)return Dv(r,n._key);throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function pE(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FT(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class hD{convertValue(t,n="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const a={};return Pr(t,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(t){var n,a,o;const u=(o=(a=(n=t.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new lp(u)}convertGeoPoint(t){return new op(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(t,n){switch(n){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const n=Or(t);return new we(n.seconds,n.nanos)}convertDocumentKey(t,n){const a=te.fromString(t);Ht(aT(a),9688,{name:t});const o=new Ml(a.get(1),a.get(3)),u=new mt(a.popFirst(5));return o.isEqual(n)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class QT extends jT{constructor(t,n,a,o,u,f){super(t,n,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const a=this._document.data.field(wh("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Mc extends QT{data(t={}){return super.data(t)}}class fD{constructor(t,n,a,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(a=>{t.call(n,new Mc(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Mc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(r){r=Bn(r,Je);const t=Bn(r.firestore,xa);return X2(sp(t),r._key).then(n=>mD(t,r,n))}class KT extends hD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function OD(r){r=Bn(r,Ma);const t=Bn(r.firestore,xa),n=sp(t),a=new KT(t);return cD(r._query),$2(n,r._query).then(o=>new fD(t,a,r,o))}function ND(r,t,n){r=Bn(r,Je);const a=Bn(r.firestore,xa),o=GT(r.converter,t,n);return Ch(a,[UT(Sh(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,On.none())])}function VD(r,t,n,...a){r=Bn(r,Je);const o=Bn(r.firestore,xa),u=Sh(o);let f;return f=typeof(t=tn(t))=="string"||t instanceof Th?sD(u,"updateDoc",r._key,t,n,a):aD(u,"updateDoc",r._key,t),Ch(o,[f.toMutation(r._key,On.exists(!0))])}function MD(r){return Ch(Bn(r.firestore,xa),[new Hm(r._key,On.none())])}function xD(r,t){const n=Bn(r.firestore,xa),a=J2(r),o=GT(r.converter,t);return Ch(n,[UT(Sh(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,On.exists(!1))]).then(()=>a)}function Ch(r,t){return function(a,o){const u=new qi;return a.asyncQueue.enqueueAndForget(async()=>U2(await Y2(a),o,u)),u.promise}(sp(r),t)}function mD(r,t,n){const a=n.docs.get(t._key),o=new KT(r);return new QT(r,o,t._key,a,new vl(n.hasPendingWrites,n.fromCache),t.converter)}function PD(...r){return new up("arrayUnion",r)}function LD(...r){return new cp("arrayRemove",r)}(function(t,n=!0){(function(o){$s=o})(rh),Ps(new wa("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new xa(new oC(a.getProvider("auth-internal")),new cC(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Rr(yv,_v,t),Rr(yv,_v,"esm2017")})();const pD={apiKey:"AIzaSyAu5doRHONhFnxVGRQL8V2G7qA1Rtza7vo",authDomain:"kirjahylly-96b27.firebaseapp.com",projectId:"kirjahylly-96b27",storageBucket:"kirjahylly-96b27.firebasestorage.app",messagingSenderId:"278354228484",appId:"1:278354228484:web:174dc5edfbabb843f14c51"},YT=FE(pD),UD=tD(YT),gE=IR(YT,{persistence:[JR]}),yE=Y.lazy(()=>Qs(()=>import("./CountryList-CmipyOk7.js"),__vite__mapDeps([0,1,2]))),gD=Y.lazy(()=>Qs(()=>import("./Register-CHteZWlq.js"),[])),_E=Y.lazy(()=>Qs(()=>import("./Login-BeRyUt49.js"),__vite__mapDeps([3,4]))),yD=Y.lazy(()=>Qs(()=>import("./CountryDetail-BdBuW9J1.js"),__vite__mapDeps([5,1,6]))),_D=Y.lazy(()=>Qs(()=>import("./VisitedCountries-CobMbDhk.js"),__vite__mapDeps([7,6,1]))),vD=Y.lazy(()=>Qs(()=>import("./WishlistCountries-DSAl4Xmr.js"),__vite__mapDeps([8,6,1])));function ED(){const[r,t]=Y.useState(null),[n,a]=Y.useState(!1);return Y.useEffect(()=>{const o=qR(gE,u=>{t(u),a(!0)});return()=>o()},[]),n?Mt.jsx(G1,{children:r?Mt.jsxs(Mt.Fragment,{children:[Mt.jsxs("nav",{style:{position:"fixed",top:0,left:0,width:"100%",background:"#185a9d",color:"white",zIndex:1e3,padding:"1rem",boxShadow:"0 2px 8px rgba(0,0,0,0.07)",display:"flex",gap:"1rem",alignItems:"center",fontWeight:500},children:[Mt.jsx(El,{to:"/countries",style:{color:"white",textDecoration:"none",fontSize:18},children:"Maat"}),Mt.jsx(El,{to:"/visited",style:{color:"white",textDecoration:"none",fontSize:18},children:"Kydyt maat"}),Mt.jsx(El,{to:"/wishlist",style:{color:"white",textDecoration:"none",fontSize:18},children:"Toivelista"}),Mt.jsx("div",{className:"nav-spacer",style:{width:32}}),Mt.jsx("button",{onClick:()=>gE.signOut(),style:{background:"#e74c3c",color:"white",marginRight:20},children:"Kirjaudu ulos"})]}),Mt.jsx("div",{style:{height:68}}),Mt.jsx(Y.Suspense,{fallback:Mt.jsx("div",{style:{minHeight:350,display:"flex",alignItems:"center",justifyContent:"center"},children:"Ladataan..."}),children:Mt.jsxs(j_,{children:[Mt.jsx(ki,{path:"/countries",element:Mt.jsx(yE,{})}),Mt.jsx(ki,{path:"/country/:cca3",element:Mt.jsx(yD,{})}),Mt.jsx(ki,{path:"/visited",element:Mt.jsx(_D,{})}),Mt.jsx(ki,{path:"/wishlist",element:Mt.jsx(vD,{})}),Mt.jsx(ki,{path:"*",element:Mt.jsx(yE,{})})]})})]}):Mt.jsx(Y.Suspense,{fallback:Mt.jsx("div",{style:{minHeight:350,display:"flex",alignItems:"center",justifyContent:"center"},children:"Ladataan..."}),children:Mt.jsxs(j_,{children:[Mt.jsx(ki,{path:"/",element:Mt.jsx(_E,{})}),Mt.jsx(ki,{path:"/register",element:Mt.jsx(gD,{})}),Mt.jsx(ki,{path:"*",element:Mt.jsx(_E,{})})]})})}):Mt.jsx("div",{style:{minHeight:350,display:"flex",alignItems:"center",justifyContent:"center"},children:"Ladataan..."})}IS.createRoot(document.getElementById("root")).render(Mt.jsx(Y.StrictMode,{children:Mt.jsx(ED,{})}));export{El as L,we as T,gE as a,wD as b,AD as c,xD as d,J2 as e,UD as f,OD as g,VD as h,MD as i,Mt as j,TD as k,DD as l,LD as m,ND as n,ID as o,PD as p,RD as q,Y as r,SD as s,s1 as u,CD as w};
