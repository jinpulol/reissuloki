import{r as i,a as p,j as e,L as j}from"./index-CQblYSe4.js";import{g as f}from"./userCountryService-DUWLmqOo.js";import{g as x}from"./countryService-BphEq_ek.js";const v=()=>{const[r,m]=i.useState([]),[d,c]=i.useState(!0),[l,o]=i.useState(null),a=p.currentUser;return i.useEffect(()=>{(async()=>{c(!0),o(null);try{if(a){const t=await f(a),u=(await x()).filter(n=>t.visited.includes(n.cca3));m(u.sort((n,h)=>n.name.common.localeCompare(h.name.common)))}}catch{o("Käytyjen maiden hakeminen epäonnistui.")}finally{c(!1)}})()},[a]),a?d?e.jsx("p",{children:"Ladataan käytyjä maita..."}):l?e.jsx("p",{style:{color:"red"},children:l}):e.jsxs("div",{className:"country-list-container",children:[e.jsx("h1",{children:"Käymäni maat"}),r.length===0?e.jsx("p",{children:"Et ole vielä merkinnyt käytyjä maita."}):e.jsx("div",{className:"country-grid",children:r.map(s=>{var t;return e.jsxs(j,{to:`/country/${s.cca3}`,className:"country-card",children:[e.jsx("img",{src:s.flags.svg,alt:`Lippu: ${s.name.common}`,loading:"lazy"}),e.jsxs("div",{className:"card-content",children:[e.jsx("h2",{children:s.name.common}),e.jsxs("p",{children:["Pääkaupunki: ",((t=s.capital)==null?void 0:t[0])||"Ei tietoa"]}),e.jsxs("p",{children:["Väkiluku: ",s.population.toLocaleString("fi-FI")]}),e.jsxs("p",{children:["Maanosa: ",s.region]})]})]},s.cca3)})})]}):e.jsx("p",{children:"Kirjaudu sisään nähdäksesi käydyt maat."})};export{v as default};
