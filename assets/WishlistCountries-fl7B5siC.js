import{r as i,g as p,j as s,L as f}from"./index-CL9d_0sK.js";import{g as x}from"./userCountryService-DxlmJTsJ.js";import{g as j}from"./countryService-BphEq_ek.js";import"./firebaseConfig-Db1l8lSu.js";const C=()=>{const[r,m]=i.useState([]),[u,l]=i.useState(!0),[o,c]=i.useState(null),a=p().currentUser;return i.useEffect(()=>{(async()=>{l(!0),c(null);try{if(a){const e=await x(a),d=(await j()).filter(n=>e.wishlist.includes(n.cca3));m(d.sort((n,h)=>n.name.common.localeCompare(h.name.common)))}}catch{c("Toivelistan hakeminen epäonnistui.")}finally{l(!1)}})()},[a]),a?u?s.jsx("p",{children:"Ladataan toivelistan maita..."}):o?s.jsx("p",{style:{color:"red"},children:o}):s.jsxs("div",{className:"country-list-container",children:[s.jsx("h1",{children:"Haluan matkustaa tänne"}),r.length===0?s.jsx("p",{children:"Et ole vielä lisännyt maita toivelistalle."}):s.jsx("div",{className:"country-grid",children:r.map(t=>{var e;return s.jsxs(f,{to:`/country/${t.cca3}`,className:"country-card",children:[s.jsx("img",{src:t.flags.svg,alt:`Lippu: ${t.name.common}`,loading:"lazy"}),s.jsxs("div",{className:"card-content",children:[s.jsx("h2",{children:t.name.common}),s.jsxs("p",{children:["Pääkaupunki: ",((e=t.capital)==null?void 0:e[0])||"Ei tietoa"]}),s.jsxs("p",{children:["Väkiluku: ",t.population.toLocaleString("fi-FI")]}),s.jsxs("p",{children:["Maanosa: ",t.region]})]})]},t.cca3)})})]}):s.jsx("p",{children:"Kirjaudu sisään nähdäksesi toivelistan maat."})};export{C as default};
