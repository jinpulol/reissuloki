import{r as i,g as p,j as t,L as j}from"./index-CL9d_0sK.js";import{g as f}from"./userCountryService-DxlmJTsJ.js";import{g as x}from"./countryService-BphEq_ek.js";import"./firebaseConfig-Db1l8lSu.js";const C=()=>{const[r,m]=i.useState([]),[d,c]=i.useState(!0),[l,o]=i.useState(null),a=p().currentUser;return i.useEffect(()=>{(async()=>{c(!0),o(null);try{if(a){const s=await f(a),u=(await x()).filter(n=>s.visited.includes(n.cca3));m(u.sort((n,h)=>n.name.common.localeCompare(h.name.common)))}}catch{o("Käytyjen maiden hakeminen epäonnistui.")}finally{c(!1)}})()},[a]),a?d?t.jsx("p",{children:"Ladataan käytyjä maita..."}):l?t.jsx("p",{style:{color:"red"},children:l}):t.jsxs("div",{className:"country-list-container",children:[t.jsx("h1",{children:"Käymäni maat"}),r.length===0?t.jsx("p",{children:"Et ole vielä merkinnyt käytyjä maita."}):t.jsx("div",{className:"country-grid",children:r.map(e=>{var s;return t.jsxs(j,{to:`/country/${e.cca3}`,className:"country-card",children:[t.jsx("img",{src:e.flags.svg,alt:`Lippu: ${e.name.common}`,loading:"lazy"}),t.jsxs("div",{className:"card-content",children:[t.jsx("h2",{children:e.name.common}),t.jsxs("p",{children:["Pääkaupunki: ",((s=e.capital)==null?void 0:s[0])||"Ei tietoa"]}),t.jsxs("p",{children:["Väkiluku: ",e.population.toLocaleString("fi-FI")]}),t.jsxs("p",{children:["Maanosa: ",e.region]})]})]},e.cca3)})})]}):t.jsx("p",{children:"Kirjaudu sisään nähdäksesi käydyt maat."})};export{C as default};
